{"getLeaveData":{"filter":" {$workforceUserId} = {@workforceUserId}","models":["workforceLeave","listOptionAnswer"],"connectors":[{"exitPortType":"NextStep","nodeId":"getOverTimeData"}],"columns":{"workforceLeaveRecver":"workforceLeave.recver","workforceLeaveNotes":"workforceLeave.notes","workforeLeaveUnAssignTasks":"workforceLeave.unassignTasks","workforceLeaveId":"workforceLeave.id","workforceLeaveEndDate":"workforceLeave.endDate","workforceLeaveHoursType":"workforceLeave.hoursType","listOptionAnswerAnswerOptionText":"listOptionAnswer.answerOptionText","workforceLeaveReasonListOptionAnswerId":"workforceLeave.reasonListOptionAnswerId","workforceUserId":"workforceLeave.workforceUserId","workforceLeaveStartDate":"workforceLeave.startDate"},"name":"getLeaveData","description":"getLeaveData","orderBy":"workforceLeaveStartDate DESC","inputVarMap":{"workforceUserId":"workforceUserId"},"outputVarMap":{"data":"leaveData"},"nodeType":"QUERY","getCount":true,"translate":true},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"multiDecisionNode"}],"name":"start","description":"start","nodeType":"START"},"processWebUserData":{"connectors":[{"exitPortType":"NextStep","nodeId":"getShiftData"}],"contextChangePermitted":true,"name":"processWebUserData","description":"processWebUserData","processRule":"{if(typeof contextVar.workforceData !== 'undefined' && contextVar.workforceData.length > 0){contextVar.calendarId=contextVar.workforceData[0].workforceCalendarId;}}","nodeType":"PROCESS"},"workflowNodes":["start","multiDecisionNode","getWebUserData","processWebUserData","getShiftData","getWorkforceRoleData","getWorkGroupData","fetchWeeklyScheduleData","getPublicHolidayData","getLeaveData","getOverTimeData","end"],"getPublicHolidayData":{"filter":"{$calendarHolidayId} = {@calendarId}","models":["calendarHoliday","holiday"],"connectors":[{"exitPortType":"NextStep","nodeId":"getLeaveData"}],"columns":{"calendarHolidayId":"calendarHoliday.calendarId","holidayRecver":"holiday.recver","holidayName":"holiday.name","holidayDate":"holiday.date","holidayId":"holiday.id"},"name":"getPublicHolidayData","description":"getPublicHolidayData","inputVarMap":{"calendarId":"calendarId"},"outputVarMap":{"data":"calendarHolidayData"},"nodeType":"QUERY","getCount":true},"getWebUserData":{"filter":"{$workforceUserId} = {@workforceUserId}","models":["User","workforce","calendar","ZStatus"],"connectors":[{"exitPortType":"NextStep","nodeId":"processWebUserData"}],"columns":{"workforceCountry":"workforce.country","workforceCity":"workforce.city","workforceModifiedDate":"workforce.modifiedDate","userStatus":"User.status","workforceAddress":"workforce.address","userPhoneNumber":"User.phoneNumber","workforceRecver":"workforce.recver","workforceUserId":"workforce.userId","userName":"User.name","workforceStatusId":"workforce.statusId","workforcePostalCode":"workforce.postalCode","workforceState":"workforce.state","statusNameColor":"ZStatus.colorCode","calendarName":"Calendar.name","workforceRoleId":"workforce.role","statusName":"ZStatus.name","userEmail":"User.emailId","workforceCalendarId":"workforce.calendarId"},"name":"getWebUserData","outerJoinOnModel":"workforce","description":"getWebUserData","inputVarMap":{"workforceUserId":"workforceUserId"},"links":{"calendar":"workforce","User":"workforce","ZStatus":"workforce"},"outputVarMap":{"data":"workforceData"},"nodeType":"QUERY","getCount":true},"getShiftData":{"filter":"{$calendarCalendarType} ='shift'","models":["calendar"],"connectors":[{"exitPortType":"NextStep","nodeId":"getWorkforceRoleData"}],"columns":{"calendarName":"calendar.name","calendarId":"calendar.id","calendarCalendarType":"calendar.calendarType"},"name":"getShiftData","description":"getShiftData","distinct":true,"outputVarMap":{"data":"calendarList"},"nodeType":"QUERY","getCount":true},"multiDecisionNode":{"connectors":[{"condition":"contextVar.webUserAction ==='addInitial' || contextVar.webUserAction ==='add' ","exitPortType":"NextStep","nodeId":"getShiftData"},{"condition":"contextVar.webUserAction === 'edit' || contextVar.webUserAction === 'view' ","exitPortType":"NextStep","nodeId":"getWebUserData"},{"DefaultStep":true,"condition":"contextVar.subAction=== ''","exitPortType":"NextStep","nodeId":"end"}],"name":"multiDecisionNode","description":"multiDecisionNode","nodeType":"MULTIDECISION"},"getOverTimeData":{"filter":" {$workforceUserId} = {@workforceUserId}","models":["workforceOvertime"],"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"columns":{"workforceOvertimeStartDate":"workforceOvertime.startDate","workforceOvertimeRecver":"workforceOvertime.recver","workforceOvertimeId":"workforceOvertime.id","workforceOvertimeTotalTime":"CONCAT(ABS(TIMESTAMPDIFF(day,{$workforceOvertime.endDate},{$workforceOvertime.startDate})),' days ',ABS(MOD(TIMESTAMPDIFF(hour,{$workforceOvertime.endDate},{$workforceOvertime.startDate}),24)),' hours ',ABS(MOD(TIMESTAMPDIFF(minute,{$workforceOvertime.endDate},{$workforceOvertime.startDate}),60)),' min')","workforceUserId":"workforceOvertime.workforceUserId","workforceOvertimeEndDate":"workforceOvertime.endDate","workforceOvertimeNotes":"workforceOvertime.notes"},"name":"getOverTimeData","description":"getOverTimeData","orderBy":"workforceOvertimeStartDate DESC","inputVarMap":{"workforceUserId":"workforceUserId"},"outputVarMap":{"data":"overTimeData"},"nodeType":"QUERY","getCount":true},"fetchWeeklyScheduleData":{"connectors":[{"exitPortType":"NextStep","nodeId":"getPublicHolidayData"}],"contextChangePermitted":true,"processId":"settingsGeneralCalendarWeeklyScheduleFetchDataWF","name":"fetchWeeklyScheduleData","description":"fetchWeeklyScheduleData","inputVarMap":{"calendarId":"id"},"outputVarMap":{"calendarData":"calendarData"},"nodeType":"WORKFLOW"},"end":{"name":"end","description":"end","inputVarMap":{"workforceData":"workforceData","workGroup":"workGroup","workforceRoleList":"workforceRoleList","calendarList":"calendarList","calendarData":"calendarData","calendarHolidayData":"calendarHolidayData","leaveData":"leaveData","overTimeData":"overTimeData"},"outputVarMap":{"workforceData":"workforceData","workGroup":"workGroup","workforceRoleList":"workforceRoleList","calendarList":"calendarList","calendarData":"calendarData","calendarHolidayData":"calendarHolidayData","leaveData":"leaveData","overTimeData":"overTimeData"},"nodeType":"END"},"getWorkGroupData":{"filter":"{$workforceUserId}={@workforceUserId}","models":["workGroup","workforceWorkGroup"],"connectors":[{"exitPortType":"NextStep","nodeId":"fetchWeeklyScheduleData"}],"columns":{"workGroupName":"workGroup.name","workforceUserId":"workforceWorkGroup.workforceUserId","workGroupId":"workforceWorkGroup.workGroupId"},"name":"getWorkGroupData","description":"getWorkGroupData","distinct":true,"links":{"workGroup":"workforceWorkGroup"},"inputVarMap":{"workforceUserId":"workforceUserId"},"outputVarMap":{"data":"workGroup"},"nodeType":"QUERY","getCount":true},"getWorkforceRoleData":{"filter":"{$listOption.id}='workforceRole' AND {$listOptionAnswer.id} !='technician' ","models":["listOption","listOptionAnswer"],"connectors":[{"exitPortType":"NextStep","nodeId":"getWorkGroupData"}],"columns":{"listOptionAnswerId":"listOptionAnswer.id","workforceRole":"listOptionAnswer.answerOptionText"},"name":"getWorkforceRoleData","outerJoinOnModel":"listOption","description":"getWorkforceRoleData","distinct":true,"outputVarMap":{"data":"workforceRoleList"},"nodeType":"QUERY","getCount":true,"translate":true}}