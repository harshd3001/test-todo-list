{"isCalledFromPage":{"connectors":[{"exitPortType":"TrueStep","nodeId":"end"},{"exitPortType":"FalseStep","nodeId":"findNumberOfBatches"}],"name":"isCalledFromPage","description":"isCalledFromPage","processRule":"contextVar.calledFromPage === true","nodeType":"DECISION"},"fetchMoreAssetCategoryData":{"models":["assetCategory"],"connectors":[{"exitPortType":"NextStep","nodeId":"appendAssetCategory"}],"columns":{"name":"assetCategory.name","description":"assetCategory.description","id":"assetCategory.id"},"description":"Fetch stockUnit Details","orderBy":"orderBy","distinct":true,"inputVarMap":{"searchText":"searchText","assetCategoryIdList":"assetCategoryIdList","orderBy":"orderBy","assetCategoryModelFilter":"filter","batchSize":"batchSize","batchNumber":"batchNumber"},"nodeType":"QUERY","filter":"filter","name":"fetchMoreAssetCategoryData","outputVarMap":{"data":"appendAssetCategoryData"},"batchSize":"batchSize","getCount":true,"batchNumber":"batchNumber"},"workflowContext":{"customBatchSize":1000,"calledFromPage":true,"customBatchNumber":1},"areMoreAssetCategoryPresent":{"connectors":[{"exitPortType":"TrueStep","nodeId":"fetchMoreAssetCategoryData"},{"exitPortType":"FalseStep","nodeId":"end"}],"name":"areMoreAssetCategoryPresent","description":"areMoreAssetCategoryPresent","processRule":"contextVar.noOfBatches >= 2 && contextVar.noOfBatches >= contextVar.assetCategoryBatchNumber","nodeType":"DECISION"},"findNumberOfBatches":{"connectors":[{"exitPortType":"NextStep","nodeId":"areMoreAssetCategoryPresent"}],"contextChangePermitted":true,"name":"findNumberOfBatches","description":"findNumberOfBatches","processRule":"{contextVar.noOfBatches = Math.ceil(contextVar.totalAssetCategoryCount / contextVar.customBatchSize);contextVar.assetCategoryBatchNumber++;}","id":"findNumberOfBatches","nodeType":"PROCESS"},"appendAssetCategory":{"connectors":[{"exitPortType":"NextStep","nodeId":"areMoreAssetCategoryPresent"}],"contextChangePermitted":true,"name":"appendAssetCategory","description":"appendRequests","processRule":"if (Array.isArray(contextVar.appendAssetCategoryData)) { contextVar.assetCategoryData = contextVar.assetCategoryData.concat(contextVar.appendAssetCategoryData) } contextVar.assetCategoryBatchNumber++;","nodeType":"PROCESS"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"processInitialParameters"}],"name":"start","description":"Start","nodeType":"START"},"end":{"name":"end","description":"end","inputVarMap":{"assetCategoryData":"assetCategoryData","totalAssetCategoryCount":"count"},"outputVarMap":{"assetCategoryData":"assetCategoryData","count":"count"},"nodeType":"END"},"fetchAssetCategoryData":{"models":["assetCategory"],"connectors":[{"exitPortType":"NextStep","nodeId":"isCalledFromPage"}],"columns":{"name":"assetCategory.name","description":"assetCategory.description","id":"assetCategory.id"},"description":"Fetch assetCategory Details","orderBy":"orderBy","distinct":true,"inputVarMap":{"searchText":"searchText","assetCategoryIdList":"assetCategoryIdList","orderBy":"orderBy","assetCategoryModelFilter":"filter","batchSize":"batchSize","batchNumber":"batchNumber"},"nodeType":"QUERY","filter":"filter","name":"fetchAssetCategoryData","outputVarMap":{"data":"assetCategoryData","count":"totalAssetCategoryCount","batchNumber":"assetCategoryBatchNumber"},"batchSize":"batchSize","getCount":true,"batchNumber":"batchNumber"},"workflowNodes":["start","processInitialParameters","fetchAssetCategoryData","isCalledFromPage","findNumberOfBatches","areMoreAssetCategoryPresent","fetchMoreAssetCategoryData","appendAssetCategory","end"],"processInitialParameters":{"connectors":[{"exitPortType":"NextStep","nodeId":"fetchAssetCategoryData"}],"contextChangePermitted":true,"name":"processInitialParameters","description":"processInitialParameters","processRule":"{ if (typeof contextVar.assetCategoryFilter !== 'undefined' && contextVar.assetCategoryFilter !== '') { contextVar.assetCategoryModelFilter = contextVar.assetCategoryFilter; } else if (typeof contextVar.assetCategoryIdList !== 'undefined' && contextVar.assetCategoryIdList.length > 0) { contextVar.assetCategoryModelFilter = '{$assetCategory.id} IN {@assetCategoryIdList}'; contextVar.calledFromPage = false; } if (typeof contextVar.batchSize === 'undefined' || contextVar.batchSize === '') { contextVar.batchSize = contextVar.customBatchSize; contextVar.batchNumber = contextVar.customBatchNumber; contextVar.calledFromPage = false; } }","nodeType":"PROCESS","jsEngine":"es6"}}