{"pageContext":{},"actionOnLoad":["@actions.getWorkOrderCancelReasonList"],"localPageContext":true,"jslib":{"isSaveDisabled":"function(pageContext){return ( (typeof pageContext.workOrderCancelReason === 'undefined') || (pageContext.workOrderCancelReason === ''))}"},"header":{"leftData":{"children":[{"icon":"@iconlib.NavigationArrowBackGrey","actionOnClick":["@actions.openPreviousPanel"],"id":"back","type":"buttonIcon"}]},"children":[{"buttonType":"primary","actionOnClick":["@actions.fireProcessEvent","@actions.closePanel","@actions.refreshDataGrid"],"disabled":"@jslib.isSaveDisabled","id":"submit","type":"button","title":"@lang.['c15','Confirm']"},{"icon":"@iconlib.NavigationCloseGrey","actionOnClick":["@actions.closePanel","@actions.clearPageContext"],"id":"close","type":"buttonIcon"}],"title":"@lang.['cwo','Cancel Work Order']"},"body":{"children":[{"children":[{"options":"@pageContext.workOrderCancelReasonList","id":"workOrderCancelReason","optTitleKey":"listOptionAnswerOptionText","optValueKey":"listOptionAnswerOptionId","label":"@lang.['r5','Reason']","type":"select","title":"@lang.['r5','Reason']","value":"@pageContext.workOrderCancelReason","placeHolder":"@lang.['sr3','Select Reason']"},{"id":"workOrderCancelReasonNote","label":"@lang.['n2','Notes (Optional)']","type":"textarea","value":"@pageContext.workOrderCancelReasonNote","placeHolder":"@lang.['en4','Enter Notes']"}],"label":"","id":"workOrderCancelReason","type":"section"}]},"actions":[{"endPoint":"event/start","name":"fireProcessEvent","outputVarMap":{"data":"@pageContext.responseData"},"type":"api","actionDef":{"data":[{"eventId":"NCJHIL7VSE","contextVar":{"workOrder":[{"cancellationNotes":"@pageContext.workOrderCancelReasonNote","statusId":"workOrderCancelled","id":"@pageContext.workOrderId"}],"subAction":"cancelWorkOrder","workOrderReason":"@pageContext.workOrderCancelReason"}}]}},{"name":"getWorkOrderCancelReasonList","outputVarMap":{"data":"@pageContext.workOrderCancelReasonList"},"type":"query","actionDef":{"filter":"{$workOrderTypeId} = {@idFilter} ","models":["listOption","listOptionAnswer","workOrderType"],"inputs":{"idFilter":"@pageContext.workOrderWorkOrderTypeId"},"columns":{"workOrderTypeId":"workOrderType.id","listOptionAnswerRank":"listOptionAnswer.rank","listOptionAnswerOptionText":"listOptionAnswer.answerOptionText","listOptionAnswerOptionId":"listOptionAnswer.id"},"orderBy":"listOptionAnswerRank ASC","links":{"workOrderType":"listOption","listOption":"listOptionAnswer"},"getCount":true,"translate":true}},{"name":"clearPageContext","type":"clearPageContext"},{"name":"closePanel","type":"closePanel"},{"name":"refreshDataGrid","type":"refreshDataGrid"},{"name":"openPreviousPanel","type":"backPanel"}]}