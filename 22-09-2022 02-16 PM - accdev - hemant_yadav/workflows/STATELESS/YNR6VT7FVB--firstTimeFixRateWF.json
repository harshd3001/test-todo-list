{"processFtfr":{"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"contextChangePermitted":true,"name":"processFtfr","description":"Process average time to provide feature value","processRule":"{var low, high, techValue; var ftfrData = contextVar.ftfrData; var ftfrDataArr = []; if(contextVar.ftfrData != '' && typeof contextVar.ftfrData != undefined) { for(var i = 0; i < ftfrData.length; i++) { ftfrDataArr.push(parseInt(ftfrData[i].ftfr)); if(contextVar.techId == ftfrData[i].assignToUserId) { techValue = parseInt(ftfrData[i].ftfr); } } ftfrDataArr.sort(function (a, b) { return a - b; }); ftfrDataArr = ftfrDataArr.filter(function(obj) { return (obj != 0); }); low = avgTimeArr[0]; high = avgTimeArr[avgTimeArr.length - 1]; contextVar.featureValue = 5 - (5 * (techValue - low) / (high - low)); }}","id":"processFtfr","nodeType":"PROCESS"},"queryFtfr":{"filter":"{$status} = 'workOrderTaskCompleted'","models":["workOrderTask","User"],"connectors":[{"exitPortType":"NextStep","nodeId":"processFtfr"}],"columns":{"actualStartTime":"workOrderTask.actualStartTime","name":"User.name","ftfr":"( count({$workOrderTask.id})  - SUM({$workOrderTask.reopenCount})) / count({$workOrderTask.id})","assignToUserId":"workOrderTask.assignedToUserId","completedDate":"workOrderTask.completedDate","status":"workOrderTask.statusId"},"name":"queryFtfr","description":"Query first time fix rate","id":"queryFtfr","outputVarMap":{"data":"ftfrData"},"groupBy":"assignToUserId","nodeType":"QUERY"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"queryFtfr"}],"name":"start","description":"Start","nodeType":"START"},"end":{"name":"End","description":"end","inputVarMap":{"unassignedTask":"data"},"outputVarMap":{"unassignedTask":"data"},"nodeType":"END"},"workflowNodes":["start","queryFtfr","processFtfr","end"]}