{"processAppointmentWindowData":{"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"contextChangePermitted":true,"name":"processAppointmentWindowData","description":"processAppointmentWindowData","processRule":"{contextVar.appointmentWindowId = contextVar.data[0].id;}","nodeType":"PROCESS"},"multiDecisionNode":{"connectors":[{"condition":"(contextVar.subAction==='upsertAppointmentWindow')","exitPortType":"NextStep","nodeId":"isValidAppointmentWindow"},{"condition":"(contextVar.subAction==='deleteAppointmentWindow')","exitPortType":"NextStep","nodeId":"deleteAppointmentWindow"},{"DefaultStep":true,"condition":"contextVar.subAction===''","exitPortType":"NextStep","nodeId":"end"}],"name":"multiDecisionNode","description":"multiDecisionNode","nodeType":"MULTIDECISION"},"isValidAppointmentWindow":{"connectors":[{"exitPortType":"TrueStep","nodeId":"processAddTimeZoneIntoDates"},{"exitPortType":"FalseStep","nodeId":"end"}],"name":"isValidAppointmentWindow","description":"isValidAppointmentWindow","processRule":"(Array.isArray(contextVar.appointmentWindow) && contextVar.appointmentWindow.length > 0)","nodeType":"DECISION"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"multiDecisionNode"}],"name":"start","description":"Start","nodeType":"START"},"end":{"name":"End","description":"end","inputVarMap":{"appointmentWindowId":"appointmentWindowId"},"outputVarMap":{"appointmentWindowId":"appointmentWindowId"},"nodeType":"END"},"deleteAppointmentWindow":{"modelName":"appointmentWindow","connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"multirecord":true,"name":"deleteAppointmentWindow","description":"deleteAppointmentWindow","inputVarMap":{"appointmentWindow":"data"},"outputVarMap":{"data":"data"},"nodeType":"MODEL","operation":3},"processAddTimeZoneIntoDates":{"connectors":[{"exitPortType":"NextStep","nodeId":"upsertAppointmentWindow"}],"contextChangePermitted":true,"name":"processAddTimeZoneIntoDates","description":"processAddTimeZoneIntoDates","processRule":"{ if(contextVar.appointmentWindow[0].timeZoneOffset!='' && typeof contextVar.appointmentWindow[0].timeZoneOffset!='undefined'){ contextVar.appointmentWindow[0].startTime = JSON.stringify(new Date(new Date('2022-01-01 ' + contextVar.appointmentWindow[0].startTime).getTime() + contextVar.appointmentWindow[0].timeZoneOffset * 60000)).slice(12, 20); contextVar.appointmentWindow[0].endTime = JSON.stringify(new Date(new Date('2022-01-01 ' + contextVar.appointmentWindow[0].endTime).getTime() + contextVar.appointmentWindow[0].timeZoneOffset * 60000)).slice(12, 20); } }","nodeType":"PROCESS"},"workflowNodes":["start","multiDecisionNode","isValidAppointmentWindow","processAddTimeZoneIntoDates","upsertAppointmentWindow","processAppointmentWindowData","deleteAppointmentWindow","end"],"upsertAppointmentWindow":{"modelName":"appointmentWindow","connectors":[{"exitPortType":"NextStep","nodeId":"processAppointmentWindowData"}],"multirecord":true,"name":"upsertAppointmentWindow","description":"upsertAppointmentWindow","inputVarMap":{"appointmentWindow":"data"},"outputVarMap":{"data":"data"},"nodeType":"MODEL","operation":4}}