{"pageContext":{},"actionOnLoad":["@actions.initialData"],"jslib":{"dynamicHeaderText":"function(pageContext){ if(pageContext.manufacturerAction === 'add'){return '@lang.[\"anm\",\"Add New Manufacturer\"]'}else if(pageContext.manufacturerAction === 'edit'){return '@lang.[\"em\",\"Edit Manufacturer\"]'}}","isSaveDisabled":"function(pageContext){return (((pageContext.initialName === pageContext.manufacturerName) && (pageContext.initialDescription === pageContext.manufacturerDescription)) || (pageContext.manufacturerName===''))}","isActionAdd":"function(pageContext){if(pageContext.manufacturerAction === 'add'){return true;}}"},"header":{"children":[{"buttonType":"primary","actionOnClick":["@actions.setSubAction","@actions.fireProcessEvent","@actions.closePanel","@actions.clearPageContext","@actions.refreshDataGrid"],"disabled":"@jslib.isSaveDisabled","id":"submit","type":"button","title":"@lang.['s12','Save']"},{"icon":"@iconlib.NavigationCloseGrey","actionOnClick":["@actions.closePanel","@actions.clearPageContext"],"id":"close","type":"buttonIcon"}],"title":"@jslib.dynamicHeaderText"},"body":{"children":[{"children":[{"children":[{"children":[{"isRequired":true,"inputType":"text","id":"name","label":"@lang.['m','Manufacturer']","placeholder":"@lang.['emn','Enter manufacturer name']","type":"input","value":"@pageContext.manufacturerName"},{"id":"description","label":"@lang.['d7','Description (Optional)']","type":"textarea","value":"@pageContext.manufacturerDescription","placeHolder":"@lang.['ed1','Enter description']"}],"label":"@lang.['mi','Manufacturer Information']","id":"customerInfo","type":"section"}],"label":"@lang.['mi','Manufacturer Information']","type":"tab"},{"hidden":"@jslib.isActionAdd","children":[{"children":[{"label":"@lang.['ci1','Catalog Items']","id":"catalogDataGrid","type":"dataGrid","jsonDef":{"pageContextConfig":{"enable":true,"isPaginationReqd":false,"tableData":{"source":"@pageContext.catalogResponse"}},"isScrollAble":true,"searchAllowed":true,"searchEmptyScreen":{"image":"@iconlib.ActionsSearchError","contentValue":"@lang.['sysrcue','SORRY! YOUR SEARCH RESULTS CAME UP EMPTY ']","type":"noData"},"emptyScreen":{"image":"@iconlib.ActionsSearchEmpty","contentValue":"@lang.['ylieatm','YOUR LIST IS EMPTY AT THE MOMENT']","type":"noData"},"isSync":true,"tableHeader":[{"name":"@lang.['mn','Model Name']","options":{"sortOrder":"ASC","sortable":true,"showLabel":true},"key":"catalogName"},{"name":"@lang.['mn1','Model Number']","options":{"sortOrder":"ASC","sortable":true,"showLabel":true},"key":"catalogModelNumber"},{"name":"@lang.['tr','Tax Rate (%)']","options":{"sortOrder":"ASC","sortable":true,"showLabel":true},"key":"categoryTaxRate"},{"name":"@lang.['p','Price']","options":{"sortOrder":"ASC","sortable":true,"showLabel":true},"key":"catalogPrice"}],"dataToBeSent":{"filter":"{$catalogManufacturerId} = {@manufacturerId}","models":["catalog","category"],"columns":{"catalogName":"catalog.name","categoryTaxRate":"category.taxRate","catalogRecver":"catalog.recver","catalogPrice":"catalog.unitPrice","catalogId":"catalog.id","catalogCategoryId":"catalog.categoryId","catalogManufacturerId":"catalog.manufacturerId","catalogModelNumber":"catalog.modelNumber"},"inputs":{"manufacturerId":"@pageContext.manufacturerId"},"outerJoinOnModel":"catalog","orderBy":"catalogName ASC","links":{"catalog":"category"}},"dataSourceId":"query/read","header":{"subHeaderText":"@lang.['r','Records']","headerText":"@lang.['pa','Parts & Assets']"},"isSelectable":false,"updateAllowed":true,"actions":[],"searchKeys":["catalogName","catalogModelNumber","categoryTaxRate","catalogPrice"]}}],"localPageContext":true,"label":"","id":"datagridHard","type":"section","transparent":true}],"label":"@lang.['ci1','Catalog Items']","type":"tab"}],"id":"catalogTab","type":"tab"}]},"actions":[{"name":"setSubAction","type":"script","actionDef":"function(pageContext){ if (pageContext.manufacturerAction== 'edit' || pageContext.manufacturerAction == 'add') {pageContext.subAction = 'upsertManufacturer'}else if(pageContext.manufacturerAction == 'delete'){pageContext.subAction = 'deleteManufacturer'}}"},{"name":"initialData","type":"script","actionDef":"function(pageContext){ if (pageContext.manufacturerAction== 'edit') {pageContext.initialName = pageContext.manufacturerName; pageContext.initialDescription = pageContext.manufacturerDescription;}else if(pageContext.manufacturerAction == 'add'){pageContext.manufacturerDescription = ''; pageContext.manufacturerName='';} }"},{"endPoint":"event/start","name":"fireProcessEvent","outputVarMap":{"data":"@pageContext.responseData"},"type":"api","actionDef":{"data":[{"eventId":"billingCatalogManufacturerProcessEvent","contextVar":{"subAction":"@pageContext.subAction","manufacturer":{"recver":"@pageContext.manufacturerRecver","name":"@pageContext.manufacturerName","description":"@pageContext.manufacturerDescription","id":"@pageContext.manufacturerId"}}}]}},{"name":"refreshDataGrid","type":"refreshDataGrid"},{"name":"clearPageContext","type":"clearPageContext"},{"name":"closePanel","type":"closePanel"}]}