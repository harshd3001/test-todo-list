{"pageContext":{},"actionOnLoad":["@actions.getDefaultCalendar"],"localPageContext":true,"jslib":{"isSaveDisabled":"function(pageContext){if(typeof pageContext.defaultCalendarYesResponse != 'undefined' && pageContext.defaultCalendarYesResponse.length == 0){if(pageContext.selectedRowIds.length==0){return true;}else{return false;}}else if (typeof pageContext.defaultCalendarYesResponse != 'undefined' && pageContext.defaultCalendarYesResponse !='' &&pageContext.defaultCalendarYesResponse.length > 0){if(typeof pageContext.selectedRowIds[0].calendarId != 'undefined' && pageContext.selectedRowIds[0].calendarId != '' && typeof pageContext.defaultCalendarYesResponse[0].calendarId!='undefined' && pageContext.defaultCalendarYesResponse[0].calendarId != '' && pageContext.selectedRowIds[0].calendarId === pageContext.defaultCalendarYesResponse[0].calendarId){return true;}else{return false;}}}"},"header":{"children":[{"buttonType":"primary","actionOnClick":["@actions.getDefaultCalendar","@actions.processSelectedRowId","@actions.fireProcessEvent","@actions.closePanel","@actions.refreshDataGrid"],"disabled":"@jslib.isSaveDisabled","id":"submit","type":"button","title":"@lang.['s12','Save']"},{"icon":"@iconlib.NavigationCloseGrey","actionOnClick":["@actions.closePanel","@actions.clearPageContext","@actions.refreshDataGrid"],"id":"close","type":"buttonIcon"}],"title":"@lang.['dsw','Default Service Window']"},"body":{"children":[{"children":[{"id":"dataGridSidepanel","label":"@lang.['s16','Search']","type":"datagrid","jsonDef":{"rowsToSelect":{"filter":"{$calendarDefaultCalendar}=true","models":["calendar"],"columns":{"calendarId":"calendar.id","calendarRecver":"calendar.recver","calendarDefaultCalendar":"calendar.defaultCalendar"},"groupBy":"calendarId"},"dataSourceId":"query/read","isScrollAble":false,"searchAllowed":true,"searchEmptyScreen":{"image":"@iconlib.ActionsSearchError","contentValue":"@lang.['sysrcue','SORRY! YOUR SEARCH RESULTS CAME UP EMPTY ']","type":"noData"},"header":{"subHeaderText":"@lang.['r','Records']","headerText":"@lang.['sw','Service Windows']"},"emptyScreen":{"image":"@iconlib.ActionsSearchEmpty","contentValue":"@lang.['ylieatm','YOUR LIST IS EMPTY AT THE MOMENT']","type":"noData"},"singleSelect":true,"tableHeader":[{"name":"@lang.['i','id']","options":{"hidden":true,"showLabel":false},"key":"calendarId","primaryKey":true},{"name":"@lang.['n','Name']","options":{"sortOrder":"ASC","sortable":true,"showLabel":true},"key":"calendarName"},{"name":"@lang.['d','Description']","options":{"showLabel":true},"key":"calendarDescription"}],"dataToBeSent":{"filter":"{$calendarCalendarType}='serviceWindow'","models":["calendar"],"columns":{"calendarModifiedDate":"calendar.modifiedDate","calendarName":"calendar.name","calendarId":"calendar.id","calendarRecver":"calendar.recver","calendarDescription":"calendar.description","calendarCalendarType":"calendar.calendarType","calendarDefaultCalendar":"calendar.defaultCalendar"},"orderBy":"calendarName ASC","groupBy":"calendarId"},"searchKeys":["calendarName"]}}],"label":"","id":"calendarInfo","type":"section","transparent":true}]},"actions":[{"endPoint":"event/start","name":"fireProcessEvent","outputVarMap":{"data":"@pageContext.workFlowResult"},"type":"api","continueOnError":true,"actionDef":{"data":[{"eventId":"settingsGeneralCalendarProcessEvent","contextVar":{"subAction":"@pageContext.subAction","id":"@pageContext.selectedCalendarId","nonSelectedId":"@pageContext.defaultCalendarYesResponse[0].calendarId"}}]}},{"name":"closePanel","type":"closePanel"},{"isAsync":true,"name":"getDefaultCalendar","outputVarMap":{"data":"@pageContext.defaultCalendarYesResponse"},"type":"query","actionDef":{"filter":"{$calendarDefaultCalendar}=true","models":["calendar"],"columns":{"calendarId":"calendar.id","calendarRecver":"calendar.recver","calendarDefaultCalendar":"calendar.defaultCalendar"},"groupBy":"calendarId"}},{"name":"processSelectedRowId","type":"script","continueOnError":true,"actionDef":"function(pageContext){pageContext.selectedCalendarId = pageContext.selectedRowIds[0].calendarId; pageContext.calendarRecver = pageContext.selectedRowIds[0].calendarRecver;pageContext.subAction='editDefaultCalendar';}"},{"name":"clearPageContext","type":"clearPageContext"},{"name":"refreshDataGrid","type":"refreshDataGrid"}]}