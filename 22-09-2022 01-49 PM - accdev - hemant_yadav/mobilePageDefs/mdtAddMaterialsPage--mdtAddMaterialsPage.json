{"instance_nav":false,"footer":{"leftButton":{"id":"aFootLeft","title":"","enabled":true}},"children":[],"jslib":{"enableSave":"function(pageContext) { var saveBtnEnable = 'false'; if (pageContext.subContext) { if (typeof pageContext.subContext.material !== 'undefined' && pageContext.subContext.material !== '' && pageContext.subContext.material.length > 0 && typeof pageContext.subContext.quantity !== 'undefined' && pageContext.subContext.quantity !== '' && Number(pageContext.subContext.quantity) > 0) { saveBtnEnable = 'true'; } } return saveBtnEnable; }","formattedTime":"function(pageContext){function formatDate(date) { if (date) { var d = date, month = '' + (d.getMonth() + 1), day = '' + d.getDate(), year = d.getFullYear(); var hours = d.getHours().toString(); var minutes = d.getMinutes().toString(); var seconds = d.getSeconds().toString(); var timeZone = new Date().toString().split(' ')[5]; if (minutes.length < 2) minutes = '0' + minutes; if (hours.length < 2) hours = '0' + hours; if (seconds.length < 2) seconds = '0' + seconds; time = hours + ':' + minutes + ':' + seconds; if (month.length < 2) month = '0' + month; if (day.length < 2) day = '0' + day; return ([year, month, day].join('-') + ' ' + time + ' (' + timeZone + ')'); } else { return '-'; } } return formatDate(new Date());}","hideMaterialDetails":"function(pageContext) { var materialDetailsShow = 'true'; if (pageContext.subContext) { if (typeof pageContext.subContext.material !== 'undefined' && pageContext.subContext.material !== '' && Array.isArray(pageContext.subContext.material) === true && typeof pageContext.subContext.material[0].catalogName !== 'undefined' && pageContext.subContext.material[0].catalogName !== '') { materialDetailsShow = 'false'; } else { materialDetailsShow = 'true'; } } return materialDetailsShow; }"},"header":{"leftButton":{"id":"aHeadLeft","title":"x","enabled":"1"}},"id":"mdtAddMaterialsPage","title":"{%addMaterials}","cols":[{"name":"c1","body":[{"endColumn":11,"queryOfflineData":"@pageContext.fetchMaterialsInCatalogNS","heading":"{%materialDetail}","columns":[{"col":1,"name":"{%name}","row":1,"key":"catalogName"},{"col":2,"name":"{%mn1}","row":1,"key":"catalogModelNumber"},{"col":3,"name":"{%manufacturer}","row":1,"key":"manufacturerName"}],"index":1,"type":"selectitem","title":"{%selectMaterial}","required":0,"displayValue":"@subContext.material[0].catalogName","selectionType":"single","startColumn":0,"id":"material","value":"@subContext.material"},{"endColumn":11,"hidden":"@js.hideMaterialDetails","startColumn":0,"index":2,"id":"materialDetails","type":"contentbox","content":[{"endColumn":11,"hidden":false,"startColumn":0,"index":1,"id":"materialManufacturer","fontStyle":"standard","type":"paragraphText","alignment":"left","title":"{%manufacturer}","value":"@subContext.material[0].manufacturerName","enabled":1,"required":0},{"endColumn":11,"hidden":false,"startColumn":0,"index":2,"id":"materialModelNumber","fontStyle":"standard","type":"paragraphText","alignment":"left","title":"{%mn1}","value":"@subContext.material[0].catalogModelNumber","enabled":1,"required":0},{"endColumn":11,"hidden":false,"startColumn":0,"index":3,"id":"materialStockUnit","fontStyle":"standard","type":"paragraphText","alignment":"left","title":"{%stockUnit}","value":"@subContext.material[0].stockUnitName","enabled":1,"required":0}]},{"endColumn":11,"hidden":false,"index":3,"type":"input","title":"{%quantityUsed}","enabled":true,"required":false,"startColumn":0,"inputType":"decimal","id":"quantity","capturedTime":"","locationCoordinates":"","value":"@subContext.quantity","placeHolder":"{%enterNumber}"},{"endColumn":11,"hidden":false,"startColumn":0,"index":4,"id":"photoNotesOptionalBox","title":"{%photoNotesOptional}","type":"contentbox","content":[{"index":1,"minLimit":1,"id":"addMaterialsPhotos","type":"multiplecomponent","title":"{%capturePhotos}","value":"@subContext.addMaterialsPhotosDataGrid","required":0,"content":{"endColumn":11,"heading":"","index":2,"allowAnnotation":true,"title":"","type":"photocomment","watermarkContent":{"bottomLeft":[[{"delimeter":" : ","label":"{%taskId}","value":"@pageContext.taskId","maxlen":20}]],"bottomRight":[[{"delimeter":" : ","format":"%.4f , %.4f","label":"{%gpsCoOrdinates}","type":"geolocation","value":"@subContext.materialsPhotosLocationCoordinates"}]],"topLeft":[[{"delimeter":" : ","label":"{%engineerName}","value":"@pageContext.userName","maxlen":30}]],"topRight":[[{"delimeter":" : ","label":"{%timeStamp}","value":"@js.formattedTime"}]]},"startColumn":0,"id":"materialsPhotos","capturedTime":"@subContext.materialsPhotosCapturedTime","locationCoordinates":"@subContext.materialsPhotosLocationCoordinates","value":"@subContext.materialsPhotos","placeHolder":"{%enterNotesOptional}"}},{"endColumn":11,"hidden":false,"startColumn":0,"index":2,"id":"materialNotes","capturedTime":"","locationCoordinates":"","type":"textarea","value":"@subContext.materialNotes","enabled":true,"required":false,"placeHolder":"{%enterNotesOptional}"}]},{"endColumn":11,"startColumn":0,"index":5,"capturedTime":"@subContext.addedMaterialCapturedTime","id":"submit","type":"button","title":"{%save}","enabled":"@js.enableSave"}]}]}