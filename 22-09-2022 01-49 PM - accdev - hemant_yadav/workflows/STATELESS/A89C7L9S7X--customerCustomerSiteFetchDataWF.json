{"getRegionData":{"models":["region"],"connectors":[{"exitPortType":"NextStep","nodeId":"getSelectedSiteData"}],"columns":{"regionId":"region.id","regionName":"region.name","id":"region.id"},"name":"getRegionData","orderBy":"regionName ASC","description":"getRegionData","outputVarMap":{"data":"regionsList"},"nodeType":"QUERY"},"fetchInProgressTasksCount":{"filter":"{$siteId}={@siteId} and {$workOrderTaskStatusId} in {@statusFilter}","models":["workOrderTask","site"],"connectors":[{"exitPortType":"NextStep","nodeId":"fetchCustomerStatus"}],"columns":{"workOrderTaskStatusId":"workOrderTask.statusId","workOrderTaskId":"workOrderTask.id","siteId":"site.id"},"name":"fetchInProgressTasksCount","description":"fetchInProgressTasksCount","links":{"workOrderTask":"site"},"inputVarMap":{"statusFilter":"statusFilter","siteId":"siteId"},"outputVarMap":{"data":"inProgressTasks","count":"inProgressTasksCount"},"nodeType":"QUERY","getCount":true},"fetchCustomerStatus":{"filter":"{$id}={@siteCustomerId}","models":["customer"],"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"columns":{"customerStatusId":"customer.statusId"},"name":"fetchCustomerStatus","description":"fetchCustomerStatus","inputVarMap":{"siteCustomerId":"siteCustomerId"},"outputVarMap":{"data":"customerStatus"},"nodeType":"QUERY"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"getRegionData"}],"name":"start","description":"Start","nodeType":"START"},"end":{"name":"end","description":"end","inputVarMap":{"customerStatus":"customerStatus","inProgressTasksCount":"inProgressTasksCount","fetchSiteDetails":"fetchSiteDetails","subRegionsList":"subRegionsList","inProgressTasks":"inProgressTasks","regionsList":"regionsList"},"outputVarMap":{"customerStatus":"customerStatus","inProgressTasksCount":"inProgressTasksCount","fetchSiteDetails":"fetchSiteDetails","subRegionsList":"subRegionsList","inProgressTasks":"inProgressTasks","regionsList":"regionsList"},"nodeType":"END"},"workflowNodes":["start","getRegionData","getSelectedSiteData","getSubRegionList","fetchInProgressTasksCount","fetchCustomerStatus","end"],"getSubRegionList":{"filter":"{$subRegionRegionId} = {@siteRegionId}","models":["subRegion"],"connectors":[{"exitPortType":"NextStep","nodeId":"fetchInProgressTasksCount"}],"columns":{"subRegionId":"subRegion.id","subRegionRegionId":"subRegion.regionId","subRegionName":"subRegion.name"},"name":"getSubRegionList","orderBy":"subRegionName ASC","description":"getSubRegionList","inputVarMap":{"siteRegionId":"siteRegionId"},"outputVarMap":{"data":"subRegionsList"},"nodeType":"QUERY"},"getSelectedSiteData":{"filter":"{$site.id}={@siteId}","models":["site","customer"],"connectors":[{"exitPortType":"NextStep","nodeId":"getSubRegionList"}],"columns":{"siteContactPhone":"site.contactPhone","siteContactTitle":"site.contactTitle","siteSecondaryContactEmail":"site.secondaryContactEmail","siteContactPerson":"site.contactPerson","customerCompanyName":"customer.companyName","siteContactEmail":"site.contactEmail","siteSecondaryContactPhone":"site.secondaryContactPhone","siteSecondaryContactTitle":"site.secondaryContactTitle","siteId":"site.id","siteSecondaryContactPerson":"site.secondaryContactPerson"},"name":"getSelectedSiteData","description":"getSelectedSiteData","inputVarMap":{"siteId":"siteId"},"links":{"site":"customer"},"outputVarMap":{"data":"fetchSiteDetails"},"nodeType":"QUERY"}}