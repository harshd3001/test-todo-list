{"getMaintenanceSchedules":{"filter":"{$assetMaintenancePlanId}={@assetMaintenancePlanId} AND ({$assetMaintenanceSchedule.workOrderId} IS NULL || {$assetMaintenanceSchedule.workOrderId} = '')","models":["assetMaintenanceSchedule"],"connectors":[{"exitPortType":"NextStep","nodeId":"processZRule"}],"columns":{"createWorkOrderDate":"assetMaintenanceSchedule.createWorkOrderDate","assetMaintenancePlanId":"assetMaintenanceSchedule.assetMaintenancePlanId","recver":"assetMaintenanceSchedule.recver","id":"assetMaintenanceSchedule.id","requestedDate":"assetMaintenanceSchedule.requestedDate","deadline":"assetMaintenanceSchedule.deadline"},"name":"getMaintenanceSchedules","description":"getMaintenanceSchedules","inputVarMap":{"assetMaintenancePlanId":"assetMaintenancePlanId"},"outputVarMap":{"data":"assetMaintenanceScheduleData"},"nodeType":"QUERY"},"areSchedulesToBeInserted":{"connectors":[{"exitPortType":"TrueStep","nodeId":"upsertAssetMaintenanceSchedule"},{"exitPortType":"FalseStep","nodeId":"areSchedulesToBeDeleted"}],"name":"areSchedulesToBeInserted","description":"areSchedulesToBeInserted","processRule":"(contextVar.schedulesToInsert.length > 0)","nodeType":"DECISION"},"upsertAssetMaintenanceSchedule":{"modelName":"assetMaintenanceSchedule","connectors":[{"exitPortType":"NextStep","nodeId":"areSchedulesToBeDeleted"}],"multirecord":true,"name":"upsertAssetMaintenanceSchedule","description":"upsert data into assetMaintenanceSchedule","inputVarMap":{"schedulesToInsert":"data"},"id":"upsertAssetMaintenanceSchedule","outputVarMap":{"createWorkOrderDate":"createWorkOrderDate","data":"assetMaintenanceScheduleData","assetMaintenancePlanId":"assetMaintenancePlanId","id":"id","requestedDate":"requestedDate","workOrderId":"workOrderId","deadline":"deadline"},"nodeType":"MODEL","operation":4},"setInputData":{"contextChangePermitted":true,"connectors":[{"exitPortType":"NextStep","nodeId":"multiDecisionNodeforAction"}],"name":"setInputData","description":"Use this for processing data in workflow","processRule":"{if(typeof contextVar.assetMaintenanceSchedule !== 'undefined' && contextVar.assetMaintenanceSchedule !== ''){contextVar.assetMaintenancePlanId = contextVar.assetMaintenanceSchedule.assetMaintenancePlanId;contextVar.selectedSchedules = contextVar.assetMaintenanceSchedule.selectedSchedules;}}","id":"setInputData","nodeType":"PROCESS","jsEngine":"es6"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"setInputData"}],"name":"start","description":"Start","id":"start","nodeType":"START"},"deleteAssetMaintenanceSchedule":{"modelName":"assetMaintenanceSchedule","connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"multirecord":true,"name":"deleteAssetMaintenanceSchedule","description":"delete assetMaintenanceSchedule data","inputVarMap":{"schedulesToDelete":"data"},"id":"deleteAssetMaintenanceSchedule","outputVarMap":{},"nodeType":"MODEL","operation":3},"multiDecisionNodeforAction":{"connectors":[{"condition":"typeof contextVar.subAction !== 'undefined' && contextVar.subAction==='upsertAssetMaintenanceSchedule'","exitPortType":"NextStep","nodeId":"getMaintenanceSchedules"},{"condition":"typeof contextVar.subAction !== 'undefined' && contextVar.subAction==='deleteAssetMaintenanceSchedule'","exitPortType":"NextStep","nodeId":"ProcessDataForOnlyDelete"},{"DefaultStep":true,"condition":"contextVar.subAction===''","exitPortType":"NextStep","nodeId":"end"}],"name":"multiDecisionNodeforAction","description":"multiDecisionNodeforAction","nodeType":"MULTIDECISION"},"end":{"name":"end","description":"End","inputVarMap":{"assetMaintenanceScheduleData":"assetMaintenanceScheduleData"},"outputVarMap":{"assetMaintenanceScheduleData":"assetMaintenanceScheduleData"},"id":"end","nodeType":"END"},"areSchedulesToBeDeleted":{"connectors":[{"exitPortType":"TrueStep","nodeId":"deleteAssetMaintenanceSchedule"},{"exitPortType":"FalseStep","nodeId":"end"}],"name":"areSchedulesToBeDeleted","description":"areSchedulesToBeDeleted","processRule":"(contextVar.schedulesToDelete.length > 0)","nodeType":"DECISION"},"ProcessDataForOnlyDelete":{"contextChangePermitted":true,"connectors":[{"exitPortType":"NextStep","nodeId":"deleteAssetMaintenanceSchedule"}],"name":"ProcessDataForOnlyDelete","description":"ProcessDataForOnlyDelete","processRule":"{if(typeof contextVar.selectedSchedules !== 'undefined' && Array.isArray(contextVar.selectedSchedules) && contextVar.selectedSchedules.length > 0) { contextVar.schedulesToDelete = [ ...contextVar.selectedSchedules ];}}","id":"ProcessDataForOnlyDelete","nodeType":"PROCESS","jsEngine":"es6"},"processZRule":{"connectors":[{"exitPortType":"NextStep","nodeId":"areSchedulesToBeInserted"}],"contextChangePermitted":true,"name":"processZRule ","description":"processZRule","processRule":"@PN1XVXP04R","nodeType":"PROCESS","jsEngine":"es6"},"workflowNodes":["start","setInputData","multiDecisionNodeforAction","getMaintenanceSchedules","processZRule","areSchedulesToBeInserted","upsertAssetMaintenanceSchedule","areSchedulesToBeDeleted","ProcessDataForOnlyDelete","deleteAssetMaintenanceSchedule","end"]}