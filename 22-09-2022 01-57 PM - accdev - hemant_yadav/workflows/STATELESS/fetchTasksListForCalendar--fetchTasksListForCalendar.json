{"isMoreDataPresent":{"connectors":[{"exitPortType":"TrueStep","nodeId":"fetchSchedulingAndDispatchData"},{"exitPortType":"FalseStep","nodeId":"clearValues"}],"name":"isMoreDataPresent","description":"isMoreDataPresent","processRule":"contextVar.noOfAllBatches >= 2 && contextVar.noOfAllBatches >= contextVar.newBatchNumber","nodeType":"DECISION"},"clearValues":{"connectors":[{"exitPortType":"NextStep","nodeId":"isSchedulingAndDispatchDataPresent"}],"contextChangePermitted":true,"name":"clearValues","description":"clearValues","processRule":"contextVar.dataToAppend='';contextVar.noOfAllBatches='';contextVar.newBatchNumber='';","nodeType":"PROCESS"},"findNumberOfBatches":{"connectors":[{"exitPortType":"NextStep","nodeId":"isMoreDataPresent"}],"contextChangePermitted":true,"name":"findNumberOfBatches","description":"findNumberOfBatches","processRule":"{contextVar.noOfAllBatches = Math.ceil(contextVar.count / contextVar.customBatchSize); contextVar.newBatchNumber = contextVar.batchNumber + 1;}","nodeType":"PROCESS"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"callSchedulingAndDispatchDataWF"}],"name":"start","description":"Start","nodeType":"START"},"isSchedulingAndDispatchDataPresent":{"connectors":[{"exitPortType":"TrueStep","nodeId":"processFilterTasksZRule"},{"exitPortType":"FalseStep","nodeId":"end"}],"name":"isSchedulingAndDispatchDataPresent","description":"isSchedulingAndDispatchDataPresent","processRule":"(typeof contextVar.schedulingAndDispatchData !== 'undefined' &&  contextVar.schedulingAndDispatchData !==''  && Array.isArray(contextVar.schedulingAndDispatchData) === true &&  contextVar.schedulingAndDispatchData.length > 0)","nodeType":"DECISION"},"workflowNodes":["start","callSchedulingAndDispatchDataWF","findNumberOfBatches","isMoreDataPresent","fetchSchedulingAndDispatchData","appendData","clearValues","isSchedulingAndDispatchDataPresent","processFilterTasksZRule","processZRule","end"],"appendData":{"connectors":[{"exitPortType":"NextStep","nodeId":"isMoreDataPresent"}],"contextChangePermitted":true,"name":"appendData","description":"appendData","processRule":"{ if (typeof contextVar.dataToAppend !== 'undefined' && contextVar.dataToAppend !== '' && Array.isArray(contextVar.dataToAppend)) { let prevSchedulingData = [], currSchedulingData = []; currSchedulingData = contextVar.dataToAppend; prevSchedulingData = contextVar.schedulingAndDispatchData; contextVar.schedulingAndDispatchData = [...prevSchedulingData, ...currSchedulingData]; } contextVar.newBatchNumber = contextVar.newBatchNumber + 1; }","nodeType":"PROCESS","jsEngine":"es6"},"fetchSchedulingAndDispatchData":{"connectors":[{"exitPortType":"NextStep","nodeId":"appendData"}],"processId":"NI7F9488VO","ignoreSubContext":true,"name":"fetchSchedulingAndDispatchData","description":"call taskSchedulingAndDispatchDataWF in loop","inputVarMap":{"filter":"filter","customBatchSize":"batchSize","statusFilter":"statusFilter","timezoneOffset":"timezoneOffset","newBatchNumber":"batchNumber"},"outputVarMap":{"count":"count","schedulingAndDispatchData":"dataToAppend","batchNumber":"batchNumber"},"nodeType":"WORKFLOW"},"workflowContext":{"daysFromCurrent":14,"customBatchSize":1000,"openTasksList":[],"timezoneOffset":0,"openTasksFilterFlag":true,"newBatchNumber":0,"noOfAllBatches":0,"batchNumber":1},"processFilterTasksZRule":{"connectors":[{"exitPortType":"NextStep","nodeId":"processZRule"}],"contextChangePermitted":true,"name":"processFilterTasksZRule","description":"processFilterTasksZRule","processRule":"@9025SXUL8W","nodeType":"PROCESS","jsEngine":"es6"},"end":{"name":"end","description":"End","inputVarMap":{"openTasksList":"openTasksList"},"outputVarMap":{"openTasksList":"openTasksList"},"nodeType":"END"},"callSchedulingAndDispatchDataWF":{"connectors":[{"exitPortType":"NextStep","nodeId":"findNumberOfBatches"}],"processId":"NI7F9488VO","ignoreSubContext":true,"name":"callSchedulingAndDispatchDataWF","description":"call taskSchedulingAndDispatchDataWF","inputVarMap":{"filter":"filter","customBatchSize":"batchSize","statusFilter":"statusFilter","timezoneOffset":"timezoneOffset","batchNumber":"batchNumber"},"outputVarMap":{"count":"count","schedulingAndDispatchData":"schedulingAndDispatchData","batchNumber":"batchNumber"},"nodeType":"WORKFLOW"},"processZRule":{"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"contextChangePermitted":true,"name":"processZRule","description":"processZRule","processRule":"@LNPYHCUDV0","nodeType":"PROCESS","jsEngine":"es6"}}