{"hasChangedDates":{"connectors":[{"exitPortType":"TrueStep","nodeId":"notifyTechnician"},{"exitPortType":"FalseStep","nodeId":"end"}],"name":"hasChangedDates","description":"check if start and end dates are chanded","processRule":"contextVar.notifyzFlag = false; switch(contextVar.workforceLeave[0].leaveAction ){ case  'add': if (contextVar.initialWorkforceLeaveStartDate !== contextVar.startDate || contextVar.initialWorkforceLeaveEndDate !== contextVar.endDate ){ contextVar.notifyzFlag =true; } break; case 'edit': if (contextVar.initialWorkforceLeaveStartDate !== contextVar.startDate || contextVar.initialWorkforceLeaveEndDate !== contextVar.endDate ){ contextVar.notifyzFlag =true; } break; case 'delete': if (contextVar.initialWorkforceLeaveStartDate === contextVar.startDate || contextVar.initialWorkforceLeaveEndDate === contextVar.endDate ){ contextVar.notifyzFlag =true; } break; default: contextVar.notifyzFlag =false; } contextVar.notifyzFlag ===true;","nodeType":"DECISION"},"notifyTechnician":{"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"name":"notifyTechnician","description":"Provide some description for your notify node","inputVarMap":{"notificationData":"data","longText":"longText","endDate":"endDate","dataPayload":"dataPayload","shortText":"shortText","workforceUserId":"userId","startDate":"startDate"},"targetType":"user","id":"notifyTechnician","outputVarMap":{},"notificationType":"push","nodeType":"NOTIFY"},"workflowContext":{"add":{"longText":"Leave has been added to your schedule:{@startDate} to {@endDate}. Contact your administrator if this is done in error.","shortText":"New Leave Added"},"edit":{"longText":"Your planned leave has been updated from {@startDate} to {@endDate}. Contact your administrator if this is done in error.","shortText":"Leave Updated"},"dataPayload":{"targetType":"Task"},"delete":{"longText":"Your leave from {@startDate} to {@endDate} has been removed from your schedule. Contact your administrator if this is done in error.","shortText":"Leave Deleted"}},"processNotificationData":{"connectors":[{"exitPortType":"NextStep","nodeId":"hasChangedDates"}],"contextChangePermitted":true,"name":"processNotificationData","description":"Use this for processing data in workflow","processRule":"{ contextVar.initialWorkforceLeaveStartDate = contextVar.workforceLeave[0].initialWorkforceLeaveStartDate;contextVar.initialWorkforceLeaveEndDate = contextVar.workforceLeave[0].initialWorkforceLeaveEndDate;contextVar.workforceUserId = contextVar.workforceLeave[0].workforceUserId; contextVar.startDate = contextVar.workforceLeave[0].startDate; contextVar.endDate = contextVar.workforceLeave[0].endDate; contextVar.longText = contextVar[contextVar.workforceLeave[0].leaveAction].longText; contextVar.shortText = contextVar[contextVar.workforceLeave[0].leaveAction].shortText; contextVar.longText = contextVar.longText.replace('{@startDate}', contextVar.notificationStartDate).replace('{@endDate}', contextVar.notificationEndDate); contextVar.notificationData = { 'longText': contextVar.longText, 'shortText': contextVar.shortText }; }","id":"processNotificationData","nodeType":"PROCESS"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"processNotificationData"}],"name":"start","description":"Start","id":"start","nodeType":"START"},"end":{"name":"end","description":"End","inputVarMap":{},"outputVarMap":{},"id":"end","nodeType":"END"},"workflowNodes":["start","processNotificationData","hasChangedDates","notifyTechnician","end"]}