{"skillWorkforceDeleteNode":{"modelName":"workforceSkill","connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"name":"skillWorkforceDeleteNode","description":"skillWorkforceDeleteNode","inputVarMap":{"skillId":"skillId","workforceSkillRecver":"recver","userId":"userId"},"nodeType":"MODEL","operation":3},"zRuleMultiDecisionNode":{"connectors":[{"condition":"typeof contextVar.jsonObj!=='undefined' && contextVar.subAction==='deactivateTechnician'","exitPortType":"NextStep","nodeId":"upsertWorkforce"},{"condition":"contextVar.subAction==='upsertWorkforce' || contextVar.subAction==='deactivateTechnician' || contextVar.subAction==='reactivateTechnician'","exitPortType":"NextStep","nodeId":"workforceProcessZRule"},{"condition":"(contextVar.subAction=== 'upsertTechnicianSkill')","exitPortType":"NextStep","nodeId":"workforceSkillProcessZRule"},{"condition":"(contextVar.subAction=== 'upsertContractorWorkforce')","exitPortType":"NextStep","nodeId":"contractorWorkforceProcessZRule"},{"condition":"(contextVar.subAction=== 'deleteContractor')","exitPortType":"NextStep","nodeId":"contractorWorkforceDeleteNode"},{"condition":"(contextVar.subAction=== 'deleteWorkforceSkill')","exitPortType":"NextStep","nodeId":"skillWorkforceDeleteNode"},{"DefaultStep":true,"condition":"contextVar.subAction===''","exitPortType":"NextStep","nodeId":"end"}],"name":"zRuleMultiDecisionNode","description":"zRuleMultiDecisionNode","nodeType":"MULTIDECISION"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"zRuleMultiDecisionNode"}],"name":"start","description":"Start","nodeType":"START"},"contractorWorkforceDeleteNode":{"modelName":"contractorWorkforce","connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"name":"contractorWorkforceDeleteNode","description":"contractorWorkforceDeleteNode","inputVarMap":{"contractorRegionId":"contractorRegionId","workforceUserId":"workforceId","contractorWorkforceRecver":"recver"},"nodeType":"MODEL","operation":3},"workflowNodes":["start","zRuleMultiDecisionNode","workforceProcessZRule","upsertWorkforce","isDeactivatedUser","isTechnicianACrewMember","callWorkforceCrewModelWF","processWorkforceData","isDeactivatingOrReactivatingTechnician","processUserZRule","upsertUserData","processWorkGroupSubAction","sendWorkGroupData","workforceSkillProcessZRule","upsertTechnicianSkill","contractorWorkforceProcessZRule","upsertContractorWorkforce","contractorWorkforceDeleteNode","skillWorkforceDeleteNode","end"],"isTechnicianACrewMember":{"connectors":[{"exitPortType":"TrueStep","nodeId":"callWorkforceCrewModelWF"},{"exitPortType":"FalseStep","nodeId":"end"}],"name":"isTechnicianACrewMember","description":"isTechnicianACrewMember","processRule":"(typeof contextVar.workforceCrew!='undefined' && typeof contextVar.workforceCrew[0].workforceCrewUserStatusId !='undefined' && contextVar.workforceCrew[0].workforceCrewUserStatusId !='' && contextVar.workforceCrew[0].workforceCrewUserStatusId.length!==0 && typeof contextVar.workforceCrew[0].crewData !='undefined' && contextVar.workforceCrew[0].crewData !='' && contextVar.workforceCrew[0].crewData.length!==0)","nodeType":"DECISION"},"upsertContractorWorkforce":{"modelName":"contractorWorkforce","connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"multirecord":true,"name":"upsertContractorWorkforce","description":"upsertContractorWorkforce","inputVarMap":{"jsonObj":"data"},"nodeType":"MODEL","operation":4},"callWorkforceCrewModelWF":{"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"processId":"workforceCrewModelWF","name":"callWorkforceCrewModelWF","description":"callWorkforceCrewModelWF","inputVarMap":{"subAction":"subAction","workforceCrew":"workforceCrew"},"outputVarMap":{},"nodeType":"WORKFLOW"},"sendWorkGroupData":{"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"contextChangePermitted":true,"processId":"workforceWorkGroupWF","name":"sendWorkGroupData","description":"sendWorkGroupData","inputVarMap":{"workforceWorkGroup":"workforceWorkGroup","subAction":"subAction"},"outputVarMap":{},"nodeType":"WORKFLOW"},"upsertTechnicianSkill":{"modelName":"workforceSkill","connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"multirecord":true,"name":"upsertTechnicianSkill","description":"upsertTechnicianSkill","inputVarMap":{"jsonObj":"data"},"nodeType":"MODEL","operation":4},"isDeactivatedUser":{"connectors":[{"exitPortType":"TrueStep","nodeId":"isTechnicianACrewMember"},{"exitPortType":"FalseStep","nodeId":"processWorkforceData"}],"name":"isDeactivatedUser","description":"isDeactivatedUser","processRule":"(typeof contextVar.jsonObj!=='undefined' && contextVar.jsonObj!=='' && (contextVar.subAction==='deactivateTechnician' || contextVar.subAction==='reactivateTechnician'))","nodeType":"DECISION"},"processWorkGroupSubAction":{"connectors":[{"exitPortType":"NextStep","nodeId":"sendWorkGroupData"}],"contextChangePermitted":true,"name":"processWorkGroupSubAction","description":"processWorkGroupSubAction","processRule":"contextVar.subAction='insertWorkforceWorkGroup'","nodeType":"PROCESS"},"processWorkforceData":{"connectors":[{"exitPortType":"NextStep","nodeId":"isDeactivatingOrReactivatingTechnician"}],"contextChangePermitted":true,"name":"processWorkforceData","description":"processWorkforceData","processRule":"if(typeof contextVar.data !=='undefined'){contextVar.workforceUserId=contextVar.data[0].userId}","nodeType":"PROCESS"},"workforceSkillProcessZRule":{"connectors":[{"exitPortType":"NextStep","nodeId":"upsertTechnicianSkill"}],"contextChangePermitted":true,"name":"workforceSkillProcessZRule","description":"workforceSkillProcessZRule","processRule":"@EUBCRY71ZB","nodeType":"PROCESS"},"upsertWorkforce":{"modelName":"workforce","connectors":[{"exitPortType":"NextStep","nodeId":"isDeactivatedUser"}],"multirecord":true,"name":"upsertWorkforce","description":"upsertWorkforce","inputVarMap":{"jsonObj":"data"},"outputVarMap":{"data":"data"},"nodeType":"MODEL","operation":4},"processUserZRule":{"connectors":[{"exitPortType":"NextStep","nodeId":"upsertUserData"}],"contextChangePermitted":true,"name":"processUserZRule","description":"processUserZRule","processRule":"@Y2S6ECAIO9","nodeType":"PROCESS"},"end":{"name":"End","description":"end","inputVarMap":{"workforceUserId":"workforceUserId"},"outputVarMap":{"workforceUserId":"workforceUserId"},"nodeType":"END"},"upsertUserData":{"modelName":"User","connectors":[{"exitPortType":"NextStep","nodeId":"processWorkGroupSubAction"}],"multirecord":true,"name":"upsertUserData","description":"upsertUserData","inputVarMap":{"jsonObj":"data"},"nodeType":"MODEL","operation":4},"contractorWorkforceProcessZRule":{"connectors":[{"exitPortType":"NextStep","nodeId":"upsertContractorWorkforce"}],"contextChangePermitted":true,"name":"contractorWorkforceProcessZRule","description":"contractorWorkforceProcessZRule","processRule":"@VWADRY7YYE","nodeType":"PROCESS"},"workforceProcessZRule":{"connectors":[{"exitPortType":"NextStep","nodeId":"upsertWorkforce"}],"contextChangePermitted":true,"name":"workforceProcessZRule","description":"workforceProcessZRule","processRule":"@MA8G567VQN","nodeType":"PROCESS"},"isDeactivatingOrReactivatingTechnician":{"connectors":[{"exitPortType":"TrueStep","nodeId":"end"},{"exitPortType":"FalseStep","nodeId":"processUserZRule"}],"name":"isDeactivatingOrReactivatingTechnician","description":"isDeactivatingOrReactivatingTechnician","processRule":"(contextVar.subAction==='deactivateTechnician' || contextVar.subAction==='reactivateTechnician')","nodeType":"DECISION"}}