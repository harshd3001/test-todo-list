{"pageContext":{},"actionOnLoad":["@actions.initialData","@actions.fetchSlaData","@actions.processSlaData","@actions.setEnable","@actions.refreshDataGrid"],"jslib":{"isEditSectionHidden":"function(pageContext) { if (pageContext.tzAction === 'edit') { return false; } else { return true; } }","isEdit":"function(pageContext) { if(pageContext.tzAction === 'edit') { return false; } else { return true; } }","isAdd":"function(pageContext) { if(pageContext.tzAction === 'add') { return false; } else { return true; } }","dynamicHeaderText":"function(pageContext){ if(pageContext.tzAction === 'add'){return '@lang.[\"adntz\",\"Add New Record\"]'}else if(pageContext.tzAction === 'edit'){return '@lang.[\"edtz\",\"Edit Record\"]'}}","isAddSectionHidden":"function(pageContext) { if (pageContext.tzAction === 'add') { return false; } else { return true; } }","isSaveDisabled":"function(pageContext) { if (pageContext.tzAction === 'add') { if (typeof pageContext.stateAbb != 'undefined' && pageContext.stateAbb != '' && typeof pageContext.stateName != 'undefined' && pageContext.stateName != ''&& typeof pageContext.dstOffset != 'undefined' && pageContext.dstOffset != '' && typeof pageContext.rawOffset != 'undefined' && pageContext.rawOffset != '' && typeof pageContext.timeZoneId != 'undefined' && pageContext.timeZoneId != '' && typeof pageContext.dayLightSavings != 'undefined' && pageContext.dayLightSavings != '') { return false; } else { return true; } } }","isEditDisabled":"function(pageContext) { if (pageContext.tzAction === 'edit') { if (typeof pageContext.stateAbb !== 'undefined' && pageContext.stateAbb !== '' && typeof pageContext.stateName != 'undefined' && pageContext.stateName !== '' && typeof pageContext.dstOffset !== 'undefined' && pageContext.dstOffset !== '' && typeof pageContext.rawOffset !== 'undefined' && pageContext.rawOffset !== '' && typeof pageContext.timeZoneId !== 'undefined' && pageContext.timeZoneId !== '' && typeof pageContext.dayLightSavings !== 'undefined' && pageContext.dayLightSavings !== '') { if ((pageContext.initialName == pageContext.name) && (pageContext.initialstateAbb == pageContext.stateAbb) && (pageContext.initialstateName == pageContext.stateName) && (pageContext.initialtimeZoneId == pageContext.timeZoneId) && (pageContext.initialdayLightSavings == pageContext.dayLightSavings) && (pageContext.initialdstOffset == pageContext.dstOffset) && (pageContext.initialrawOffset == pageContext.rawOffset)) { return true; } else { return false; } } else { return true; } } }"},"header":{"children":[{"buttonType":"primary","hidden":"@jslib.isAddSectionHidden","actionOnClick":["@actions.typecastData","@actions.savedTimeZoneData","@actions.closePanel","@actions.refreshDataGrid"],"disabled":"@jslib.isSaveDisabled","id":"submit","type":"button","title":"@lang.['s12','Save']"},{"buttonType":"primary","hidden":"@jslib.isEditSectionHidden","actionOnClick":["@actions.typecastData","@actions.UpdateTimeZoneData","@actions.closePanel","@actions.refreshDataGrid"],"disabled":"@jslib.isEditDisabled","id":"submit","type":"button","title":"Edit"},{"icon":"@iconlib.NavigationCloseGrey","actionOnClick":["@actions.closePanel","@actions.clearPageContext","@actions.refreshDataGrid"],"id":"Close","type":"buttonIcon"}],"title":"@jslib.dynamicHeaderText"},"body":{"children":[{"hidden":"@jslib.isAdd","children":[{"isRequired":true,"id":"stateAbb","label":"State Abbreviation","placeholder":"Add State Abbreviation","type":"input","value":"@pageContext.stateAbb"},{"isRequired":true,"id":"stateName","label":"State Name","placeholder":"Add State Name","type":"input","value":"@pageContext.stateName"},{"isRequired":true,"inputType":"number","id":"dstOffset","label":"dstOffset","placeholder":"Add Dst Offset","type":"input","value":"@pageContext.dstOffset","maxLength":50000},{"isRequired":true,"actionOnChange":["@actions.typeCast"],"inputType":"number","id":"rawOffset","label":"rawOffset","placeholder":"Add Raw Offset","type":"input","value":"@pageContext.rawOffset","maxLength":50000},{"isRequired":true,"id":"timeZoneId","label":"timeZoneId","placeholder":"Add TimeZone Id","type":"input","value":"@pageContext.timeZoneId"},{"isRequired":true,"actionOnChange":["@actions.fetchTimeZoneData"],"options":[{"name":"Yes","id":"Yes"},{"name":"No","id":"No"},{"name":"API","id":"API"}],"id":"dayLightSavings","optTitleKey":"name","optValueKey":"id","label":"DayLight Savings","type":"select","title":"DayLight Savings","value":"@pageContext.dayLightSavings","placeHolder":"Select Option"}],"label":"@lang.['gi','General Information']","id":"taskTypeSection","type":"section"},{"hidden":"@jslib.isEdit","children":[{"isRequired":true,"id":"stateAbb","label":"State Abbreviation","placeholder":"Add State Abbreviation","type":"input","value":"@pageContext.stateAbb"},{"isRequired":true,"id":"stateName","label":"State Name","placeholder":"Add State Name","type":"input","value":"@pageContext.stateName"},{"isRequired":true,"inputType":"number","id":"dstOffset","label":"dstOffset","placeholder":"Add Dst Offset","type":"input","value":"@pageContext.dstOffset","maxLength":50000},{"isRequired":true,"inputType":"number","id":"rawOffset","label":"rawOffset","placeholder":"Add Raw Offset","type":"input","value":"@pageContext.rawOffset"},{"isRequired":true,"id":"timeZoneId","label":"timeZoneId","placeholder":"Add TimeZone Id","type":"input","value":"@pageContext.timeZoneId"},{"isRequired":true,"actionOnChange":["@actions.fetchTimeZoneData"],"options":[{"name":"Yes","id":"Yes"},{"name":"No","id":"No"},{"name":"API","id":"API"}],"id":"dayLightSavings","optTitleKey":"name","optValueKey":"id","label":"DayLight Savings","type":"select","title":"DayLight Savings","value":"@pageContext.dayLightSavings","placeHolder":"Select Option"}],"label":"@lang.['gi','General Information']","id":"taskTypeSection","type":"section"}]},"actions":[{"name":"typecastData","type":"script","actionDef":"function(pageContext) { if (typeof pageContext.dstOffset != 'undefined' && pageContext.dstOffset != '') { pageContext.dstOffset = parseInt(pageContext.dstOffset); } if (typeof pageContext.rawOffset != 'undefined' && pageContext.rawOffset != '') { pageContext.rawOffset = parseInt(pageContext.rawOffset); } }"},{"name":"processSlaData","type":"script","actionDef":"function(pageContext) { if (typeof pageContext.slaAction !== 'undefined' && pageContext.slaAction !== 'add') {pageContext.priorityFinalList = pageContext.queryData[0].outputVar.slaTimeFrameData; pageContext.unselectedPriorityList = pageContext.queryData[0].outputVar.unselectedSlaTimeFrameData;}}"},{"isAsync":true,"name":"initialData","type":"script","actionDef":"function(pageContext) { if (typeof pageContext != 'undefined' && pageContext.tzAction=='edit') { console.log('in'); pageContext.initialName = pageContext.name; pageContext.initialstateAbb = pageContext.stateAbb; pageContext.initialstateName = pageContext.stateName; pageContext.initialtimeZoneId = pageContext.timeZoneId; pageContext.initialdayLightSavings = pageContext.dayLightSavings; pageContext.initialdstOffset = pageContext.dstOffset; pageContext.initialrawOffset = pageContext.rawOffset; } }"},{"subTitle":"@lang.['aysywtdtstcbu','Are you sure you want to delete the SLA? This cannot be undone.']","name":"deleteModal","options":[{"buttonType":"secondary","name":"no","actionOnClick":"@actions.closeModal","type":"button","title":"@lang.['c2','Cancel']"},{"buttonType":"primary","name":"yes","actionOnClick":["@actions.setSubActionDeleteSla","@actions.fireProcessEvent","@actions.closeModal","@actions.closePanel","@actions.clearPageContext","@actions.refreshDataGrid"],"type":"button","title":"@lang.['d1','Delete']"}],"type":"openModal","title":"@lang.['cd','Confirm Delete']"},{"endPoint":"event/start","name":"fireProcessEvent","outputVarMap":{"data":"@pageContext.data"},"type":"api","actionDef":{"data":[{"eventId":"settingsBusinessSlaProcessEvent","contextVar":{"slaTimeFrame":{"priorityPriority":"@pageContext.slaTimeFramePriorityPriority","slaId":"@pageContext.slaId","recver":"@pageContext.slaTimeFrameRecver"},"subAction":"@pageContext.subAction","sla":{"recver":"@pageContext.slaRecver","name":"@pageContext.slaName","description":"@pageContext.slaDescription","id":"@pageContext.slaId"}}}]}},{"name":"clearPageContext","type":"clearPageContext"},{"name":"closeModal","type":"closeModal"},{"name":"closePanel","type":"closePanel"},{"name":"clearSlaTimeFramePriorityPriority","type":"script","actionDef":"function(pageContext){ pageContext.slaTimeFramePriorityPriority='';}"},{"name":"SetActionEditSla","type":"script","actionDef":"function(pageContext){if(pageContext.slaAction='edit'){ pageContext.slaId=pageContext.data[0].data[0].slaId;}}"},{"name":"setActionDeleteSla","type":"script","actionDef":"function(pageContext){pageContext.subAction='deleteSla'; }"},{"name":"setSubActionUpsertSla","type":"script","actionDef":"function(pageContext){pageContext.subAction='upsertSla';}"},{"name":"setEnable","type":"script","actionDef":"function(pageContext){pageContext.enable=true;}"},{"name":"refreshDataGrid","type":"refreshDataGrid"},{"endPoint":"process/start","name":"fetchSlaData","outputVarMap":{"data":"@pageContext.queryData"},"type":"api","actionDef":{"data":[{"inputVar":{"slaId":"@pageContext.slaId"},"processId":"settingsBusinessSlaFetchDataWF","contextVar":{"slaAction":"@pageContext.slaAction","slaId":"@pageContext.slaId"}}]}},{"endPoint":"process/start","name":"fetchTimeZoneData","outputVarMap":{"data":"@pageContext.fetchTimeZoneData"},"type":"api","actionDef":{"data":[{"inputVar":{"location":"39.6034810 -119.6822510","timestamp":"1331766000"},"processId":"FGWSS34F7Z","contextVar":{"location":"39.6034810 -119.6822510","timestamp":"1331766000"}}]}},{"endPoint":"model/insert","alertMessage":true,"name":"savedTimeZoneData","outputVarMap":{"data":"@pageContext.savedTimeZoneData"},"type":"api","actionDef":{"data":[{"modelName":"acUsTimeZones","stateName":"@pageContext.stateName","rawOffset":"@pageContext.rawOffset","stateAbbreviation":"@pageContext.stateAbb","timeZoneId":"@pageContext.timeZoneId","dstOffset":"@pageContext.dstOffset","dayLightSavings":"@pageContext.dayLightSavings"}]}},{"endPoint":"model/update","alertMessage":true,"name":"UpdateTimeZoneData","outputVarMap":{"data":"@pageContext.UpdateTimeZoneData"},"type":"api","actionDef":{"data":[{"modelName":"acUsTimeZones","stateName":"@pageContext.stateName","recver":"@pageContext.recver","rawOffset":"@pageContext.rawOffset","stateAbbreviation":"@pageContext.stateAbb","timeZoneId":"@pageContext.timeZoneId","dstOffset":"@pageContext.dstOffset","dayLightSavings":"@pageContext.dayLightSavings","id":"@pageContext.id"}],"columns":[]}}]}