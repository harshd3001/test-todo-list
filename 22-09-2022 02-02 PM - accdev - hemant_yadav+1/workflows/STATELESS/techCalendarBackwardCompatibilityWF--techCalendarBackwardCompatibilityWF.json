{"fetchTechCalendarData":{"models":["techCalendar"],"connectors":[{"exitPortType":"NextStep","nodeId":"findNumberOfBatches"}],"columns":{"workOrderTaskId":"techCalendar.workOrderTaskId","startTime":"techCalendar.startTime","endTime":"techCalendar.endTime","userId":"techCalendar.userId"},"name":"fetchTechCalendarData","description":"fetchTechCalendarData","inputVarMap":{"customBatchSize":"batchSize"},"outputVarMap":{"data":"techCalendarData","count":"techCalendarDataCount","batchNumber":"techCalendarDataBatchNumber"},"nodeType":"QUERY","getCount":true},"insertDataToTechCalenDarV2Model":{"modelName":"techCalendarV2","connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"multirecord":true,"name":"insertDataToTechCalenDarV2Model","description":"insertDataToTechCalenDarV2Model","inputVarMap":{"techCalendarData":"data"},"outputVarMap":{},"nodeType":"MODEL","operation":1},"workflowContext":{"customBatchSize":1000,"noOfBatches":0},"appendTechCalenDarData":{"connectors":[{"exitPortType":"NextStep","nodeId":"areMoreTechCalendarDataPresent"}],"contextChangePermitted":true,"name":"appendTechCalenDarData","description":"appendTechCalenDarData","processRule":"{ contextVar.techCalendarData = contextVar.techCalendarData.concat(contextVar.moreTechCalendarData); contextVar.techCalendarDataBatchNumber = contextVar.techCalendarDataBatchNumber + 1; }","nodeType":"PROCESS"},"findNumberOfBatches":{"connectors":[{"exitPortType":"NextStep","nodeId":"areMoreTechCalendarDataPresent"}],"contextChangePermitted":true,"name":"findNumberOfBatches","description":"findNumberOfBatches","processRule":"{contextVar.noOfBatches = Math.ceil(contextVar.techCalendarDataCount / contextVar.customBatchSize);contextVar.techCalendarDataBatchNumber = contextVar.techCalendarDataBatchNumber + 1;}","id":"findNumberOfBatches","nodeType":"PROCESS"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"fetchTechCalendarData"}],"name":"start","description":"Start","nodeType":"START"},"areMoreTechCalendarDataPresent":{"connectors":[{"exitPortType":"TrueStep","nodeId":"fetchMoreTechCalendarData"},{"exitPortType":"FalseStep","nodeId":"processTechCalendarData"}],"name":"areMoreTechCalendarDataPresent","description":"areMoreTechCalendarDataPresent","processRule":"contextVar.noOfBatches >= 2 && contextVar.noOfBatches >= contextVar.techCalendarDataBatchNumber","nodeType":"DECISION"},"fetchMoreTechCalendarData":{"models":["techCalendar"],"connectors":[{"exitPortType":"NextStep","nodeId":"appendTechCalenDarData"}],"columns":{"workOrderTaskId":"techCalendar.workOrderTaskId","startTime":"techCalendar.startTime","endTime":"techCalendar.endTime","userId":"techCalendar.userId"},"name":"fetchMoreTechCalendarData","description":"fetchMoreTechCalendarData","inputVarMap":{"customBatchSize":"batchSize","techCalendarDataBatchNumber":"batchNumber"},"outputVarMap":{"data":"moreTechCalendarData"},"nodeType":"QUERY","getCount":true},"processTechCalendarData":{"connectors":[{"exitPortType":"NextStep","nodeId":"insertDataToTechCalenDarV2Model"}],"contextChangePermitted":true,"name":"processTechCalendarData","description":"processTechCalendarData","processRule":"{ contextVar.techCalendarData.forEach(function(element){ element['id']=''; }); }","nodeType":"PROCESS"},"end":{"name":"end","description":"End","inputVarMap":{"unassignedTask":"data"},"outputVarMap":{"unassignedTask":"data"},"nodeType":"END"},"workflowNodes":["start","fetchTechCalendarData","findNumberOfBatches","areMoreTechCalendarDataPresent","fetchMoreTechCalendarData","appendTechCalenDarData","processTechCalendarData","insertDataToTechCalenDarV2Model","end"]}