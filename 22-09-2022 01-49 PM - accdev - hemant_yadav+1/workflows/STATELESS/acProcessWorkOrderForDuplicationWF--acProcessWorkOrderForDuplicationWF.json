{"fetchWorkOrderData":{"filter":"{$id} = {@initialWorkOrderId}","models":["workOrder"],"connectors":[{"exitPortType":"NextStep","nodeId":"processWorkOrderData"}],"columns":{"acPrimaryAppraiserId":"workOrder.acPrimaryAppraiserId","acReportType":"workOrder.acReportType","notes":"workOrder.notes","slaId":"workOrder.slaId","workOrderTypeId":"workOrder.workOrderTypeId","statusTargetModel":"workOrder.statusTargetModel","acTagRural":"workOrder.acTagRural","acLenderId":"workOrder.acLenderId","acContractValue":"workOrder.acContractValue","acTagHistorical":"workOrder.acTagHistorical","priorityTargetModel":"workOrder.priorityTargetModel","priorityPriority":"workOrder.priorityPriority","calendarId":"workOrder.calendarId","contractId":"workOrder.contractId","customerId":"workOrder.customerId","acTagComplex":"workOrder.acTagComplex","acTags":"workOrder.acTags","id":"workOrder.id","requestedDate":"workOrder.requestedDate","acTagGla":"workOrder.acTagGla","acLoanType":"workOrder.acLoanType"},"name":"fetchWorkOrderData","description":"fetchWorkOrderData","inputVarMap":{"initialWorkOrderId":"initialWorkOrderId"},"outputVarMap":{"data":"workOrder"},"nodeType":"QUERY","batchSize":1,"batchNumber":1},"processWorkOrderData":{"connectors":[{"exitPortType":"NextStep","nodeId":"processDateTime"}],"contextChangePermitted":true,"name":"processWorkOrderData","description":"processWorkOrderData","processRule":"{if (contextVar.workOrder.length > 0) { contextVar.workOrderContractId = contextVar.workOrder[0].contractId; contextVar.workOrderPriorityPriority = contextVar.workOrder[0].priorityPriority; contextVar.workOrderCustomerId = contextVar.workOrder[0].customerId; contextVar.workOrderCalendarId = contextVar.workOrder[0].calendarId; contextVar.workOrderSlaId = contextVar.workOrder[0].slaId; contextVar.workOrderWorkOrderTypeId = contextVar.workOrder[0].workOrderTypeId; contextVar.workOrderNotes = contextVar.workOrder[0].notes; contextVar.workOrderPriorityTargetModel = contextVar.workOrder[0].priorityTargetModel; contextVar.workOrderId = contextVar.workOrder[0].id; contextVar.workOrderRequestedDate = contextVar.workOrder[0].requestedDate; contextVar.workOrder[0].id='';contextVar.workOrder[0].statusId='workOrderOpen';}}","nodeType":"PROCESS"},"slaDeadlineWorkflow":{"connectors":[{"exitPortType":"NextStep","nodeId":"processSlaDeadlineData"}],"processId":"CWFEEU7WFX","name":"slaDeadlineWorkflow","description":"slaDeadlineWorkflow","inputVarMap":{},"outputVarMap":{},"nodeType":"WORKFLOW"},"decisionNode":{"connectors":[{"condition":"contextVar.subAction==='duplicateWorkOrder' || (contextVar.subAction=='' || typeof contextVar.subAction=='undefined')","exitPortType":"NextStep","nodeId":"processInitialWorkOrderId"},{"condition":"contextVar.subAction==='editWorkOrder'","exitPortType":"NextStep","nodeId":"slaDeadlineWorkflow"},{"DefaultStep":true,"exitPortType":"NextStep","nodeId":"end"}],"name":"decisionNode","description":"decisionNode","nodeType":"MULTIDECISION"},"processInitialWorkOrderId":{"connectors":[{"exitPortType":"NextStep","nodeId":"fetchWorkOrderData"}],"contextChangePermitted":true,"name":"processInitialWorkOrderId","description":"processInitialWorkOrderId","processRule":"{if(contextVar.subAction==='duplicateWorkOrder'){contextVar.initialWorkOrderId=contextVar.workOrder[0].id;}else{contextVar.initialWorkOrderId=contextVar.workOrderTemplateWorkOrderId;} contextVar.workOrderId='';}","nodeType":"PROCESS"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"decisionNode"}],"name":"start","description":"Start","nodeType":"START"},"processDateTime":{"connectors":[{"exitPortType":"NextStep","nodeId":"slaDeadlineWorkflow"}],"contextChangePermitted":true,"name":"processDateTime","description":"processDateTime","processRule":"{var today = new Date().setSeconds(0);contextVar.workOrderRequestedDate = new Date(today).toISOString().replace(/T/, ' ').replace(/\\..+/, '').replace(/Z/, '');contextVar.workOrder[0].requestedDate = new Date(today).toISOString().replace(/T/, ' ').replace(/\\..+/, '').replace(/Z/, '');}","nodeType":"PROCESS"},"end":{"name":"End","description":"end","inputVarMap":{"workOrder":"workOrder","workOrderContractId":"workOrderContractId","workOrderPriorityPriority":"workOrderPriorityPriority","workOrderDeadline":"workOrderDeadline","workOrderCustomerId":"workOrderCustomerId","workOrderCalendarId":"workOrderCalendarId","priorityDeadlineData":"priorityDeadlineData","workOrderSlaId":"workOrderSlaId","workOrderWorkOrderTypeId":"workOrderWorkOrderTypeId","workOrderNotes":"workOrderNotes","workOrderPriorityTargetModel":"workOrderPriorityTargetModel","workOrderRequestedDate":"workOrderRequestedDate","initialWorkOrderId":"initialWorkOrderId"},"outputVarMap":{"workOrder":"workOrder","workOrderContractId":"workOrderContractId","workOrderPriorityPriority":"workOrderPriorityPriority","workOrderDeadline":"workOrderDeadline","workOrderCustomerId":"workOrderCustomerId","workOrderCalendarId":"workOrderCalendarId","priorityDeadlineData":"priorityDeadlineData","workOrderSlaId":"workOrderSlaId","workOrderWorkOrderTypeId":"workOrderWorkOrderTypeId","workOrderNotes":"workOrderNotes","workOrderPriorityTargetModel":"workOrderPriorityTargetModel","workOrderRequestedDate":"workOrderRequestedDate","initialWorkOrderId":"initialWorkOrderId"},"nodeType":"END"},"processSlaDeadlineData":{"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"contextChangePermitted":true,"name":"processSlaDeadlineData","description":"processSlaDeadlineData","processRule":"{contextVar.priorityDeadlineData.forEach(function(data){if(contextVar.workOrderPriorityPriority === data.priority){contextVar.workOrderDeadline = data.deadline;contextVar.workOrder[0].deadline = data.deadline;}})}","nodeType":"PROCESS"},"workflowNodes":["start","decisionNode","processInitialWorkOrderId","fetchWorkOrderData","processWorkOrderData","processDateTime","slaDeadlineWorkflow","processSlaDeadlineData","end"]}