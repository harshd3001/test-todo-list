{"insertIntoAppointmentWindow":{"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"processId":"appointmentWindowModelWF","ignoreSubContext":true,"name":"insertIntoAppointmentWindow","description":"insertIntoAppointmentWindow","inputVarMap":{"subAction":"subAction","appointmentWindow":"appointmentWindow"},"outputVarMap":{"appointmentWindowId":"appointmentWindowId"},"nodeType":"WORKFLOW"},"processWindowOverlapping":{"connectors":[{"exitPortType":"NextStep","nodeId":"insertIntoAppointmentWindow"}],"contextChangePermitted":true,"name":"processWindowOverlapping","description":"processWindowOverlapping","processRule":"{if(contextVar.appointmentWindowData===''){contextVar.isWindowNonOverlapping=true;}}","nodeType":"PROCESS"},"workflowContext":{"isWindowNonOverlapping":false},"checkIfAppointmentWindowPresent":{"connectors":[{"exitPortType":"TrueStep","nodeId":"end"},{"exitPortType":"FalseStep","nodeId":"processWindowOverlapping"}],"name":"checkIfAppointmentWindowPresent","description":"checkIfAppointmentWindowPresent","processRule":"Array.isArray(contextVar.appointmentWindowData) && contextVar.appointmentWindowData.length > 0","id":"checkIfAppointmentWindowPresent","nodeType":"DECISION"},"processWindowStartEndTime":{"connectors":[{"exitPortType":"NextStep","nodeId":"fetchAppointmentWindows"}],"contextChangePermitted":true,"name":"processWindowStartEndTime","description":"processWindowStartEndTime","processRule":"{if(Array.isArray(contextVar.appointmentWindow) && contextVar.appointmentWindow.length > 0){contextVar.inputStartTime=contextVar.appointmentWindow[0].startTime,contextVar.inputEndTime=contextVar.appointmentWindow[0].endTime,contextVar.inputAppointmentWindowId=contextVar.appointmentWindow[0].id}}","nodeType":"PROCESS"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"processWindowStartEndTime"}],"name":"start","description":"Start","nodeType":"START"},"fetchAppointmentWindows":{"filter":"(({@inputStartTime} >= {$startTime} AND {@inputStartTime} < {$endTime}) OR ({@inputEndTime} > {$startTime} AND {@inputEndTime} <= {$endTime}) ) AND ({$id} != {@inputAppointmentWindowId}) ","models":["appointmentWindow"],"connectors":[{"exitPortType":"NextStep","nodeId":"checkIfAppointmentWindowPresent"}],"columns":{"maxTasks":"maxTasks","recver":"recver","name":"name","description":"description","startTime":"startTime","endTime":"endTime","id":"id"},"name":"fetchAppointmentWindows","description":"Fetch Existing Appointment Windows Details that matches with the new appointment window time slot","inputVarMap":{"inputEndTime":"inputEndTime","inputAppointmentWindowId":"inputAppointmentWindowId","inputStartTime":"inputStartTime","appointmentWindow":"appointmentWindow"},"id":"fetchAppointmentWindows","outputVarMap":{"data":"appointmentWindowData"},"nodeType":"QUERY","getCount":true},"end":{"name":"end","description":"End","inputVarMap":{"appointmentWindowId":"appointmentWindowId","isWindowNonOverlapping":"isWindowNonOverlapping"},"outputVarMap":{"appointmentWindowId":"appointmentWindowId","isWindowNonOverlapping":"isWindowNonOverlapping"},"nodeType":"END"},"workflowNodes":["start","processWindowStartEndTime","fetchAppointmentWindows","checkIfAppointmentWindowPresent","processWindowOverlapping","insertIntoAppointmentWindow","end"]}