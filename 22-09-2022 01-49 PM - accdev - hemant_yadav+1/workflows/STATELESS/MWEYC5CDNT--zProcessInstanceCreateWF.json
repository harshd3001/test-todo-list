{"processInstanceId":{"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"contextChangePermitted":true,"name":"processInstanceId","description":"processInstanceId","processRule":"{if(typeof contextVar.zProcessInstanceData !== 'undefined' && contextVar.zProcessInstanceData !== ''){contextVar.zProcessInstanceId=contextVar.zProcessInstanceData[0].zProcessInstanceId;}}","nodeType":"PROCESS"},"createInstance":{"connectors":[{"exitPortType":"NextStep","nodeId":"instanceIdCheck"}],"name":"createInstance","description":"createInstance","inputVarMap":{"workOrderTaskSiteId":"siteId","siteLatitude":"{@lat}","workOrderTaskId":"workOrderTaskId","siteAddress":"{@address}","workOrderTaskScheduledDate":"{@plannedStartTime}","workOrderTaskEstimatedDuration":"workOrderTaskEstimatedDuration","mobileProcessId":"processId","workOrderTaskReOpenCount":"workOrderTaskReOpenCount","userId":"assignedToUserId","timeTakenForTask":"{@estimatedDurationInHours}","siteLongitude":"{@lng}"},"outputVarMap":{"zProcessInstanceId":"zProcessInstanceId"},"execType":"fork","nodeType":"WORKFLOW"},"getInstanceId":{"filter":"{$ZProcessInstance.mainTitle} like {@taskId} AND {$ZProcessInstance.assignedToUserId} = {@userId}","models":["ZProcessInstance"],"connectors":[{"exitPortType":"NextStep","nodeId":"processInstanceId"}],"columns":{"createdDate":"ZProcessInstance.createdDate","zProcessInstanceId":"ZProcessInstance.id"},"name":"getInstanceId","description":"getInstanceId","orderBy":"createdDate DESC","inputVarMap":{"workOrderTaskId":"workOrderTaskId","userId":"userId","taskId":"taskId"},"outputVarMap":{"data":"zProcessInstanceData"},"batchSize":"1","nodeType":"QUERY"},"workflowContext":{},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"createInstance"}],"name":"start","description":"Start","id":"start","nodeType":"START"},"processMainTitle":{"connectors":[{"exitPortType":"NextStep","nodeId":"getInstanceId"}],"contextChangePermitted":true,"name":"processMainTitle","description":"processMainTitle","processRule":"{ if (typeof contextVar.workOrderTaskId !== 'undefined' && contextVar.workOrderTaskId !== '') { contextVar.taskId = contextVar.workOrderTaskId + '%'; } }","nodeType":"PROCESS"},"loggerWF2":{"connectors":[{"exitPortType":"NextStep","nodeId":"processInstanceId"}],"processId":"acDummyWF","name":"loggerWF2","description":"loggerWF2","inputVarMap":{},"outputVarMap":{},"nodeType":"WORKFLOW"},"end":{"name":"end","description":"end","inputVarMap":{"zProcessInstanceId":"zProcessInstanceId"},"outputVarMap":{"zProcessInstanceId":"zProcessInstanceId"},"nodeType":"END"},"workflowNodes":["start","createInstance","instanceIdCheck","processMainTitle","getInstanceId","processInstanceId","end","loggerWF","loggerWF2"],"instanceIdCheck":{"connectors":[{"exitPortType":"TrueStep","nodeId":"end"},{"exitPortType":"FalseStep","nodeId":"processMainTitle"}],"name":"instanceIdCheck","description":"instanceIdCheck","processRule":"(typeof contextVar.zProcessInstanceId !== 'undefined' && contextVar.zProcessInstanceId !== '')","nodeType":"DECISION"},"loggerWF":{"connectors":[{"exitPortType":"NextStep","nodeId":"createInstance"}],"processId":"acDummyWF","name":"loggerWF","description":"loggerWF","inputVarMap":{},"outputVarMap":{},"nodeType":"WORKFLOW"}}