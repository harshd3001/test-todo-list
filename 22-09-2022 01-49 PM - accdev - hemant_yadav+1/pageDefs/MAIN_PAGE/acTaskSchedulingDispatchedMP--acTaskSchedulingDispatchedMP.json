{"dynamicFilter":{"workOrderTaskDueDate":"Date","workOrderDeadline":"Date","customerCompanyName":"string","regionName":"string","statusName":"string","workOrderTaskId":"string","siteName":"string","crewName":"string","workOrderId":"string","taskTypeName":"string","userName":"string"},"isScrollAble":true,"searchAllowed":true,"tableWidth":"220rem","searchEmptyScreen":{"image":"@iconlib.PinSearchCross","contentValue":"@lang.['sysrcue','SORRY! YOUR SEARCH RESULTS CAME UP EMPTY']","type":"noData"},"rowActions":{"children":[{"activeIcon":"@iconlib.MenuWorkOrdersSolidPurple","name":"@lang.['v','viewWorkOrder']","tooltip":"@lang.['vwo','View Work Order']","icon":"@iconlib.MenuWorkOrdersSolidGrey","actionOnClick":["@actions.setWorkOrderActionView","@actions.OpenViewWorkOrderSidePanel"],"type":"buttonIcon"},{"activeIcon":"@iconlib.ActionsTechnicianEditPurple","hidden":{"status":["workOrderTaskInProgress","workOrderTaskInTransit","workOrderTaskDelayed","workOrderTaskIncident"]},"name":"@lang.['s5','schedulingEdit']","icon":"@iconlib.ActionsTechnicianEditGrey","tooltip":"@lang.['e1','Edit']","actionOnClick":["@actions.setInitialLoad","@actions.setActionSchedule","@actions.changeTztime","@actions.openScheduleSidePanel"],"type":"buttonIcon"},{"activeIcon":"@iconlib.ActionsVisiblePurple","hidden":{"status":["workOrderTaskDispatched"]},"name":"@lang.['s6','schedulingViewTask']","icon":"@iconlib.ActionsVisibleGrey","tooltip":"@lang.['vt','View Task']","actionOnClick":["@actions.setInitialLoad","@actions.setActionView","@actions.openScheduleSidePanel"],"type":"buttonIcon"}]},"emptyScreen":{"image":"@iconlib.DocClipboard","contentValue":"@lang.['ylieatm','YOUR LIST IS EMPTY AT THE MOMENT']","type":"noData"},"tableHeader":[{"name":"@lang.['s','Status']","options":{"flex":1.8,"sortOrder":"ASC","currentSorted":false,"colorCode":"statusNameColor","sortable":true,"showLabel":true},"key":"statusName"},{"name":"@lang.['as01','Anow Status']","options":{"hidden":true,"flex":1.8,"sortOrder":"ASC","currentSorted":false,"sortable":true,"showLabel":true},"key":"anowStatus"},{"name":"@lang.['p03','Priority']","options":{"isSlaPauseDisplayed":"false","flex":1.3,"slaTextColor":"slaTextColor","slaColor":"priorityColor","sortable":false,"zTimer":true,"iconUrl":"iconUrl","showLabel":true},"key":"priorityName"},{"name":"@lang.['a05','Address']","options":{"flex":2.5,"sortOrder":"ASC","sortable":true,"showLabel":true},"key":"address"},{"name":"@lang.['pa3','Primary Appraiser']","options":{"flex":2,"sortOrder":"ASC","sortable":true,"showLabel":true},"key":"primaryApprasier"},{"name":"@lang.['aa2','Appraiser / Analyst']","options":{"flex":2.5,"sortOrder":"ASC","sortable":true,"showLabel":true},"key":"userName"},{"name":"@lang.['rt01','Report Type']","options":{"flex":2,"sortOrder":"ASC","sortable":true,"showLabel":true},"key":"reportType"},{"name":"@lang.['ti02','Task ID']","options":{"flex":2,"sortOrder":"ASC","sortable":true,"showLabel":true},"key":"workOrderTaskId"},{"name":"UID","options":{"hidden":true,"flex":1.2,"sortOrder":"ASC","sortable":true,"showLabel":false},"key":"UID"},{"name":"@lang.['Woi3','Work Order ID']","options":{"flex":2,"sortOrder":"ASC","sortable":true,"showLabel":true},"key":"workOrderId"},{"name":"@lang.['dd1','Due Date']","options":{"flex":2.5,"sortOrder":"ASC","sortable":true,"type":"dateTime","showLabel":true},"key":"workOrderDeadline"},{"name":"@lang.['sd02','Scheduled Date']","options":{"flex":3,"sortOrder":"ASC","dateRangeType":"datetime","sortable":true,"type":"dateRange","showLabel":true},"key":"workOrderTaskScheduledTime"},{"name":"Scheduled Date (Property Time)","options":{"flex":4,"sortOrder":"ASC","dateRangeType":"datetime","type":"dateRange","showLabel":true},"key":"workOrderTaskScheduledTime1"},{"name":"@lang.['tt03','Task Type']","options":{"flex":2,"sortOrder":"ASC","sortable":true,"showLabel":true},"key":"taskTypeName"},{"name":"@lang.['ob02','Order By']","options":{"flex":2,"showLabel":true},"key":"customerCompanyName"},{"name":"@lang.['l8','Lender']","options":{"flex":2,"showLabel":true},"key":"lenderName"},{"name":"@lang.['c04','Created']","options":{"flex":2,"type":"dateTime","showLabel":true},"key":"createdDate"},{"name":"@lang.['m12','Market']","options":{"flex":2,"showLabel":true},"key":"regionName"},{"name":"@lang.['c05','Contact']","options":{"flex":2,"showLabel":true},"key":"contactName"},{"name":"@lang.['ci01','Contact Information']","options":{"flex":2,"showLabel":true},"key":"contactInformation"},{"name":"@lang.['t01','Tags']","options":{"flex":2,"showLabel":true},"key":"tags"},{"name":"@lang.['cn4','Crew Name']","options":{"hidden":true,"showLabel":false},"key":"crewName"},{"name":"latitude","options":{"hidden":true,"showLabel":false},"key":"latitude"},{"name":"longitude","options":{"hidden":true,"showLabel":false},"key":"longitude"}],"dataToBeSent":{"apiResponseParams":["count"],"processId":"acTaskSchedulingAndDispatchDataWF","apiResponseFormat":true,"contextVar":{"statusFilter":["workOrderTaskDispatched","workOrderTaskInProgress","workOrderTaskInTransit","workOrderTaskDelayed","workOrderTaskIncident"]},"apiResponseObject":"schedulingAndDispatchData"},"actionOnLoad":[],"dataSourceId":"process/start","sourceType":"api","rowTextLength":20,"jslib":{},"header":{"filterAllowed":true,"subHeaderText":"@lang.['r','Records']","headerText":"@lang.['dt','Dispatched Tasks']","children":[]},"enableSidePanelFilter":true,"updateAllowed":true,"isSelectable":false,"actions":[{"name":"setActionSchedule","type":"script","actionDef":"function(pageContext){pageContext.action='dispatch';}"},{"name":"setInitialLoad","type":"script","actionDef":"function(pageContext){pageContext.initialLoad=true;}"},{"name":"OpenViewWorkOrderSidePanel","type":"openPanel","pageId":"acWorkOrderSP"},{"name":"openScheduleSidePanel","type":"openPanel","pageId":"acTaskSchedulingAndAssignSP"},{"name":"refreshDataGrid","type":"refreshDataGrid"},{"name":"setWorkOrderActionView","type":"script","actionDef":"function(pageContext){pageContext.workOrderAction='showWorkOrder';pageContext.subAction='viewWorkOrder';}"},{"name":"setActionView","type":"script","actionDef":"function(pageContext){pageContext.workOrderTaskAction='view';}"},{"name":"setLatLongData","type":"script","actionDef":"function(pageContext) { if (typeof pageContext.latitude !== 'undefined' && pageContext.latitude !== '' && typeof pageContext.longitude !== 'undefined' && pageContext.longitude !== '') { pageContext.location = pageContext.latitude + ' ' + pageContext.longitude; pageContext.timestamp = +Math.floor(Date.now() / 1000); } }"},{"endPoint":"process/start","name":"fetchTimeZoneData","outputVarMap":{"data":"@pageContext.fetchTimeZoneData"},"type":"api","actionDef":{"data":[{"inputVar":{"latitude":"@pageContext.latitude","location":"@pageContext.location","timestamp":"@pageContext.timestamp","longitude":"@pageContext.longitude"},"processId":"Q1OXR54SMG","contextVar":{"latitude":"@pageContext.latitude","location":"@pageContext.location","timestamp":"@pageContext.timestamp","longitude":"@pageContext.longitude"}}]}},{"name":"setCurrentTimeData","type":"script","actionDef":"function(pageContext) { var d = new Date(new Date(pageContext.workOrderTaskDueDate).getTime() - pageContext.siteTimezoneOffset * 60 * 1000); pageContext.workOrderTaskScheduledDate = d.getFullYear() + '-' + (parseInt(d.getMonth() + 1) < 10 ? '0' + parseInt(d.getMonth() + 1) : parseInt(d.getMonth() + 1)) + '-' + (d.getDate() < 10 ? '0' + d.getDate() : d.getDate()) + ' ' + (d.getHours() < 10 ? '0' + d.getHours() : d.getHours()) + ':' + (d.getMinutes() < 10 ? '0' + d.getMinutes() : d.getMinutes()) + ':00.000'; }"},{"name":"setTimeStampDueDate","type":"script","actionDef":"function(pageContext) { if (typeof pageContext.workOrderTaskScheduledDate !== 'undefined' && pageContext.workOrderTaskScheduledDate !== '') { pageContext.dueDateTimestamp = parseInt((new Date(pageContext.workOrderTaskScheduledDate).getTime() / 1000).toFixed(0)); } }"},{"endPoint":"process/start","name":"fetchTZDueDate","outputVarMap":{"data":"@pageContext.fetchTZDueDate"},"type":"api","actionDef":{"data":[{"inputVar":{"latitude":"@pageContext.latitude","location":"@pageContext.location","timestamp":"@pageContext.dueDateTimestamp","longitude":"@pageContext.longitude"},"processId":"Q1OXR54SMG","contextVar":{"latitude":"@pageContext.latitude","location":"@pageContext.location","timestamp":"@pageContext.dueDateTimestamp","longitude":"@pageContext.longitude"}}]}},{"name":"setDueDateTz","type":"script","actionDef":"function(pageContext) { var mmaindte = pageContext.fetchTZDueDate[0].outputVar.currentSiteTime; var tz = pageContext.fetchTZDueDate[0].outputVar.timeZone; var a = mmaindte.slice(0, 11); var t = a.concat(tz.slice(1, 5)); var timeStart = new Date(mmaindte); var timeEnd = new Date(t); var difference = timeStart.getTime() - timeEnd.getTime(); var diff_result = new Date(difference); var c = JSON.stringify(diff_result); c.replace('T', ' ').replace('Z', ''); pageContext.workOrderTaskDueDate = (a.concat(c.slice(12, 24))); }"},{"name":"changeTztime","type":"script","continueOnError":true,"actionDef":"function(pageContext) { function formatDate(date) { if (date) { var d = new Date(new Date(date).getTime() - pageContext.siteTimezoneOffset * 60 * 1000); return d.getFullYear() + '-' + (parseInt(d.getMonth() + 1) < 10 ? '0' + parseInt(d.getMonth() + 1) : parseInt(d.getMonth() + 1)) + '-' + (d.getDate() < 10 ? '0' + d.getDate() : d.getDate()) + ' ' + (d.getHours() < 10 ? '0' + d.getHours() : d.getHours()) + ':' + (d.getMinutes() < 10 ? '0' + d.getMinutes() : d.getMinutes()) + ':00.000'; d = new Date(new Date(d + ' UTC').toLocaleString('en-us', { timeZone: pageContext.siteTimeZone })), month = '' + (d.getMonth() + 1), day = '' + d.getDate(), year = d.getFullYear(); var hours = d.getHours().toString(); var minutes = d.getMinutes().toString(); var seconds = d.getSeconds().toString(); var timeZone = new Date().toString().split(' ')[5]; if (minutes.length < 2) minutes = '0' + minutes; if (hours.length < 2) hours = '0' + hours; if (seconds.length < 2) seconds = '0' + seconds; time = hours + ':' + minutes + ':' + seconds; if (month.length < 2) month = '0' + month; if (day.length < 2) day = '0' + day; date = ([year, month, day].join('-') + ' ' + time); } else { return '-'; } } pageContext.siteLocalTime = formatDate(pageContext.workOrderTaskScheduledDate); }"}],"searchKeys":["statusName","workOrderId","workOrderTaskId","UID","taskTypeName","siteName","crewName","userName","regionName","customerCompanyName"]}