{"pageContext":{},"actionOnLoad":["@actions.initialData"],"localPageContext":true,"jslib":{"isHiddenZpriorityNameDropDown":"function(pageContext){if(pageContext.slaTimeFrameAction==='edit'){return true;}}","isHiddenZpriorityName":"function(pageContext){if(pageContext.slaTimeFrameAction==='edit'){return false;}else{return true;}}","isResolutionTimeAmountHidden":"function(pageContext){ if(( pageContext.slaTimeFrameResolutionTimeUnit == undefined) || pageContext.slaTimeFrameResolutionTimeUnit == ''){return true;}}","dynamicHeaderText":"function(pageContext){if(pageContext.slaTimeFrameAction === 'add'){return '@lang.[\"astf\",\"Add SLA Time Frames\"]'}else if(pageContext.slaTimeFrameAction === 'edit'){return '@lang.[\"estf\",\"Edit SLA Time Frames\"]'}}","isSaveDisabled":"function(pageContext){if(pageContext.slaTimeFrameAction==='add'){return((pageContext.slaTimeFramePriorityPriority==='')||(pageContext.slaTimeFrameResolutionTimeUnit==='')||(pageContext.slaTimeFrameResolutionTimeAmount==='') || (pageContext.slaTimeFrameResolutionTimeAmount <= 0))}else if(pageContext.slaTimeFrameAction==='edit'){ return(((pageContext.zPriorityName===pageContext.initialZPriorityName)&&(pageContext.slaTimeFrameResolutionTimeUnit===pageContext.initialSlaTimeFrameResolutionTimeUnit)&&(pageContext.slaTimeFrameResolutionTimeAmount===pageContext.initialSlaTimeFrameResolutionTimeAmount))||(pageContext.slaTimeFramePriorityPriority==='')||(pageContext.slaTimeFrameResolutionTimeUnit==='')||(pageContext.slaTimeFrameResolutionTimeAmount==='') || (pageContext.slaTimeFrameResolutionTimeAmount <= 0))}}"},"header":{"leftData":{"children":[{"name":"back","icon":"@iconlib.NavigationArrowBackGrey","actionOnClick":["@actions.openPreviousPanel","@actions.setActionEdit","@actions.refreshDataGrid"],"type":"buttonIcon"}]},"children":[{"buttonType":"primary","actionOnClick":["@actions.setSubActionUpsertSlaTimeFrame","@actions.fireProcessEvent","@actions.openPreviousPanel","@actions.setActionEdit","@actions.refreshDataGrid"],"disabled":"@jslib.isSaveDisabled","id":"submit","type":"button","title":"@lang.['s12','Save']"}],"title":"@jslib.dynamicHeaderText"},"body":{"children":[{"children":[{"hidden":"@jslib.isHiddenZpriorityNameDropDown","options":"@pageContext.priorityList","id":"priority","optTitleKey":"zPriorityName","optValueKey":"zPriorityPriority","title":"@lang.['priority','Priority']","type":"dropdown","value":"@pageContext.slaTimeFramePriorityPriority","placeHolder":"@lang.['sp','Select priority']"},{"hidden":"@jslib.isHiddenZpriorityName","disabled":true,"id":"priorityName","label":"@lang.['priority','Priority']","type":"input","value":"@pageContext.zPriorityName","placeHolder":"@lang.['sp','Select priority']"},{"isRequired":true,"options":[{"name":"@lang.['m2','Minutes']","id":"minutes"},{"name":"@lang.['h','Hours']","id":"hours"},{"name":"@lang.['d11','Days']","id":"days"}],"id":"resolutionTimeUnit","optTitleKey":"name","optValueKey":"id","title":"@lang.['mrti','Measure Resolution Time in']","type":"dropdown","value":"@pageContext.slaTimeFrameResolutionTimeUnit","placeHolder":"@lang.['sauom','Select a unit of measure']"},{"hidden":"@jslib.isResolutionTimeAmountHidden","inputType":"number","id":"resolutionTimeAmount","label":"@lang.['rt','Resolution Time']","placeholder":"@lang.['ert','Enter resolution time (Amount)']","type":"input","value":"@pageContext.slaTimeFrameResolutionTimeAmount"}],"label":"@lang.['stfi','SLA Time Frame Information']","id":"addNewSkillsDetails","type":"section"}]},"actions":[{"endPoint":"event/start","name":"fireProcessEvent","outputVarMap":{"data":"@pageContext.data"},"type":"api","actionDef":{"data":[{"eventId":"settingsBusinessSlaProcessEvent","contextVar":{"slaTimeFrame":{"priorityName":"@pageContext.priorityName","resolutionTimeUnit":"@pageContext.slaTimeFrameResolutionTimeUnit","priorityPriority":"@pageContext.slaTimeFramePriorityPriority","resolutionTimeAmount":"@pageContext.slaTimeFrameResolutionTimeAmount","slaId":"@pageContext.slaId","recver":"@pageContext.slaTimeFrameRecver","priorityTargetModelUpdate":"@pageContext.priorityFinalList[0].zPriorityTargetModel","priorityTargetModel":"@pageContext.priorityList[0].zPriorityTargetModel"},"subAction":"@pageContext.subAction"}}]}},{"name":"initialData","type":"script","actionDef":"function (pageContext) { if (pageContext.slaTimeFrameAction === 'add') { pageContext.priorityList = []; pageContext.unselectedPriorityList.forEach(function (value) { if (typeof value.zPriorityPriority === 'number') { value.zPriorityPriority = value.zPriorityPriority.toString(); pageContext.priorityList.push(value) } }); pageContext.slaTimeFrameResolutionTimeUnit = ''; pageContext.slaTimeFrameResolutionTimeAmount = '' } else if (pageContext.slaTimeFrameAction == 'edit') { pageContext.initialSlaTimeFramePriorityPriority = pageContext.zPriorityName; pageContext.initialZPriorityName = pageContext.zPriorityName; pageContext.initialSlaTimeFrameResolutionTimeUnit = pageContext.slaTimeFrameResolutionTimeUnit; pageContext.initialSlaTimeFrameResolutionTimeAmount = pageContext.slaTimeFrameResolutionTimeAmount } }"},{"name":"setActionEdit","type":"script","actionDef":"function(pageContext){pageContext.slaAction='edit';}"},{"name":"setSubActionUpsertSlaTimeFrame","type":"script","actionDef":"function(pageContext){pageContext.subAction='upsertSlaTimeFrame';}"},{"name":"openPreviousPanel","type":"backPanel"},{"name":"refreshDataGrid","type":"refreshDataGrid"}]}