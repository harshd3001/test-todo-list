{"isCalledFromPage":{"connectors":[{"exitPortType":"TrueStep","nodeId":"end"},{"exitPortType":"FalseStep","nodeId":"findNumberOfBatches"}],"name":"isCalledFromPage","description":"isCalledFromPage","processRule":"contextVar.calledFromPage === true","nodeType":"DECISION"},"workflowContext":{"customBatchSize":1000,"calledFromPage":true,"customBatchNumber":1},"findNumberOfBatches":{"connectors":[{"exitPortType":"NextStep","nodeId":"areMoreManufacturerPresent"}],"contextChangePermitted":true,"name":"findNumberOfBatches","description":"findNumberOfBatches","processRule":"{contextVar.noOfBatches = Math.ceil(contextVar.totalManufacturerCount / contextVar.customBatchSize);contextVar.manufacturerBatchNumber++;}","id":"findNumberOfBatches","nodeType":"PROCESS"},"areMoreManufacturerPresent":{"connectors":[{"exitPortType":"TrueStep","nodeId":"fetchMoreManufacturerData"},{"exitPortType":"FalseStep","nodeId":"end"}],"name":"areMoreManufacturerPresent","description":"areMoreManufacturerPresent","processRule":"contextVar.noOfBatches >= 2 && contextVar.noOfBatches >= contextVar.manufacturerBatchNumber","nodeType":"DECISION"},"appendManufacturer":{"connectors":[{"exitPortType":"NextStep","nodeId":"areMoreManufacturerPresent"}],"contextChangePermitted":true,"name":"appendManufacturer","description":"appendRequests","processRule":"if (Array.isArray(contextVar.appendManufacturerData)) { contextVar.manufacturerData = contextVar.manufacturerData.concat(contextVar.appendManufacturerData) } contextVar.manufacturerBatchNumber++;","nodeType":"PROCESS"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"processInitialParameters"}],"name":"start","description":"Start","nodeType":"START"},"end":{"name":"end","description":"end","inputVarMap":{"manufacturerData":"manufacturerData","totalManufacturerCount":"count"},"outputVarMap":{"count":"count","manufacturerData":"manufacturerData"},"nodeType":"END"},"manufacturerData":{"models":["manufacturer"],"connectors":[{"exitPortType":"NextStep","nodeId":"isCalledFromPage"}],"columns":{"name":"manufacturer.name","description":"manufacturer.description","id":"manufacturer.id"},"description":"Fetch manufacturer Details","orderBy":"orderBy","distinct":true,"inputVarMap":{"searchText":"searchText","manufacturerModelFilter":"filter","orderBy":"orderBy","batchSize":"batchSize","batchNumber":"batchNumber","manufacturerIdList":"manufacturerIdList"},"nodeType":"QUERY","filter":"filter","name":"manufacturerData","outputVarMap":{"data":"manufacturerData","count":"totalManufacturerCount","batchNumber":"manufacturerBatchNumber"},"batchSize":"batchSize","getCount":true,"batchNumber":"batchNumber"},"workflowNodes":["start","processInitialParameters","manufacturerData","isCalledFromPage","findNumberOfBatches","areMoreManufacturerPresent","fetchMoreManufacturerData","appendManufacturer","end"],"processInitialParameters":{"connectors":[{"exitPortType":"NextStep","nodeId":"manufacturerData"}],"contextChangePermitted":true,"name":"processInitialParameters","description":"processInitialParameters","processRule":"{ if (typeof contextVar.manufacturerFilter !== 'undefined' && contextVar.manufacturerFilter !== '') { contextVar.manufacturerModelFilter = contextVar.manufacturerFilter; } else if (typeof contextVar.manufacturerIdList !== 'undefined' && contextVar.manufacturerIdList.length > 0) { contextVar.manufacturerModelFilter = '{$manufacturer.id} IN {@manufacturerIdList}'; contextVar.calledFromPage = false; } if (typeof contextVar.batchSize === 'undefined' || contextVar.batchSize === '') { contextVar.batchSize = contextVar.customBatchSize; contextVar.batchNumber = contextVar.customBatchNumber; contextVar.calledFromPage = false; } }","nodeType":"PROCESS","jsEngine":"es6"},"fetchMoreManufacturerData":{"models":["manufacturer"],"connectors":[{"exitPortType":"NextStep","nodeId":"appendManufacturer"}],"columns":{"name":"manufacturer.name","description":"manufacturer.description","id":"manufacturer.id"},"outerJoinOnModel":"inventoryRequest","description":"Fetch manufacturer Details","orderBy":"orderBy","distinct":true,"inputVarMap":{"searchText":"searchText","manufacturerModelFilter":"filter","orderBy":"orderBy","batchSize":"batchSize","batchNumber":"batchNumber","manufacturerIdList":"manufacturerIdList"},"nodeType":"QUERY","filter":"filter","name":"fetchMoreManufacturerData","outputVarMap":{"data":"appendManufacturerData"},"batchSize":"batchSize","getCount":true,"batchNumber":"batchNumber"}}