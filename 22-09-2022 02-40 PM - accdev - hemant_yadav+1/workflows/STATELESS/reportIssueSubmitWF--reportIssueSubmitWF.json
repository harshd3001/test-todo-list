{"processData":{"connectors":[{"exitPortType":"NextStep","nodeId":"checkReportIssueType"}],"contextChangePermitted":true,"name":"processData","description":"process inputs from page","processRule":"{contextVar.incidentDetails = contextVar.incidentDetailsFetched[0].incidentDetails ? contextVar.incidentDetailsFetched[0].incidentDetails : [];contextVar.incidentDetails = Array.isArray(contextVar.incidentDetails) ? contextVar.incidentDetails : JSON.parse(contextVar.incidentDetails);contextVar.incidentDetailValues = {};contextVar.incidentDetailValues.reportIssueCapturedTime = contextVar.reportIssueCapturedTime;contextVar.incidentDetailValues.reportIssueLocationCoordinates = contextVar.reportIssueLocationCoordinates;contextVar.incidentDetailValues.incidentTypeValue = contextVar.incidentTypeValue;contextVar.incidentDetailValues.incidentReason = contextVar.incidentReason;contextVar.incidentDetailValues.reportIssueDescription = contextVar.reportIssueDescription;contextVar.incidentDetailValues.reportIssuePhotoFirst = contextVar.reportIssuePhotoFirst;contextVar.incidentDetailValues.reportIssuePhotoSecond = contextVar.reportIssuePhotoSecond;contextVar.incidentDetailValues.reportIssueType = contextVar.reportIssueType;contextVar.incidentDetailValues.delay = contextVar.delay;contextVar.incidentDetailValues.reportIssueTechnician = contextVar.userId;contextVar.incidentDetails.push(contextVar.incidentDetailValues);}","id":"processData","nodeType":"PROCESS"},"workflowContext":{"statusTargetModel":"workOrderTask","incidentDetails":[],"delayedEventType":"workOrderTaskDelayed","delayed":"workOrderTaskDelayed","incident":"workOrderTaskIncident","incidentDetailValues":{},"incidentEventType":"workOrderTaskIncident"},"updateWorkorderTaskDiscontinued":{"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"processId":"mdtNewPostProcessingWF","name":"updateWorkorderTaskDiscontinued","description":"","inputVarMap":{"submitProgressComments":"submitProgressComments","userData":"userData","workforceCrewStatusId":"workforceCrewStatusId","crewAttendanceDetailsList":"crewAttendanceDetailsList","endDate":"endDate","taskDescription":"taskDescription","crewMobileAccess":"crewMobileAccess","workOrderTaskAssignedToCrewId":"workOrderTaskAssignedToCrewId","partsForRemoval":"partsForRemoval","leadUserId":"leadUserId","webTask":"webTask","correctiveTaskRequestReasons":"correctiveTaskRequestReasons","scheduleBreakDown":"scheduleBreakDown","taskLogData":"taskLogData","workOrderTaskOpen":"workOrderTaskOpen","workOrderCompleted":"workOrderCompleted","workOrderInProgress":"workOrderInProgress","workOrderTaskDraft":"workOrderTaskDraft","recordInitialEvidenceLocationCoordinates":"recordInitialEvidenceLocationCoordinates","cancellationNotes":"cancellationNotes","assignUserId":"assignUserId","partsForOthers":"partsForOthers","siteAddress":"siteAddress","mobileProcessId":"mobileProcessId","leadDetails":"leadDetails","customerName":"customerName","crewTask":"crewTask","partsForInstallation":"partsForInstallation","servicesDataGrid":"servicesDataGrid","statusId":"statusId","siteLatitude":"siteLatitude","workOrderOpen":"workOrderOpen","fetchNotSuggestedParts":"fetchNotSuggestedParts","assetsList":"assetsList","assignee":"assignee","taskProgress":"taskProgress","workOrderTaskTaskTypeId":"workOrderTaskTaskTypeId","submitType":"submitType","breakDownData":"breakDownData","latitude":"latitude","taskData":"taskData","siteName":"siteName","additionalMaterialsDataGrid":"additionalMaterialsDataGrid","checkInIncidentReasonsListOptions":"checkInIncidentReasonsListOptions","notCheckedInTravelStatus":"notCheckedInTravelStatus","taskDetail":"taskDetail","submitServicesLocationCoordinates":"submitServicesLocationCoordinates","workOrderTaskDispatched":"workOrderTaskDispatched","workOrderTaskEstimatedDuration":"workOrderTaskEstimatedDuration","userEmail":"userEmail","fetchActivityIncidentListOptions":"fetchActivityIncidentListOptions","workOrderTaskReOpenCount":"workOrderTaskReOpenCount","assetRemovalListOptions":"assetRemovalListOptions","assignedToUserId":"assignedToUserId","address":"address","incorrectAddress":"incorrectAddress","cancellationReason":"cancellationReason","taskPriority":"taskPriority","services":"services","userId":"userId","fetchReportIssue":"fetchReportIssue","workOrderScheduled":"workOrderScheduled","initialEvidenceDataGrid":"initialEvidenceDataGrid","workOrderTaskSiteChangeRequest":"workOrderTaskSiteChangeRequest","assetMaintenanceListOptions":"assetMaintenanceListOptions","workOrderTaskInTransit":"workOrderTaskInTransit","travelStatus":"travelStatus","recordSubmitServicesTime":"recordSubmitServicesTime","workOrderTaskIncident":"workOrderTaskIncident","workOrderTaskScheduledDate":"workOrderTaskScheduledDate","contactPhone":"contactPhone","dueDate":"dueDate","incidentType":"incidentType","userPhoneNumber":"userPhoneNumber","workOrderData":"workOrderData","custData":"custData","pendingReviewStatus":"workOrderTaskPendingReview","workOrderTaskPendingReview":"workOrderTaskPendingReview","fullTaskScheduleGridData":"fullTaskScheduleGridData","partialAccess":"partialAccess","workOrderTaskId":"workOrderTaskId","checkOutCheckBoxForSubmitCapturedTime":"checkOutCheckBoxForSubmitCapturedTime","fetchMaterialsInCatalogNS":"fetchMaterialsInCatalogNS","checkOutCheckBoxForSubmit":"checkOutCheckBoxForSubmit","currentUserDetail":"currentUserDetail","userStatusFilter":"userStatusFilter","longitude":"longitude","recordInitialEvidenceTime":"recordInitialEvidenceTime","workOrder":"workOrder","workOrderTaskApproved":"workOrderTaskApproved","initialComments":"initialComments","catalogList":"catalogList","workOrderTaskPendingApproval":"workOrderTaskPendingApproval","workOrderTaskDiscontinued":"workOrderTaskDiscontinued","modesOfTransport":"modesOfTransport","workOrderTaskRejected":"workOrderTaskRejected","isCrewTask":"isCrewTask","partsForService":"partsForService","enableServices":"enableServices","workOrderTaskDelayed":"workOrderTaskDelayed","name":"name","newLocationPhoto":"newLocationPhoto","workOrderId":"workOrderId","workOrderTaskScheduled":"workOrderTaskScheduled","submitProgressEvidenceDataGrid":"submitProgressEvidenceDataGrid","viewTravelStatus":"viewTravelStatus","workOrderTaskInProgress":"workOrderTaskInProgress","submitTypeListOptions":"submitTypeListOptions","fetchTransportModes":"fetchTransportModes","crewMemberSubmitTypeListOptions":"crewMemberSubmitTypeListOptions","siteChangeReq":"siteChangeReq","workOrderTaskCompleted":"workOrderTaskCompleted","timezone":"timezone","dateArray":"dateArray","travelIncidentReasonsListOptions":"travelIncidentReasonsListOptions","scheduledDate":"scheduledDate","taskTypeName":"taskTypeName","fetchSuggestedPartsData":"fetchSuggestedPartsData","taskType":"taskType","reasonOfwrongSite":"reasonOfwrongSite","workOrderTaskCancelled":"workOrderTaskCancelled","checkOutCheckBoxForSubmitLocationCoordinates":"checkOutCheckBoxForSubmitLocationCoordinates","siteLongitude":"siteLongitude","workOrderDraft":"workOrderDraft","workOrderTaskAssignedToUserId":"workOrderTaskAssignedToUserId","estimatedTaskDuration":"estimatedTaskDuration","taskTypeData":"taskTypeData","userName":"userName","autoCheckoutReqd":"autoCheckoutReqd","workOrderPendingReview":"workOrderPendingReview","serviceList":"serviceList","siteId":"siteId","incorrectSiteComments":"incorrectSiteComments","fetchSuggestedMaterials":"fetchSuggestedMaterials","crewAttendanceDetailsDataGrid":"crewAttendanceDetailsDataGrid","taskDetailBackwardCompatibility":"taskDetailBackwardCompatibility","timeTakenForTask":"timeTakenForTask","taskId":"taskId","workOrderTaskData":"workOrderTaskData"},"id":"updateWorkorderTaskDiscontinued","outputVarMap":{},"nodeType":"WORKFLOW"},"setReason":{"connectors":[{"exitPortType":"NextStep","nodeId":"processData"}],"contextChangePermitted":true,"name":"setReason","description":"process inputs from page","processRule":"{ if(typeof contextVar.incidentTypeValue!='undefined' && contextVar.incidentTypeValue!='' && contextVar.incidentTypeValue=='travelIncident'){contextVar.incidentReason=contextVar.travelIncidentReason}  else if (typeof contextVar.incidentTypeValue!='undefined' && contextVar.incidentTypeValue!='' && contextVar.incidentTypeValue=='checkInIncident'){contextVar.incidentReason=contextVar.checkInIncidentReason}  else if (typeof contextVar.incidentTypeValue!='undefined' && contextVar.incidentTypeValue!='' && contextVar.incidentTypeValue=='activityIncident'){contextVar.incidentReason=contextVar.activityIncidentReason}}","id":"setReason","nodeType":"PROCESS"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"fetchIncidentDetails"}],"name":"start","description":"Start","id":"start","nodeType":"START"},"updateWorkOrderTask":{"modelName":"workOrderTask","connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"multirecord":false,"name":"updateWorkOrderTask","description":"Provide some description for your model node","inputVarMap":{"incidentDetails":"incidentDetails","statusTargetModel":"statusTargetModel","incident":"statusId","taskId":"id","incidentEventType":"eventType"},"id":"updateWorkOrderTask","nodeType":"MODEL","operation":2},"end":{"name":"end","description":"End","inputVarMap":{"unassignedTask":"data"},"outputVarMap":{"unassignedTask":"data"},"id":"end","nodeType":"END"},"checkReportIssueType":{"connectors":[{"DefaultStep":true,"condition":"(typeof contextVar.reportIssueType=='undefined' || contextVar.reportIssueType=='' )","exitPortType":"NextStep","nodeId":"end"},{"DefaultStep":false,"condition":"(typeof contextVar.reportIssueType!='undefined' && contextVar.reportIssueType!='' && contextVar.reportIssueType=='continueTask')","exitPortType":"NextStep","nodeId":"updateWorkOrderTask"},{"DefaultStep":false,"condition":"(typeof contextVar.reportIssueType!='undefined' && contextVar.reportIssueType!='' && contextVar.reportIssueType=='reportTaskDelay')","exitPortType":"NextStep","nodeId":"updateWorkOrderTaskDelayed"},{"DefaultStep":false,"condition":"(typeof contextVar.reportIssueType!='undefined' && contextVar.reportIssueType!='' && contextVar.reportIssueType=='unableToContinue')","exitPortType":"NextStep","nodeId":"updateWorkorderTaskDiscontinued"}],"name":"checkReportIssueType","description":"check the type of report issue","id":"checkReportIssueType","nodeType":"MULTIDECISION"},"workflowNodes":["start","fetchIncidentDetails","setReason","processData","checkReportIssueType","updateWorkOrderTask","updateWorkOrderTaskDelayed","updateWorkorderTaskDiscontinued","end"],"fetchIncidentDetails":{"filter":"{$id} = {@taskId}","models":["workOrderTask"],"connectors":[{"exitPortType":"NextStep","nodeId":"setReason"}],"columns":{"incidentDetails":"workOrderTask.incidentDetails","id":"workOrderTask.id"},"name":"fetchIncidentDetails","description":"fetch incidentDetails","inputVarMap":{"taskId":"taskId"},"id":"fetchIncidentDetails","outputVarMap":{"data":"incidentDetailsFetched"},"nodeType":"QUERY"},"updateWorkOrderTaskDelayed":{"modelName":"workOrderTask","connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"multirecord":false,"name":"updateWorkOrderTaskDelayed","description":"Provide some description for your model node","inputVarMap":{"incidentDetails":"incidentDetails","statusTargetModel":"statusTargetModel","delayedEventType":"eventType","delayed":"statusId","taskId":"id"},"id":"updateWorkOrderTaskDelayed","nodeType":"MODEL","operation":2}}