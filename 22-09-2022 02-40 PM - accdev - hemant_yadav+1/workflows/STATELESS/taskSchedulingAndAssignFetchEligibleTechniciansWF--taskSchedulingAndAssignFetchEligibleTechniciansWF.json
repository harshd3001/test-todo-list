{"fetchTechnicianDetails":{"models":["User","workforce","calendar"],"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"columns":{"calendarName":"calendar.name","userEmailId":"User.emailId","userName":"User.name","workforceUserId":"workforce.userId"},"outerJoinOnModel":"workforce","orderBy":"userName ASC","distinct":true,"description":"fetchTechnicianDetails","inputVarMap":{"searchText":"searchText","workforceStatusFilter":"workforceStatusFilter","workforceType":"workforceType","finalUserIdList":"finalUserIdList","technicianFilter":"filter","userStatusFilter":"userStatusFilter"},"nodeType":"QUERY","filter":"filter","name":"fetchTechnicianDetails","links":{"calendar":"workforce","workforce":"User"},"outputVarMap":{"data":"technicianList","count":"count"},"getCount":true},"processWorkOrderTaskId":{"connectors":[{"exitPortType":"NextStep","nodeId":"getEligibleTechnicianIds"}],"contextChangePermitted":true,"name":"processWorkOrderTaskId","description":"processWorkOrderTaskId","processRule":"{ if (typeof contextVar.workOrderTaskIdList==='undefined') { contextVar.workOrderTaskIdList=[];contextVar.workOrderTaskIdList.push(contextVar.workOrderTaskId) } }","id":"processWorkOrderTaskId","nodeType":"PROCESS"},"workflowContext":{"workforceStatusFilter":"workforceActive","workforceType":"webUser","userStatusFilter":"Deactivated"},"getEligibleTechnicianIds":{"connectors":[{"exitPortType":"NextStep","nodeId":"isEligibleTechnicianIdsListPresent"}],"processId":"workGroupFilterForTechniciansAndTasksWF","name":"getEligibleTechnicianIds","description":"getEligibleTechnicianIds","inputVarMap":{"workOrderTaskIdList":"workOrderTaskIdList"},"outputVarMap":{"finalFilteredUserIdList":"finalFilteredUserIdList"},"nodeType":"WORKFLOW"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"processWorkOrderTaskId"}],"name":"Start","description":"Start","id":"start","nodeType":"START"},"isEligibleTechnicianIdsListPresent":{"connectors":[{"exitPortType":"TrueStep","nodeId":"createFilter"},{"exitPortType":"FalseStep","nodeId":"end"}],"name":"isEligibleTechnicianIdsListPresent","description":"Use this for decision in workflow","processRule":"(typeof contextVar.finalFilteredUserIdList !== 'undefined' && contextVar.finalFilteredUserIdList !== '' && typeof contextVar.finalFilteredUserIdList[contextVar.workOrderTaskIdList[0]]!=='undefined' && contextVar.finalFilteredUserIdList[contextVar.workOrderTaskIdList[0]].length > 0)","id":"isEligibleTechnicianIdsListPresent","nodeType":"DECISION"},"createFilter":{"connectors":[{"exitPortType":"NextStep","nodeId":"fetchTechnicianDetails"}],"contextChangePermitted":true,"name":"createFilter","description":"createFilter","processRule":"{ var filterString = ' '; taskId = contextVar.workOrderTaskIdList[0]; if (typeof contextVar.finalFilteredUserIdList !== 'undefined' && contextVar.finalFilteredUserIdList[taskId].length > 0) { contextVar.finalUserIdList = contextVar.finalFilteredUserIdList[taskId]; if (typeof contextVar.finalUserIdList !== 'undefined' && contextVar.finalUserIdList.length > 0) { filterString = '{$workforce.userId} IN {@finalUserIdList}'; } } filterString = '({$workforce.statusId} = {@workforceStatusFilter}) AND ({$User.status}!= {@userStatusFilter}) AND ({$workforce.workforceType} IS NULL OR {$workforce.workforceType} != {@workforceType}) AND ' + filterString; if (typeof contextVar === 'undefined' || typeof contextVar.filter === 'undefined' || contextVar.filter === '') { contextVar.technicianFilter = filterString; } else { contextVar.technicianFilter = contextVar.filter + ' AND ' + filterString; } }","nodeType":"PROCESS"},"end":{"name":"end","description":"end","inputVarMap":{"technicianList":"technicianList","count":"count"},"outputVarMap":{"technicianList":"technicianList","count":"count"},"id":"end","nodeType":"END"},"workflowNodes":["start","processWorkOrderTaskId","getEligibleTechnicianIds","isEligibleTechnicianIdsListPresent","createFilter","fetchTechnicianDetails","end"]}