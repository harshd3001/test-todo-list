{"getZProcessInstanceData":{"filter":"{$ZProcessInstance.mainTitle} = {@workOrderTaskId}","models":["ZProcessInstance"],"connectors":[{"exitPortType":"NextStep","nodeId":"checkForValidData"}],"columns":{"resumeKey":"ZProcessInstance.resumeKey","instanceId":"ZProcessInstance.id"},"name":"getZProcessInstanceData","description":"getZProcessInstanceData","inputVarMap":{"workOrderTaskId":"workOrderTaskId"},"outputVarMap":{"data":"mobileInstanceData"},"nodeType":"QUERY"},"workflowContext":{},"deleteProcessInstanceDecision":{"connectors":[{"exitPortType":"TrueStep","nodeId":"deleteInstance"},{"exitPortType":"FalseStep","nodeId":"checkForValidData"}],"name":"deleteProcessInstanceDecision","description":"deleteProcessInstanceDecision","processRule":"(typeof contextVar.resumeKey !== 'undefined' && contextVar.resumeKey !== '' && typeof contextVar.instanceId !== 'undefined' && contextVar.instanceId !== '')","nodeType":"DECISION"},"setData":{"connectors":[{"exitPortType":"NextStep","nodeId":"deleteProcessInstanceDecision"}],"contextChangePermitted":true,"name":"setData","description":"setData","processRule":"{ if (Array.isArray(contextVar.mobileInstanceData) && contextVar.mobileInstanceData.length > 0) { var element = contextVar.mobileInstanceData.pop(); contextVar.resumeKey = (element.resumeKey) ? element.resumeKey : ''; contextVar.instanceId = (element.instanceId) ? element.instanceId : ''; } }","nodeType":"PROCESS"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"getZProcessInstanceData"}],"name":"start","description":"Start","id":"start","nodeType":"START"},"deleteInstance":{"connectors":[{"exitPortType":"NextStep","nodeId":"checkForValidData"}],"name":"deleteInstance","description":"deleteInstance","action":"cancel","inputVarMap":{"resumeKey":"resumeKey","instanceId":"instanceId"},"outputVarMap":{},"nodeType":"WORKFLOW"},"checkForValidData":{"connectors":[{"exitPortType":"TrueStep","nodeId":"setData"},{"exitPortType":"FalseStep","nodeId":"end"}],"name":"checkForValidData","description":"Use this for decision in workflow","processRule":"Array.isArray(contextVar.mobileInstanceData) && contextVar.mobileInstanceData.length > 0","id":"checkForValidData","nodeType":"DECISION"},"end":{"name":"end","description":"end","inputVarMap":{},"outputVarMap":{},"nodeType":"END"},"workflowNodes":["start","getZProcessInstanceData","checkForValidData","setData","deleteProcessInstanceDecision","deleteInstance","end"]}