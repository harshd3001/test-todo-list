{"workflowContext":{"logLevel":"1","message":"error message"},"processAllData":{"connectors":[{"exitPortType":"NextStep","nodeId":"processADta"}],"contextChangePermitted":true,"name":"processAllData","description":"processAllData","processRule":"{ if (typeof contextVar.fetchInstanceData != 'undefined' && contextVar.fetchInstanceData != '' && contextVar.fetchInstanceData.length > 0) { if (typeof contextVar.fetchInstanceData[0].processInstanceId != 'undefined' && contextVar.fetchInstanceData[0].processInstanceId != '') { contextVar.instanceId = contextVar.fetchInstanceData[0].processInstanceId; } } contextVar.compsInstances = []; if (typeof contextVar.compsData != 'undefined' && contextVar.compsData != '' && contextVar.compsData.length > 0) { if (typeof contextVar.compsData[0].instancesWithChecked != 'undefined' && contextVar.compsData[0].instancesWithChecked != '' && contextVar.compsData[0].instancesWithChecked.length > 0) { for (var i = 0; i < contextVar.compsData[0].instancesWithChecked.length; i++) { contextVar.compsInstances.push(contextVar.compsData[0].instancesWithChecked[i]); } } } contextVar.compsInstances.push(contextVar.instanceId); }","id":"processData","nodeType":"PROCESS","jsEngine":"es6"},"processADta":{"connectors":[{"exitPortType":"NextStep","nodeId":"logger"}],"contextChangePermitted":true,"name":"processADta","description":"processADta","processRule":"{contextVar.message = JSON.stringify(contextVar); }","id":"processADta","nodeType":"PROCESS","jsEngine":"es6"},"logger":{"connectors":[{"exitPortType":"NextStep","nodeId":"workflowacDriveDistanceWF"}],"name":"logger","description":"Provide some description for your logger node","inputVarMap":{"logLevel":"logLevel","message":"message"},"id":"logger","nodeType":"LOGGER"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"fetchInstanceData"}],"name":"start","description":"Start","nodeType":"START"},"end":{"name":"end","description":"End","inputVarMap":{"unassignedTask":"data"},"outputVarMap":{"unassignedTask":"data"},"nodeType":"END"},"fetchInstanceData":{"filter":" {$workOrderTask.id} = {@workOrderTaskId}","models":["workOrderTask"],"connectors":[{"exitPortType":"NextStep","nodeId":"fetchCompData"}],"columns":{"processInstanceId":"workOrderTask.processInstanceId","id":"workOrderTask.id"},"name":"fetchInstanceData","description":"fetchInstanceData","inputVarMap":{"workOrderTaskId":"workOrderTaskId"},"outputVarMap":{"data":"fetchInstanceData"},"nodeType":"QUERY","batchSize":50,"getCount":true,"batchNumber":1},"workflowacDriveDistanceWF":{"connectors":[{"exitPortType":"NextStep","nodeId":"updateCompAddressStatus"}],"processId":"acDriveDistanceWF","name":"workflowacDriveDistanceWF","description":"Provide some description for your workflow node","inputVarMap":{"ending":"ending","siteId":"siteId","end":"end"},"id":"workflowacDriveDistanceWF","outputVarMap":{"distanceFromSite":"distanceFromSite"},"nodeType":"WORKFLOW"},"updateCompAddressStatus":{"modelName":"acCompAddress","connectors":[{"condition":"","connectorDisplayType":"CurvedLine","connectorLabel":"","exitPortType":"NextStep","nodeId":"end"}],"name":"updateCompAddressStatus","description":"updateCompAddressStatus","inputVarMap":{"compsInstances":"instancesWithChecked","distanceFromSite":"distanceFromSite","id":"id","value":"isChecked"},"nodeType":"MODEL","displayPositionX":225,"operation":4,"displayPositionY":34},"workflowNodes":["start","processADta","logger","fetchInstanceData","fetchCompData","processAllData","workflowacDriveDistanceWF","updateCompAddressStatus","end"],"fetchCompData":{"filter":" {$acCompAddress.workOrderId} = {@workOrderId} && {$acCompAddress.id} = {@id}","models":["workOrder","acCompAddress"],"connectors":[{"exitPortType":"NextStep","nodeId":"processAllData"}],"columns":{"instancesWithChecked":"acCompAddress.instancesWithChecked","id":"acCompAddress.id","workOrderId":"acCompAddress.workOrderId"},"name":"fetchCompData","description":"fetchCompData","inputVarMap":{"workOrderId":"workOrderId","id":"id"},"outputVarMap":{"data":"compsData"},"nodeType":"QUERY","batchSize":50,"getCount":true,"batchNumber":1}}