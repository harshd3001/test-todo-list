{"instance_nav":false,"footer":{},"children":[],"jslib":{"showWhenTruckSelected":"function (pageContext) { function nullCheck(a) { return (typeof a === 'undefined' || a === '' || a === '-'); } if (nullCheck(pageContext.subContext) || nullCheck(pageContext.subContext.sourceSiteType)) { return true; } return !(pageContext.subContext.sourceSiteType === 'fromTruck'); }","hideFields":"function (pageContext) { function nullCheck(a) { try { return (typeof a === 'undefined' || a === '' || a === '-'); } catch (e) { return true; } } function truckEmpty() { try{ return (nullCheck(pageContext.subContext) || (pageContext.subContext.sourceSiteType === 'fromTruck' && nullCheck(pageContext.truckAssignedToUser[0].siteName))); }catch (e) {return true;} } return (truckEmpty()); }","hideWhenTruckIsUnassigned":"function(pageContext) { function nullCheck(a) { try { return (typeof a === 'undefined' || a === '' || a === '-'); } catch (e) { return true; } } function arrayCheck(a) { try { a = eval(a); return (typeof a !== 'undefined' && Array.isArray(a) && a.length > 0); } catch (e) { return false; } } function truckEmpty() { if (nullCheck(pageContext.subContext)) { return true; } if (nullCheck(pageContext.subContext.sourceSiteType) || pageContext.subContext.sourceSiteType === 'fromCustomerSite') { return true; } if (pageContext.subContext.sourceSiteType === 'fromTruck' && arrayCheck(pageContext.truckAssignedToUser) && !nullCheck(pageContext.truckAssignedToUser[0].siteName)) { return true; } return false; } try { return (truckEmpty()); } catch (e) { return true; } }","hideCustSiteValue":"function (pageContext) { function nullCheck(a) { try{return (typeof a === 'undefined' || a === '' || a === '-');} catch(e){return true;} } if (nullCheck(pageContext.subContext) || nullCheck(pageContext.subContext.sourceSiteType)) { return true; } return (pageContext.subContext.sourceSiteType === 'fromTruck'); }","disableTemporaryEdits":"function (pageContext){if(pageContext.subContext.cancelledFlg === 'true' || pageContext.subContext.returnOrderStatusId === 'returnOrderCompleted' || pageContext.subContext.returnOrderStatusId === 'returnOrderCancelled'){return false;} return true;}","printVars":"function(pageContext){return(pageContext.subContext ? JSON.stringify(pageContext.subContext) : '-');}","disableCancelledFlag":"function (pageContext){if(pageContext.subContext.returnOrderStatusId === 'returnOrderCancelled' || pageContext.subContext.returnOrderStatusId === 'returnOrderCompleted' || pageContext.subContext.returnOrderLineItemCompletion == 'true'){return false;} return true;}","enableSubmit":"function (pageContext) { function arrayCheck(a) { try { a = eval(a); return (typeof a !== 'undefined' && Array.isArray(a) && a.length > 0); } catch (e) { return false; } } function nullCheck(a) { try { a = eval(a); return (typeof a !== 'undefined' && a !== '' && a !== '-'); } catch (e) { return false; } } function arrayListCheck(a) { if (a.length > 1) { return (a.reduce((prev, curr) => { return (arrayCheck(prev) && arrayCheck(curr)); })); } else { return (arrayCheck(a[0])); } } function nullListCheck(a) { if (a.length > 1) { return (a.reduce((prev, curr) => { return (nullCheck(prev) && nullCheck(curr)); })); } else { return (nullCheck(a[0])); } } var truckMaterial = 'pageContext.subContext.selectedMaterialsForRO'; var commonVars = ['pageContext.subContext.sourceSiteType']; var commonArrays = ['pageContext.subContext.selectedDestinationSite']; var truckReqdVars = ['pageContext.truckAssignedToUser[0].siteName']; var truckReqdArrays = ['pageContext.subContext.selectedPartsForRO']; var siteReqdArrays = ['pageContext.subContext.selectedPartsFromCustSiteForRO']; var acceptableStatuses = ['returnOrderInProgress', 'returnOrderOpen']; try { return (acceptableStatuses.indexOf(pageContext.subContext.returnOrderStatusId) !== -1 && nullListCheck(commonVars) && (arrayListCheck(commonArrays) || nullCheck('pageContext.subContext.selectedSite')) && ((nullListCheck(truckReqdVars) && (arrayListCheck(truckReqdArrays) || arrayCheck(truckMaterial))) || arrayListCheck(siteReqdArrays))); } catch (e) { return false; } }","hideTruckValue":"function (pageContext) { function nullCheck(a) { try { return (typeof a === 'undefined' || a === '' || a === '-'); } catch (e) { return true; } } if (nullCheck(pageContext.subContext) || nullCheck(pageContext.subContext.sourceSiteType)) { return true; } try { return (pageContext.subContext.sourceSiteType === 'fromCustomerSite' || (pageContext.subContext.sourceSiteType === 'fromTruck' && nullCheck(pageContext.truckAssignedToUser[0].siteName))); } catch (e) { return true; } }"},"header":{"leftButton":{"id":"aHeadLeft","title":"X","enabled":true},"rightButton":{"image":"@icon.kebabMenuWhite","action":"openDropdown","id":"aHeadRight","list":[],"title":"Next","enabled":false}},"id":"fseROEditPage","title":"{%rpm}","cols":[{"name":"c1","body":[{"endColumn":11,"hidden":false,"index":1,"optTitleKey":"name","title":"{%pf}","type":"radio","enabled":false,"required":true,"startColumn":0,"options":[{"name":"{%rpfmt}","value":"fromTruck"},{"name":"{%rpfcs}","value":"fromCustomerSite"}],"id":"selectSiteOrTruck","optValueKey":"value","value":"@subContext.sourceSiteType"},{"endColumn":11,"isCollapsed":false,"hidden":"@js.showWhenTruckSelected","startColumn":0,"index":2,"id":"truckAssignedBox","type":"contentBox","content":[{"endColumn":11,"hidden":"@js.hideWhenTruckIsUnassigned","startColumn":0,"index":0,"id":"truckAssigned","fontStyle":"standard","type":"paragraphText","alignment":"left","title":"{%sl7}","value":"{%nta}","enabled":1,"required":0},{"endColumn":11,"hidden":"@js.hideTruckValue","startColumn":0,"index":1,"id":"truckAssignedd","fontStyle":"standard","type":"paragraphText","alignment":"left","title":"{%sl7}","value":"@pageContext.truckAssignedToUser[0].siteName","enabled":1,"required":0}]},{"endColumn":11,"hidden":"@js.hideCustSiteValue","heading":"{%sl7}","columns":[{"col":1,"name":"{%n}","row":1,"key":"siteName"},{"col":2,"name":"{%address}","row":1,"key":"siteAddress"}],"index":3,"type":"selectitem","title":"{%sl7}","searchFilterString":"sourceSiteFilter","enabled":"@js.disableTemporaryEdits","required":1,"displayValue":"@subContext.selectedSite[0].siteName","favQuery":"fseROSourceLocationFavQuery","selectionType":"single","startColumn":0,"searchQuery":"fseROSourceLocationSearchQuery","id":"selectSourceSite","value":"@subContext.selectedSite","placeHolder":"{%ssl4}"},{"allowDelete":1,"endColumn":11,"hidden":"@js.hideTruckValue","heading":"{%pmstr}","indexName":"","columns":[{"col":1,"name":"{%mnmn}","row":1,"key":"selectedROParts[0].catalogDetails"},{"col":2,"name":"{%sn}","row":1,"key":"selectedROParts[0].inventorySerialNo"},{"col":3,"name":"{%rtr}","row":1,"key":"reasonToReturnTxt"}],"editable":1,"index":4,"type":"datagrid","title":"{%arp}","enabled":true,"isAutoSave":false,"required":0,"editRowPageId":"fseROSelectPartsEditPage","startColumn":0,"addRowPageId":"fseROSelectPartsAddPage","disableAdd":false,"id":"fseROSelectPartsDataGrid","value":"@subContext.selectedPartsForRO"},{"allowDelete":1,"endColumn":11,"hidden":"@js.hideCustSiteValue","heading":"{%pmstr}","indexName":"","columns":[{"col":1,"name":"{%mnmn}","row":1,"key":"catalogModelNameModelNumber"},{"col":2,"name":"{%sn}","row":1,"key":"inventorySerialNo"},{"col":3,"name":"{%rtr}","row":1,"key":"reasonToReturnTxt"}],"editable":1,"index":4,"type":"datagrid","title":"{%arp}","enabled":true,"isAutoSave":false,"required":0,"editRowPageId":"fseROSelectFromCustSitePartsEditPage","startColumn":0,"addRowPageId":"fseROSelectFromCustSitePartsAddPage","disableAdd":false,"id":"fseROSelectPartsForCustSiteDataGrid","value":"@subContext.selectedPartsFromCustSiteForRO"},{"allowDelete":0,"endColumn":11,"hidden":"@js.hideTruckValue","heading":"","indexName":"","columns":[{"col":1,"name":"{%n}","row":1,"key":"selectedROMaterials[0].catalogName"},{"col":2,"name":"{%q}","row":1,"key":"inventoryQuantity"},{"col":3,"name":"{%su1}","row":1,"key":"selectedROMaterials[0].stockUnitName"}],"editable":1,"index":5,"type":"datagrid","title":"{%arm}","enabled":true,"isAutoSave":false,"required":0,"editRowPageId":"fseROSelectMaterialsEditPage","startColumn":0,"addRowPageId":"fseROSelectMaterialsAddPage","disableAdd":false,"id":"fseROSelectMaterialsDataGrid","value":"@subContext.selectedMaterialsForRO"},{"endColumn":11,"hidden":"@js.hideFields","heading":"{%dl}","columns":[{"col":1,"name":"{%n}","row":1,"key":"siteName"},{"col":2,"name":"{%address}","row":1,"key":"siteAddress"}],"index":6,"type":"selectitem","title":"{%dl}","searchFilterString":"destinationSiteFilter","enabled":"@js.disableTemporaryEdits","required":1,"displayValue":"@subContext.selectedDestinationSite[0].siteName","favQuery":"fseRODestinationLocationFavQuery","selectionType":"single","startColumn":0,"searchQuery":"fseRODestinationLocationSearchQuery","id":"selectDestinationSite","value":"@subContext.selectedDestinationSite","placeHolder":"{%dl}"},{"endColumn":11,"hidden":"@js.hideFields","index":7,"optTitleKey":"listOptionAnswerOptionText","title":"{%co7}","type":"dropdown","enabled":"@js.disableTemporaryEdits","required":false,"startColumn":0,"options":[{"listOptionAnswerRank":0,"listOptionAnswerOptionText":"{%Select}","listOptionAnswerRecver":1,"listOptionAnswerOptionId":"default","listOptionId":"default"},{"listOptionAnswerRank":0,"listOptionAnswerOptionText":"{%dhl}","listOptionAnswerRecver":1,"listOptionAnswerOptionId":"DHLTransferOrderCourier","listOptionId":"transferOrderCourier"},{"listOptionAnswerRank":1,"listOptionAnswerOptionText":"{%fedEx}","listOptionAnswerRecver":1,"listOptionAnswerOptionId":"FedExTransferOrderCourier","listOptionId":"transferOrderCourier"},{"listOptionAnswerRank":2,"listOptionAnswerOptionText":"{%others}","listOptionAnswerRecver":1,"listOptionAnswerOptionId":"othersTransferOrderCourier","listOptionId":"transferOrderCourier"}],"id":"selectCourier","optValueKey":"listOptionAnswerOptionId","value":"@subContext.returnOrderlistOptionAnswerOptionId"},{"endColumn":11,"hidden":"@js.hideFields","minLength":0,"index":8,"computeValue":"","type":"input","title":"{%tno}","enabled":"@js.disableTemporaryEdits","required":0,"startColumn":0,"id":"trackingNumber","capturedTime":"","locationCoordinates":"","value":"@subContext.returnOrderTrackingNumber","placeHolder":"{%en6}"},{"endColumn":11,"heading":"{%ros}","startColumn":0,"index":9,"id":"contentBoxRO","title":"{%ros}","type":"contentBox","content":[{"endColumn":11,"hidden":false,"startColumn":0,"id":"cancelledCheckBox","type":"checkbox","title":"{%mac}","value":"@subContext.cancelledFlg","required":0,"enabled":"@js.disableCancelledFlag"},{"endColumn":11,"startColumn":0,"id":"cancelledTextStat","type":"paragraphtext","title":"","value":"{%otsiutcrocbetacbu}"}]},{"endColumn":11,"hidden":"@js.hideFields","startColumn":0,"index":10,"id":"roNotes","title":"{%n2}","type":"textarea","value":"@subContext.returnOrderNotes","placeHolder":"{%en2}","required":0,"enabled":"@js.disableTemporaryEdits"},{"endColumn":11,"startColumn":0,"index":11,"actionOnClick":{"beforeUpdate":[{"updateKeys":["roDataVersion"],"jslib":"function(pageContext){return (typeof pageContext.roDataVersion !== 'undefined' && pageContext.roDataVersion !== '' && parseInt(pageContext.roDataVersion)+'' !== 'NaN' ? (parseInt(pageContext.roDataVersion) + 1).toString() : '1');}"},{"updateKeys":["subContext.roMode"],"jslib":"function(pageContext){return (pageContext.subContext.returnOrderId.startsWith('TMP') ? 'addRO' : 'updateRO');}"},{"updateKeys":["subContext.returnOrderStatusName"],"jslib":"function(pageContext){return (pageContext.subContext.cancelledFlg === 'true' ? 'Cancelled' : pageContext.subContext.returnOrderStatusName);}"},{"updateKeys":["subContext.returnOrderStatusId"],"jslib":"function(pageContext){return (pageContext.subContext.cancelledFlg === 'true' ? 'returnOrderCancelled' : pageContext.subContext.returnOrderStatusId);}"},{"updateKeys":["hideSyncButton"],"jslib":"function(pageContext){return (false);}"}]},"id":"submit","type":"button","title":"{%submit}","enabled":"@js.enableSubmit"}]}]}