{"isScrollAble":true,"searchAllowed":true,"searchEmptyScreen":{"image":"@iconlib.ActionsSearchError","contentValue":"@lang.['sysrcue','SORRY! YOUR SEARCH RESULTS CAME UP EMPTY ']","type":"noData"},"rowActions":{"children":[{"activeIcon":"@iconlib.ActionsEditPurple","name":"@lang.['e1','Edit']","tooltip":"@lang.['e1','Edit']","icon":"@iconlib.ActionsEditGrey","actionOnClick":["@actions.setRegionActionEdit","@actions.openSidePanel"],"type":"buttonIcon"},{"activeIcon":"@iconlib.ActionsBinPurple","hidden":true,"name":"@lang.['d1','Delete']","icon":"@iconlib.ActionsBinGrey","tooltip":"@lang.['d1','Delete']","actionOnClick":["@actions.openModal"],"type":"buttonIcon"}]},"emptyScreen":{"image":"@iconlib.ActionsSearchEmpty","contentValue":"@lang.['ylieatm','YOUR LIST IS EMPTY AT THE MOMENT']","type":"noData"},"tableHeader":[{"name":"@lang.['n','Name']","options":{"sortOrder":"ASC","sortable":true,"showLabel":true},"key":"regionName"},{"name":"@lang.['subMarket','Submarket']","options":{"hidden":true,"sortOrder":"ASC","sortable":true,"showLabel":false},"key":"subRegionCount"},{"name":"@lang.['d','Description']","options":{"sortable":true,"showLabel":true},"key":"regionDescription"}],"dataToBeSent":{"models":["region","subRegion"],"columns":{"regionId":"region.id","regionName":"region.name","regionRecver":"region.recver","subRegionCount":"count({$subRegion.id})","regionDescription":"region.description"},"outerJoinOnModel":"region","orderBy":"regionName ASC","groupBy":"regionId"},"dataSourceId":"query/read","jslib":{},"header":{"subHeaderText":"@lang.['r','Records']","headerText":"@lang.['navMA','Market']","children":[{"buttonType":"primary","actionOnClick":["@actions.clearPageContext","@actions.setRegionActionAdd","@actions.openSidePanel"],"id":"add","type":"button","title":"@lang.['addNew','Add New']"}]},"updateAllowed":true,"isSelectable":false,"actions":[{"name":"clearPageContext","type":"clearPageContext"},{"name":"closeModal","type":"closeModal"},{"name":"closePanel","type":"closePanel"},{"endPoint":"event/start","name":"fireProcessEvent","type":"api","actionDef":{"data":[{"eventId":"settingsBusinessRegionProcessEvent","contextVar":{"subAction":"@pageContext.subAction","region":{"recver":"@pageContext.regionRecver","name":"@pageContext.regionName","description":"@pageContext.regionDescription","id":"@pageContext.regionId"}}}]}},{"subTitle":"@lang.['aysywtdtrtcbu','Are you sure you want to delete the region? This cannot be undone.']","name":"openModal","options":[{"buttonType":"secondary","name":"no","actionOnClick":"@actions.closeModal","type":"button","title":"@lang.['c2','Cancel']"},{"buttonType":"primary","name":"yes","actionOnClick":["@actions.setSubActionDeleteRegion","@actions.fireProcessEvent","@actions.closeModal","@actions.clearPageContext","@actions.refreshDataGrid"],"type":"button","title":"@lang.['d1','Delete']"}],"type":"openModal","title":"@lang.['dr','Delete Region']"},{"name":"openSidePanel","type":"openPanel","pageId":"GQB05V6TV7"},{"name":"refreshDataGrid","type":"refreshDataGrid"},{"name":"setRegionActionEdit","type":"script","actionDef":"function(pageContext){pageContext.regionAction='edit';}"},{"name":"setRegionActionAdd","type":"script","actionDef":"function(pageContext){pageContext.regionAction='add';}"},{"name":"setSubActionDeleteRegion","type":"script","actionDef":"function(pageContext){pageContext.subAction='deleteRegion';}"}],"dataSource":[],"searchKeys":["regionName"]}