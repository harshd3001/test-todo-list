{"upsertWorkGroup":{"modelName":"workGroup","connectors":[{"exitPortType":"NextStep","nodeId":"processWorkGroupData"}],"multirecord":true,"name":"upsertWorkGroup","description":"upsertWorkGroup","inputVarMap":{"jsonObj":"data"},"outputVarMap":{"data":"data"},"nodeType":"MODEL","operation":4},"multiDecisionForZrule":{"connectors":[{"condition":"contextVar.subAction==='insertWorkforceWorkGroup' || contextVar.subAction==='insertCrewWorkGroup'","exitPortType":"NextStep","nodeId":"workforceWorkGroupProcessZRule"},{"condition":"contextVar.subAction==='upsertWorkGroup'","exitPortType":"NextStep","nodeId":"workGroupProcessZRule"},{"DefaultStep":true,"condition":"contextVar.subAction===''","exitPortType":"NextStep","nodeId":"end"}],"name":"multiDecisionForZrule","description":"multiDecisionForZrule","nodeType":"MULTIDECISION"},"fetchWorkOrderFilterData":{"filter":"{$workGroupId} = {@workGroupId}","models":["workGroupFilter"],"connectors":[{"exitPortType":"NextStep","nodeId":"workGroupFilterMultiDecision"}],"columns":{"recver":"workGroupFilter.recver","id":"workGroupFilter.id"},"name":"fetchWorkOrderFilterData","description":"fetchWorkOrderFilterData","inputVarMap":{"workGroupId":"workGroupId"},"outputVarMap":{"data":"jsonObjDelete"},"nodeType":"QUERY"},"deleteUnselectedCrews":{"modelName":"crewWorkGroup","connectors":[{"exitPortType":"NextStep","nodeId":"checkInsertObjMultiDecisionForCrew"}],"multirecord":true,"name":"deleteUnselectedCrews","description":"deleteUnselectedCrews","inputVarMap":{"jsonObjDelete":"data"},"nodeType":"MODEL","operation":3},"workGroupFilterMultiDecision":{"connectors":[{"condition":"contextVar.jsonObjDelete.length===0","exitPortType":"NextStep","nodeId":"checkInsertWorkGroupFilterMultiDecision"},{"condition":"contextVar.jsonObjDelete.length!==0","exitPortType":"NextStep","nodeId":"deleteWorkGroupFilter"}],"name":"workGroupFilterMultiDecision","description":"workGroupFilterMultiDecision","nodeType":"MULTIDECISION"},"removeCrewWorkGroupListMultiDecision":{"connectors":[{"condition":"contextVar.jsonObjDelete.length !== 0","exitPortType":"NextStep","nodeId":"deleteUnselectedCrews"},{"condition":"contextVar.jsonObjDelete.length === 0","exitPortType":"NextStep","nodeId":"insertSelectedCrews"}],"name":"removeCrewWorkGroupListMultiDecision","description":"removeCrewWorkGroupListMultiDecision","nodeType":"MULTIDECISION"},"fetchWorkforceWorkGroupData":{"filter":"{$workforceUserId} = {@workforceUserId}","models":["workforceWorkGroup"],"connectors":[{"exitPortType":"NextStep","nodeId":"workforceWorkGroupMultiDecision"}],"columns":{"recver":"workforceWorkGroup.recver","workforceUserId":"workforceWorkGroup.workforceUserId","workGroupId":"workforceWorkGroup.workGroupId"},"name":"fetchWorkforceWorkGroupData","description":"fetchWorkforceWorkGroupData","inputVarMap":{"workforceUserId":"workforceUserId"},"outputVarMap":{"data":"jsonObjDelete"},"nodeType":"QUERY"},"insertSelectedMembers":{"modelName":"workforceWorkGroup","connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"multirecord":true,"name":"insertSelectedMembers","description":"insertSelectedMembers","inputVarMap":{"jsonObjInsert":"data"},"outputVarMap":{"data":"data"},"nodeType":"MODEL","operation":4},"workGroupFilterProcessZRule":{"connectors":[{"exitPortType":"NextStep","nodeId":"fetchWorkOrderFilterData"}],"contextChangePermitted":true,"name":"workGroupFilterProcessZRule","description":"workGroupFilterProcessZRule","processRule":"@562AYLC2E2","nodeType":"PROCESS"},"crewWorkGroupMultiDecision":{"connectors":[{"condition":"contextVar.jsonObjDelete.length===0","exitPortType":"NextStep","nodeId":"checkInsertObjMultiDecisionForCrew"},{"condition":"contextVar.jsonObjDelete.length!==0","exitPortType":"NextStep","nodeId":"deleteUnselectedCrews"}],"name":"crewWorkGroupMultiDecision","description":"crewWorkGroupMultiDecision","nodeType":"MULTIDECISION"},"insertSelectedCrews":{"modelName":"crewWorkGroup","connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"multirecord":true,"name":"insertSelectedCrews","description":"insertSelectedCrews","inputVarMap":{"jsonObjInsert":"data"},"outputVarMap":{"data":"data"},"nodeType":"MODEL","operation":4},"deleteWorkGroupFilter":{"modelName":"workGroupFilter","connectors":[{"exitPortType":"NextStep","nodeId":"checkInsertWorkGroupFilterMultiDecision"}],"multirecord":true,"name":"deleteWorkGroupFilter","description":"deleteWorkGroupFilter","inputVarMap":{"jsonObjDelete":"data"},"nodeType":"MODEL","operation":3},"end":{"name":"End","description":"end","inputVarMap":{"workGroupId":"workGroupId"},"outputVarMap":{"workGroupId":"workGroupId"},"nodeType":"END"},"insertWorkGroupFilter":{"modelName":"workGroupFilter","connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"multirecord":true,"name":"insertWorkGroupFilter","description":"insertWorkGroupFilter","inputVarMap":{"jsonObj":"data"},"outputVarMap":{"data":"data"},"nodeType":"MODEL","operation":4},"deleteUnselectedMembers":{"modelName":"workforceWorkGroup","connectors":[{"exitPortType":"NextStep","nodeId":"checkInsertObjMultiDecision"}],"multirecord":true,"name":"deleteUnselectedMembers","description":"deleteUnselectedMembers","inputVarMap":{"jsonObjDelete":"data"},"nodeType":"MODEL","operation":3},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"multiDecisionForZrule"}],"name":"start","description":"start","nodeType":"START"},"checkInsertObjMultiDecision":{"connectors":[{"condition":"contextVar.jsonObjInsert.length===0","exitPortType":"NextStep","nodeId":"end"},{"condition":"contextVar.jsonObjInsert.length!==0","exitPortType":"NextStep","nodeId":"insertSelectedMembers"}],"name":"checkInsertObjMultiDecision","description":"checkInsertObjMultiDecision","nodeType":"MULTIDECISION"},"workflowNodes":["start","multiDecisionForZrule","workGroupProcessZRule","upsertWorkGroup","processWorkGroupData","workforceWorkGroupProcessZRule","checkCrewOrWorkforceMultiDecision","removeCrewWorkGroupListMultiDecision","crewWorkGroupMultiDecision","deleteUnselectedCrews","checkInsertObjMultiDecisionForCrew","insertSelectedCrews","removeWorkforceWorkGroupUserListMultiDecision","fetchWorkforceWorkGroupData","workforceWorkGroupMultiDecision","deleteUnselectedMembers","checkInsertObjMultiDecision","insertSelectedMembers","workGroupFilterProcessZRule","fetchWorkOrderFilterData","workGroupFilterMultiDecision","deleteWorkGroupFilter","checkInsertWorkGroupFilterMultiDecision","insertWorkGroupFilter","end"],"workforceWorkGroupProcessZRule":{"connectors":[{"exitPortType":"NextStep","nodeId":"checkCrewOrWorkforceMultiDecision"}],"contextChangePermitted":true,"name":"workforceWorkGroupProcessZRule","description":"workforceWorkGroupProcessZRule","processRule":"@PM5JZJC79C","nodeType":"PROCESS"},"processWorkGroupData":{"connectors":[{"exitPortType":"NextStep","nodeId":"workGroupFilterProcessZRule"}],"contextChangePermitted":true,"name":"processWorkGroupData","description":"processWorkGroupData","processRule":"{contextVar.workGroupId = contextVar.data[0].id}","nodeType":"PROCESS"},"checkInsertObjMultiDecisionForCrew":{"connectors":[{"condition":"contextVar.jsonObjInsert.length===0","exitPortType":"NextStep","nodeId":"end"},{"condition":"contextVar.jsonObjInsert.length!==0","exitPortType":"NextStep","nodeId":"insertSelectedCrews"}],"name":"checkInsertObjMultiDecision","description":"checkInsertObjMultiDecision","nodeType":"MULTIDECISION"},"workforceWorkGroupMultiDecision":{"connectors":[{"condition":"contextVar.jsonObjDelete.length===0","exitPortType":"NextStep","nodeId":"checkInsertObjMultiDecision"},{"condition":"contextVar.jsonObjDelete.length!==0","exitPortType":"NextStep","nodeId":"deleteUnselectedMembers"}],"name":"workforceWorkGroupMultiDecision","description":"workforceWorkGroupMultiDecision","nodeType":"MULTIDECISION"},"checkCrewOrWorkforceMultiDecision":{"connectors":[{"condition":"contextVar.subAction==='insertWorkforceWorkGroup'","exitPortType":"NextStep","nodeId":"removeWorkforceWorkGroupUserListMultiDecision"},{"condition":"contextVar.subAction==='insertCrewWorkGroup' ","exitPortType":"NextStep","nodeId":"removeCrewWorkGroupListMultiDecision"}],"name":"checkCrewOrWorkforceMultiDecision","description":"checkCrewOrWorkforceMultiDecision","nodeType":"MULTIDECISION"},"workGroupProcessZRule":{"connectors":[{"exitPortType":"NextStep","nodeId":"upsertWorkGroup"}],"contextChangePermitted":true,"name":"workGroupProcessZRule","description":"workGroupProcessZRule","processRule":"@QA5TZJC1W8","nodeType":"PROCESS"},"removeWorkforceWorkGroupUserListMultiDecision":{"connectors":[{"condition":"contextVar.jsonObjDelete.length !== 0","exitPortType":"NextStep","nodeId":"deleteUnselectedMembers"},{"condition":"contextVar.jsonObjDelete.length === 0","exitPortType":"NextStep","nodeId":"fetchWorkforceWorkGroupData"}],"name":"removeWorkforceWorkGroupUserListMultiDecision","description":"removeWorkforceWorkGroupUserListMultiDecision","nodeType":"MULTIDECISION"},"deleteUnselectedCrew":{"modelName":"workforceWorkGroup","connectors":[{"exitPortType":"NextStep","nodeId":"checkInsertObjMultiDecision"}],"multirecord":true,"name":"deleteUnselectedCrew","description":"deleteUnselectedCrew","inputVarMap":{"jsonObjDelete":"data"},"nodeType":"MODEL","operation":3},"checkInsertWorkGroupFilterMultiDecision":{"connectors":[{"condition":"contextVar.jsonObj.length===0","exitPortType":"NextStep","nodeId":"end"},{"condition":"contextVar.jsonObj.length!==0","exitPortType":"NextStep","nodeId":"insertWorkGroupFilter"}],"name":"checkInsertWorkGroupFilterMultiDecision","description":"checkInsertWorkGroupFilterMultiDecision","nodeType":"MULTIDECISION"}}