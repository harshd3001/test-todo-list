{"fetchTaskDetails":{"filter":"{@workOrderTaskId}={$workOrderTaskId}","models":["workOrderTask","ZStatus","workOrderTaskAppointmentWindow"],"connectors":[{"exitPortType":"NextStep","nodeId":"processData"}],"columns":{"appointmentWindowId":"workOrderTaskAppointmentWindow.appointmentWindowId","workOrderTaskStatusId":"workOrderTask.statusId","workOrderTaskAssignedToUserId":"workOrderTask.assignedToUserId","workOrderTaskStatusName":"ZStatus.name","workOrderTaskServices":"workOrderTask.services","appointmentWindowStartDate":"workOrderTaskAppointmentWindow.startDate","workOrderTaskRecver":"workOrderTask.recver","workOrderTaskIsLongDurationTask":"workOrderTask.isLongDurationTask","workOrderTaskDueDate":"workOrderTask.dueDate","assets":"workOrderTask.assets","workOrderTaskSiteId":"workOrderTask.siteId","workOrderTaskStatusNameColor":"ZStatus.colorCode","workOrderTaskIsAppointmentBasedTask":"workOrderTask.isAppointmentBasedTask","appointmentWindowEndDate":"workOrderTaskAppointmentWindow.endDate","workOrderTaskNotes":"workOrderTask.notes","workOrderTaskId":"workOrderTask.id","workOrderTaskWorkOrderId":"workOrderTask.workOrderId","workOrderTaskScheduledDate":"workOrderTask.scheduledDate","workOrderTaskEstimatedDuration":"workOrderTask.estimatedDuration","workOrderTaskTaskTypeId":"workOrderTask.taskTypeId","workOrderTaskStatusTargetModel":"workOrderTask.statusTargetModel","workOrderTaskEnableService":"workOrderTask.enableServices"},"name":"fetchTaskDetails","outerJoinOnModel":"workOrderTask","description":"Fetch Task Details","distinct":true,"inputVarMap":{"workOrderTaskId":"workOrderTaskId"},"outputVarMap":{"data":"taskData"},"nodeType":"QUERY"},"fetchTaskScheduleBreakdownData":{"filter":"{$workOrderTaskId}={@workOrderTaskId}","models":["taskScheduleBreakdown"],"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"columns":{"duration":"taskScheduleBreakdown.duration","endDate":"taskScheduleBreakdown.endDate","durationInHours":"Round(({$taskScheduleBreakdown.duration})/60,2)","startDate":"taskScheduleBreakdown.startDate"},"name":"fetchTaskScheduleBreakdownData","description":"fetchTaskScheduleBreakdownData","orderBy":"startDate ASC","inputVarMap":{"workOrderTaskId":"workOrderTaskId"},"outputVarMap":{"data":"taskScheduleBreakdown"},"nodeType":"QUERY"},"processData":{"connectors":[{"exitPortType":"NextStep","nodeId":"taskTypeIdCheck"}],"contextChangePermitted":true,"name":"processData","description":"processData","processRule":"{contextVar.workOrderTaskTaskTypeId = contextVar.taskData[0].workOrderTaskTaskTypeId;contextVar.workOrderTaskSiteId = contextVar.taskData[0].workOrderTaskSiteId;}","nodeType":"PROCESS"},"fetchTaskTypeDetails":{"filter":"{@workOrderTaskTaskTypeId}={$taskTypeId}","models":["taskType"],"connectors":[{"exitPortType":"NextStep","nodeId":"siteIdCheck"}],"columns":{"taskTypeId":"taskType.id","taskTypeEstimatedDuration":"taskType.estimatedDuration","taskTypeWebTask":"taskType.webTask","taskTypeServices":"taskType.services","taskTypeName":"taskType.name","taskTypeEnableService":"taskType.enableServices"},"name":"fetchTaskTypeDetails","description":"Fetch TaskType Details","inputVarMap":{"workOrderTaskTaskTypeId":"workOrderTaskTaskTypeId"},"outputVarMap":{"data":"taskTypeData"},"nodeType":"QUERY"},"siteIdCheck":{"connectors":[{"exitPortType":"TrueStep","nodeId":"fetchCustomerSiteDetails"},{"exitPortType":"FalseStep","nodeId":"fetchTaskScheduleBreakdownData"}],"name":"siteIdCheck","description":"siteIdCheck","processRule":"(typeof contextVar.workOrderTaskSiteId !== 'undefined' && contextVar.workOrderTaskSiteId !== '')","nodeType":"DECISION"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"fetchTaskDetails"}],"name":"start","description":"Start","nodeType":"START"},"taskTypeIdCheck":{"connectors":[{"exitPortType":"TrueStep","nodeId":"fetchTaskTypeDetails"},{"exitPortType":"FalseStep","nodeId":"siteIdCheck"}],"name":"taskTypeIdCheck","description":"taskTypeIdCheck","processRule":"(typeof contextVar.workOrderTaskTaskTypeId !== 'undefined' && contextVar.workOrderTaskTaskTypeId !== '')","nodeType":"DECISION"},"fetchCustomerSiteDetails":{"filter":"{$siteId}={@workOrderTaskSiteId}","models":["site"],"connectors":[{"exitPortType":"NextStep","nodeId":"fetchTaskScheduleBreakdownData"}],"columns":{"siteLatitude":"site.latitude","contactEmail":"site.contactEmail","siteId":"site.id","siteName":"site.name","siteAddress":"site.address","contactPerson":"site.contactPerson","siteCustomerId":"site.customerId","contactPhone":"site.contactPhone","siteLongitude":"site.longitude","siteTimezoneOffset":"site.timezoneOffset"},"name":"fetchCustomerSiteDetails","description":"Fetch Customer Site Details","inputVarMap":{"workOrderTaskSiteId":"workOrderTaskSiteId"},"outputVarMap":{"data":"customerSiteData"},"nodeType":"QUERY"},"end":{"name":"End","description":"End","inputVarMap":{"customerSiteData":"customerSiteData","taskScheduleBreakdown":"taskScheduleBreakdown","taskData":"taskData","taskTypeData":"taskTypeData"},"outputVarMap":{"customerSiteData":"customerSiteData","taskScheduleBreakdown":"taskScheduleBreakdown","taskData":"taskData","taskTypeData":"taskTypeData"},"nodeType":"END"},"workflowNodes":["start","fetchTaskDetails","processData","taskTypeIdCheck","fetchTaskTypeDetails","siteIdCheck","fetchCustomerSiteDetails","fetchTaskScheduleBreakdownData","end"]}