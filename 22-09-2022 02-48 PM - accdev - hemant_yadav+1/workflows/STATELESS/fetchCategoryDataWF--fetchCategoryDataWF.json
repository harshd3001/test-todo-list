{"fetchCategoryData":{"models":["category"],"connectors":[{"exitPortType":"NextStep","nodeId":"isCalledFromPage"}],"columns":{"taxRate":"category.taxRate","name":"category.name","description":"category.description","categoryTypeId":"category.categoryTypeId","id":"category.id"},"description":"Fetch category Details","orderBy":"orderBy","distinct":true,"inputVarMap":{"searchText":"searchText","categoryModelFilter":"filter","orderBy":"orderBy","batchSize":"batchSize","categoryIdList":"categoryIdList","batchNumber":"batchNumber"},"nodeType":"QUERY","filter":"filter","name":"fetchCategoryData","outputVarMap":{"data":"categoryData","count":"totalCategoryCount","batchNumber":"categoryBatchNumber"},"batchSize":"batchSize","getCount":true,"batchNumber":"batchNumber"},"isCalledFromPage":{"connectors":[{"exitPortType":"TrueStep","nodeId":"end"},{"exitPortType":"FalseStep","nodeId":"findNumberOfBatches"}],"name":"isCalledFromPage","description":"isCalledFromPage","processRule":"contextVar.calledFromPage === true","nodeType":"DECISION"},"workflowContext":{"customBatchSize":1000,"calledFromPage":true,"customBatchNumber":1},"findNumberOfBatches":{"connectors":[{"exitPortType":"NextStep","nodeId":"areMoreCategoryPresent"}],"contextChangePermitted":true,"name":"findNumberOfBatches","description":"findNumberOfBatches","processRule":"{contextVar.noOfBatches = Math.ceil(contextVar.totalCategoryCount / contextVar.customBatchSize);contextVar.categoryBatchNumber++;}","id":"findNumberOfBatches","nodeType":"PROCESS"},"areMoreCategoryPresent":{"connectors":[{"exitPortType":"TrueStep","nodeId":"fetchMoreCategoryData"},{"exitPortType":"FalseStep","nodeId":"end"}],"name":"areMoreCategoryPresent","description":"areMoreCategoryPresent","processRule":"contextVar.noOfBatches >= 2 && contextVar.noOfBatches >= contextVar.categoryBatchNumber","nodeType":"DECISION"},"fetchMoreCategoryData":{"models":["category"],"connectors":[{"exitPortType":"NextStep","nodeId":"appendCategory"}],"columns":{"taxRate":"category.taxRate","name":"category.name","description":"category.description","categoryTypeId":"category.categoryTypeId","id":"category.id"},"description":"Fetch stockUnit Details","orderBy":"orderBy","distinct":true,"inputVarMap":{"searchText":"searchText","categoryModelFilter":"filter","orderBy":"orderBy","batchSize":"batchSize","categoryIdList":"categoryIdList","batchNumber":"batchNumber"},"nodeType":"QUERY","filter":"filter","name":"fetchMoreCategoryData","outputVarMap":{"data":"appendCategoryData"},"batchSize":"batchSize","getCount":true,"batchNumber":"batchNumber"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"processInitialParameters"}],"name":"start","description":"Start","nodeType":"START"},"end":{"name":"end","description":"end","inputVarMap":{"categoryData":"categoryData","totalCategoryCount":"count"},"outputVarMap":{"categoryData":"categoryData","count":"count"},"nodeType":"END"},"workflowNodes":["start","processInitialParameters","fetchCategoryData","isCalledFromPage","findNumberOfBatches","areMoreCategoryPresent","fetchMoreCategoryData","appendCategory","end"],"processInitialParameters":{"connectors":[{"exitPortType":"NextStep","nodeId":"fetchCategoryData"}],"contextChangePermitted":true,"name":"processInitialParameters","description":"processInitialParameters","processRule":"{ if (typeof contextVar.categoryFilter !== 'undefined' && contextVar.categoryFilter !== '') { contextVar.categoryModelFilter = contextVar.categoryFilter; } else if (typeof contextVar.categoryIdList !== 'undefined' && contextVar.categoryIdList.length > 0) { contextVar.categoryModelFilter = '{$category.id} IN {@categoryIdList}'; contextVar.calledFromPage = false; } if (typeof contextVar.batchSize === 'undefined' || contextVar.batchSize === '') { contextVar.batchSize = contextVar.customBatchSize; contextVar.batchNumber = contextVar.customBatchNumber; contextVar.calledFromPage = false; } }","nodeType":"PROCESS","jsEngine":"es6"},"appendCategory":{"connectors":[{"exitPortType":"NextStep","nodeId":"areMoreCategoryPresent"}],"contextChangePermitted":true,"name":"appendCategory","description":"appendRequests","processRule":"if (Array.isArray(contextVar.appendCategoryData)) { contextVar.categoryData = contextVar.categoryData.concat(contextVar.appendCategoryData) } contextVar.categoryBatchNumber++;","nodeType":"PROCESS"}}