{"pageContext":{},"actionOnLoad":["@actions.fireProcessEventForTaskSchedulingAndAssignFetchData","@actions.setWorkOrderTaskData","@actions.setOtherWorkOrderTaskData","@actions.setPreviousAssingeesData"],"localPageContext":true,"jslib":{"isCrewTask":"function(pageContext) {return pageContext.taskTypeCrewTask || pageContext.action === 'calendarOpenTask'}","isPreviousAssigneeHidden":"function (pageContext) { return !(typeof pageContext.previousAssignees !== 'undefined' && pageContext.previousAssignees.length > 0); }","isTaskProgressTabHidden":"function (pageContext) { var flag = true; if ( Array.isArray(pageContext.workOrderTaskResult)  &&pageContext.workOrderTaskResult.length > 0  && JSON.stringify(pageContext.workOrderTaskResult).indexOf('submitType') > 0) { for (var i = 0; i < pageContext.workOrderTaskResult.length; i++) { if ((typeof pageContext.workOrderTaskResult[i].initialEvidenceDataGrid !== 'undefined' && pageContext.workOrderTaskResult[i].initialEvidenceDataGrid.length > 0) || (typeof pageContext.workOrderTaskResult[i].submitProgressArray !== 'undefined' && pageContext.workOrderTaskResult[i].submitProgressArray.length > 0) || (typeof pageContext.workOrderTaskResult[i].servicesDataGrid !== 'undefined' && pageContext.workOrderTaskResult[i].servicesDataGrid.length > 0)) { flag = false; break; } else { flag = true; } } }return flag; }","isInitialEvidenceHidden":"function (pageContext) { if( typeof pageContext.showInitialEvidenceGrid != 'undefined' &&  pageContext.showInitialEvidenceGrid == true ) { return false; } else { return true; } }","isProgressByServicesHidden":"function (pageContext) { if( typeof pageContext.selectedFilterForView !== 'undefined' && pageContext.selectedFilterForView === 'byServices'){return false;}else{return true;} }","isSubmittedProgressHidden":"function (pageContext) { if( typeof pageContext.selectedFilterForView !== 'undefined' &&  pageContext.selectedFilterForView === 'byDate'){return false;}else{return true;} }","isNotCrewTask":"function(pageContext) {return !pageContext.taskTypeCrewTask || pageContext.action === 'calendarOpenTask'}","dynamicHeaderText":"function(pageContext){ return '@lang.[\"s12\",\"View Task Progress\"]'}","isSelectedServicesHidden":"function (pageContext) { if( typeof pageContext.showSelectedServicesGrid != 'undefined' &&  pageContext.showSelectedServicesGrid == true ) { return false; } else { return true; } }","isTaskNotDispatched":"function(pageContext){return( pageContext.status === 'workOrderTaskScheduled' || pageContext.status === 'workOrderTaskOpen' || pageContext.status === 'workOrderTaskReopened')}","isServicesDeliveredHidden":"function (pageContext) { if( typeof pageContext.showServicesDeliveredGrid != 'undefined' &&  pageContext.showServicesDeliveredGrid == true ) { return false; } else { return true; } }","isIncidentReportHidden":"function(pageContext){ return typeof pageContext.incidentDetails === 'undefined' || pageContext.incidentDetails === '' || pageContext.incidentDetails.length === 0; }"},"header":{"leftData":{"children":[{"name":"back","icon":"@iconlib.NavigationArrowBackGrey","actionOnClick":["@actions.goToPreviousPanel"],"id":"back","type":"buttonIcon"}]},"title":"@jslib.dynamicHeaderText"},"body":{"children":[{"children":[{"hidden":"@jslib.isTaskProgressTabHidden","children":[{"children":[{"readOnly":true,"id":"taskType","label":"@lang.['taskType','Task Type']","type":"input","value":"@pageContext.taskTypeName"},{"readOnly":true,"id":"customerId","label":"@lang.['customer','Customer']","type":"input","value":"@pageContext.customerCompanyName"},{"readOnly":true,"id":"customerSite","label":"@lang.['cs','Customer Site']","type":"input","value":"@pageContext.siteName"},{"minDate":"1970-01-01 00:00","readOnly":true,"id":"workOrderDeadline","title":"@lang.['wod1','Work Order Deadline']","type":"datetime","value":"@pageContext.workOrderDeadline"}],"label":"","id":"taskDetails","type":"section"},{"children":[{"children":[{"actionOnChange":["@actions.setTimeZone","@actions.decisionActionForTaskProgressFilter","@actions.taskProgressViewChange"],"options":[{"name":"@lang.['d3','Date']","id":"byDate"},{"name":"@lang.['navS3','Services']","id":"byServices"}],"id":"dropdown","label":"@lang.['vprb','View Progress Reports By']","optTitleKey":"name","optValueKey":"id","title":"@lang.['vprb','View Progress Reports By']","type":"dropdown","value":"@pageContext.taskProgressDropdown","placeHolder":"@lang.['so','Select option']"}],"label":"","id":"filterDropdown","type":"section","transparent":true}],"id":"viewProgressReportsBy","label":"","type":"section","transparent":false},{"hidden":"@jslib.isSubmittedProgressHidden","children":[{"id":"submittedProgressData","type":"dataGrid","jsonDef":{"pageContextConfig":{"enable":true,"isPaginationReqd":false,"tableData":{"source":"@pageContext.taskProgressDataByDate[0].taskProgressDataByDate"}},"isScrollAble":false,"searchAllowed":true,"searchEmptyScreen":{"image":"@iconlib.ActionsSearchError","contentValue":"@lang.['sysrcue','SORRY! YOUR SEARCH RESULTS CAME UP EMPTY ']","type":"noData"},"rowActions":{"children":[{"activeIcon":"@iconlib.ActionsVisiblePurple","name":"@lang.['vtr','View Task Results']","icon":"@iconlib.ActionsVisibleGrey","tooltip":"@lang.['v1','View']","actionOnClick":["@actions.openProgressEvidenceNSP"],"type":"buttonIcon"}]},"gridRefreshId":"submittedProgressDataGrid","emptyScreen":{"image":"@iconlib.ActionsSearchEmpty","contentValue":"@lang.['ylieatm','YOUR LIST IS EMPTY AT THE MOMENT']","type":"noData"},"tableHeader":[{"name":"@lang.['so1','Submitted On']","options":{"flex":1.4,"showLabel":true},"key":"date","primaryKey":true},{"name":"@lang.['sp3','Services Performed']","options":{"flex":1.4,"showLabel":true},"key":"servicesDeliveredCount"},{"name":"@lang.['initialEvidence','Initial Evidence']","options":{"flex":1.4,"showLabel":true},"key":"initialEvidenceCount"},{"name":"@lang.['pe2','Progress Evidence']","options":{"flex":1.4,"showLabel":true},"key":"submitProgressArrayCount"},{"hidden":true,"name":"@lang.['fe','Final Evidence']","options":{},"key":"finalEvidenceCount","primaryKey":true}],"actionOnLoad":[],"dataSourceId":"query/read","jslib":{"isViewResultsByDateDisabled":"function (pageContext) { if( typeof pageContext.selectedRowIds != 'undefined' &&  pageContext.selectedRowIds.length > 0 ) { return false; } else { return true; } }"},"header":{"subHeaderText":"@lang.['r','Records']","headerText":"@lang.['taskProgress','Task Progress']","children":[{"buttonType":"primary","actionOnClick":["@actions.decisionIfDateSelected"],"disabled":"@jslib.isViewResultsByDateDisabled","id":"viewResults","type":"button","title":"@lang.['vr','View Results']"}]},"isSelectable":true,"actions":[{"falseStep":[],"trueStep":["@actions.setSelectedDates","@actions.processTaskProgressDataByDate","@actions.setFlagsToShowInitialEvidenceAndServicesDelivered","@actions.refreshDataGrids"],"name":"decisionIfDateSelected","type":"decision","actionDef":"function (pageContext) { if( typeof pageContext.selectedRowIds != 'undefined' &&  pageContext.selectedRowIds.length > 0 ) { return true; } else { return false; } }"},{"name":"setSelectedDates","type":"script","actionDef":"function (pageContext) { if ( typeof pageContext.selectedRowIds != 'undefined' &&  pageContext.selectedRowIds.length > 0 ) { pageContext.selectedDates = []; pageContext.selectedRowIds.forEach(function(element) { pageContext.selectedDates.push(element.date); }); } }"},{"name":"openProgressEvidenceNSP","type":"openPanel","pageId":"6KCJEOE5UP"},{"name":"refreshDataGrids","gridId":["servicesDeliveredDataGrid","initialEvidenceDataGrid"],"type":"RefreshGridOnSidePanel"},{"name":"setFlagsToShowInitialEvidenceAndServicesDelivered","type":"script","actionDef":"function (pageContext) { if ( typeof pageContext.selectedRowIds != 'undefined' &&  pageContext.selectedRowIds.length > 0 ) {  pageContext.showInitialEvidenceGrid = true; pageContext.showServicesDeliveredGrid = true;} }"},{"name":"processTaskProgressDataByDate","type":"script","actionDef":"function (pageContext) { if (typeof pageContext.taskProgressDataByDate != 'undefined' && pageContext.taskProgressDataByDate != '' && pageContext.taskProgressDataByDate.length > 0) { pageContext.initialComments=pageContext.taskProgressDataByDate[0].taskProgressDataByDate[0].initialComments; pageContext.finalComments=pageContext.taskProgressDataByDate[0].taskProgressDataByDate[0].finalComments; pageContext.filteredTaskProgressDataByDate = pageContext.taskProgressDataByDate[0].taskProgressDataByDate.filter(function (element) { if (pageContext.selectedDates.indexOf(element.date) > -1) { return true; } else { return false; } }); pageContext.initialEvidenceGridData = []; pageContext.servicesData = []; pageContext.finalEvidenceMainDatagrid = []; pageContext.filteredTaskProgressDataByDate.forEach(function (element) { if (typeof element.initialEvidence !== 'undefined' && element.initialEvidence.length > 0) { element.initialEvidence.forEach(function (ele) { pageContext.initialEvidenceGridData.push(ele); }); } if (typeof element.servicesData !== 'undefined' && element.servicesData.length > 0) { element.servicesData.forEach(function (e) { pageContext.servicesData.push(e); }); } if (typeof element.finalEvidenceArray !== 'undefined' && element.finalEvidenceArray.length > 0) { element.finalEvidenceArray.forEach(function (ele) { pageContext.finalEvidenceMainDatagrid.push(ele); }); } }); } }"}],"searchKeys":["date"],"multiSelect":true}}],"label":"","id":"submittedProgress","type":"section","transparent":true},{"hidden":"@jslib.isProgressByServicesHidden","children":[{"id":"servicesGrid","type":"dataGrid","jsonDef":{"pageContextConfig":{"enable":true,"isPaginationReqd":false,"tableData":{"source":"@pageContext.taskProgressDataByServices[0].servicesArrayForTaskProgress"}},"isScrollAble":false,"searchAllowed":true,"searchEmptyScreen":{"image":"@iconlib.ActionsSearchError","contentValue":"@lang.['sysrcue','SORRY! YOUR SEARCH RESULTS CAME UP EMPTY ']","type":"noData"},"rowActions":{},"gridRefreshId":"servicesDataGrid","emptyScreen":{"image":"@iconlib.ActionsSearchEmpty","contentValue":"@lang.['ylieatm','YOUR LIST IS EMPTY AT THE MOMENT']","type":"noData"},"tableHeader":[{"name":"@lang.['si1','Service Id']","options":{"hidden":true,"flex":1.4,"showLabel":false},"key":"id","primaryKey":true},{"name":"@lang.['serviceType','Service Type']","options":{"flex":1.4,"showLabel":true},"key":"serviceName","primaryKey":true},{"name":"@lang.['s','Status']","options":{"flex":1.4,"showLabel":true},"key":"serviceStatus"},{"name":"@lang.['r','Records']","options":{"flex":1.4,"showLabel":true},"key":"numberOfServicesUsed"},{"name":"@lang.['sd11','service Data']","options":{"hidden":true,"flex":1.4,"showLabel":false},"key":"servicesData","primaryKey":true}],"singleSelect":true,"actionOnLoad":[],"dataSourceId":"query/read","jslib":{"isViewResultsByServicesDisabled":"function (pageContext) { if( typeof pageContext.selectedRowIds != 'undefined' &&  pageContext.selectedRowIds.length > 0 ) { return false; } else { return true; } }"},"header":{"subHeaderText":"@lang.['r','Records']","headerText":"@lang.['navS3','Services']","children":[{"buttonType":"primary","actionOnClick":["@actions.setSelectedServicesData","@actions.setFlagsToShowSelectedServices","@actions.refreshSelectedServicesDataGrid"],"disabled":"@jslib.isViewResultsByServicesDisabled","id":"viewResults","type":"button","title":"@lang.['vr','View Results']"}]},"isSelectable":true,"actions":[{"name":"refreshSelectedServicesDataGrid","gridId":["selectedServicesDataGrid"],"type":"RefreshGridOnSidePanel"},{"name":"setSelectedServicesData","type":"script","actionDef":"function (pageContext) { if (typeof pageContext.selectedRowIds != 'undefined' && pageContext.selectedRowIds.length > 0) { if(typeof pageContext.selectedRowIds[0].servicesData != 'undefined') { pageContext.selectedServicesData = pageContext.selectedRowIds[0].servicesData; } else { pageContext.selectedServicesData=[]; } pageContext.selectedServiceName = pageContext.selectedRowIds[0].serviceName; } }"},{"name":"setFlagsToShowSelectedServices","type":"script","actionDef":"function(pageContext){pageContext.showSelectedServicesGrid = true;}"}],"searchKeys":["serviceName"]}}],"label":"","id":"services","type":"section","transparent":true},{"hidden":"@jslib.isSelectedServicesHidden","children":[{"id":"selectedServicesData","type":"dataGrid","jsonDef":{"pageContextConfig":{"enable":true,"isPaginationReqd":false,"tableData":{"source":"@pageContext.selectedServicesData"}},"isScrollAble":false,"searchAllowed":false,"searchEmptyScreen":{"image":"@iconlib.ActionsSearchError","contentValue":"@lang.['sysrcue','SORRY! YOUR SEARCH RESULTS CAME UP EMPTY ']","type":"noData"},"rowActions":{"children":[{"activeIcon":"@iconlib.ActionsVisiblePurple","name":"@lang.['vtr','View Task Results']","icon":"@iconlib.ActionsVisibleGrey","tooltip":"@lang.['v1','View']","actionOnClick":["@actions.openServicesDeliveredNSP"],"type":"buttonIcon"}]},"gridRefreshId":"selectedServicesDataGrid","emptyScreen":{"image":"@iconlib.ActionsSearchEmpty","contentValue":"@lang.['ylieatm','YOUR LIST IS EMPTY AT THE MOMENT']","type":"noData"},"tableHeader":[{"name":"@lang.['s33','serviceId']","options":{"hidden":true,"showLabel":false},"key":"serviceItemId","primaryKey":true},{"name":"@lang.['co3','Completed On']","options":{"type":"datetime","showLabel":true},"key":"completedOn","primaryKey":true},{"name":"@lang.['cb1','Captured By']","options":{"showLabel":true},"key":"capturedBy","primaryKey":true},{"name":"@lang.['an1','Asset Name']","options":{"showLabel":true},"key":"assetName","primaryKey":true},{"name":"@lang.['asn','Asset Serial Number']","options":{"showLabel":true},"key":"assetNumber","primaryKey":true}],"dataSourceId":"query/read","jslib":{},"header":{"subHeaderText":"@lang.['r','Records']","headerText":"@pageContext.selectedServiceName"},"isSelectable":false,"actions":[{"name":"openServicesDeliveredNSP","type":"openPanel","pageId":"KBFLEOEEL2"}],"searchKeys":["capturedBy","assetName","assetNumber"]}}],"label":"","id":"selectedServices","type":"section","transparent":true},{"hidden":"@jslib.isInitialEvidenceHidden","children":[{"children":[{"id":"initialEvidenceData","type":"dataGrid","jsonDef":{"pageContextConfig":{"enable":true,"isPaginationReqd":false,"tableData":{"source":"@pageContext.initialEvidenceGridData"}},"isScrollAble":false,"searchAllowed":true,"searchEmptyScreen":{"image":"@iconlib.ActionsSearchError","contentValue":"@lang.['sysrcue','SORRY! YOUR SEARCH RESULTS CAME UP EMPTY ']","type":"noData"},"rowActions":{"children":[{"activeIcon":"@iconlib.ActionsVisiblePurple","name":"@lang.['vtr','View Task Results']","icon":"@iconlib.ActionsVisibleGrey","tooltip":"@lang.['v1','View']","actionOnClick":["@actions.isInitialEvidence","@actions.openInitialEvidenceNSP"],"type":"buttonIcon"}]},"gridRefreshId":"initialEvidenceDataGrid","emptyScreen":{"image":"@iconlib.ActionsSearchEmpty","contentValue":"@lang.['ylieatm','YOUR LIST IS EMPTY AT THE MOMENT']","type":"noData"},"tableHeader":[{"name":"@lang.['co2','Captured On']","options":{"type":"datetime","showLabel":true},"key":"initialEvidenceCapturedTime"},{"name":"@lang.['cb2','Captured By']","options":{"showLabel":true},"key":"capturedBy"},{"name":"@lang.['pp2','Photo Preview']","options":{"hidden":false,"showLabel":true},"type":"thumbnail","key":"initialEvidence","fileType":"JPG"},{"name":"@lang.['n3','Notes']","options":{"showLabel":true},"key":"initialEvidenceNotes"}],"dataSourceId":"query/read","jslib":{},"header":{"subHeaderText":"@lang.['r','Records']","headerText":"@lang.['ier','Initial Evidence Recorded']"},"updateAllowed":true,"isSelectable":false,"actions":[{"name":"openInitialEvidenceNSP","type":"openPanel","pageId":"0BFEEOE9ON"},{"name":"isInitialEvidence","type":"script","actionDef":"function(pageContext){ pageContext.isInitialEvidence=true; pageContext.isFinalEvidence=false;}"}],"searchKeys":["capturedBy"],"multiSelect":false}}],"label":"","id":"initialEvidenceGrid","type":"section","transparent":true},{"children":[{"readOnly":true,"id":"notes","label":"@lang.['n3','Notes']","placeholder":"@lang.['blank4','-']","type":"input","value":"@pageContext.initialComments"}],"label":"","id":"notes","type":"section"}],"label":"@lang.['initialEvidence','Initial Evidence']","id":"initialEvidence","type":"collapseSection","transparent":true},{"hidden":"@jslib.isServicesDeliveredHidden","children":[{"id":"servicesDeliveredData","type":"dataGrid","jsonDef":{"pageContextConfig":{"enable":true,"isPaginationReqd":false,"tableData":{"source":"@pageContext.servicesData"}},"isScrollAble":false,"searchAllowed":true,"searchEmptyScreen":{"image":"@iconlib.ActionsSearchError","contentValue":"@lang.['sysrcue','SORRY! YOUR SEARCH RESULTS CAME UP EMPTY ']","type":"noData"},"rowActions":{"children":[{"activeIcon":"@iconlib.ActionsVisiblePurple","name":"@lang.['vtr','View Task Results']","icon":"@iconlib.ActionsVisibleGrey","tooltip":"@lang.['v1','View']","actionOnClick":["@actions.openServicesDeliveredNSP"],"type":"buttonIcon"}]},"gridRefreshId":"servicesDeliveredDataGrid","emptyScreen":{"image":"@iconlib.ActionsSearchEmpty","contentValue":"@lang.['ylieatm','YOUR LIST IS EMPTY AT THE MOMENT']","type":"noData"},"tableHeader":[{"name":"@lang.['co3','Completed On']","options":{"type":"datetime","showLabel":true},"key":"completedOn"},{"name":"@lang.['cb1','Captured By']","options":{"showLabel":true},"key":"capturedBy"},{"name":"@lang.['serviceType','Service Type']","options":{"showLabel":true},"key":"serviceType"},{"name":"@lang.['an1','Asset Name']","options":{"showLabel":true},"key":"assetName"},{"name":"@lang.['an2','Asset Number']","options":{"showLabel":true},"key":"assetNumber"},{"name":"@lang.['n3','Notes']","options":{"showLabel":true},"key":"servicesNotes"}],"dataSourceId":"query/read","jslib":{},"header":{"subHeaderText":"@lang.['r','Records']","headerText":"@lang.['sd12','Services Delivered']"},"isSelectable":false,"actions":[{"name":"openServicesDeliveredNSP","type":"openPanel","pageId":"KBFLEOEEL2"}],"searchKeys":["capturedBy","serviceType","assetName","assetNumber"]}}],"label":"@lang.['navS3','Services']","id":"servicesDelivered","type":"collapseSection","transparent":true}],"label":"@lang.['taskProgress','Task Progress']","type":"tab"},{"hidden":"@jslib.isTaskNotDispatched","children":[{"hidden":"@jslib.isNotCrewTask","children":[{"readOnly":true,"id":"assignedCrew","label":"@lang.['lac','Last Assigned Crew']","type":"input","value":"@pageContext.crewName"}],"id":"crewName","label":"","type":"section"},{"hidden":"@jslib.isCrewTask","children":[{"readOnly":true,"id":"assignee","label":"@lang.['a4','Assignee']","type":"input","value":"@pageContext.userName"},{"readOnly":true,"id":"phoneNumber","label":"@lang.['phoneNumber','Phone Number']","type":"input","value":"@pageContext.userPhoneNumber"},{"readOnly":true,"id":"email","label":"@lang.['e4','Email']","type":"input","value":"@pageContext.userEmail"}],"id":"singleAttendance","label":"@lang.['ca','Current Assignee']","type":"section"},{"hidden":"@jslib.isNotCrewTask","children":[{"label":"","id":"crewMembers","type":"dataGrid","jsonDef":{"isScrollAble":true,"searchAllowed":true,"tableWidth":"80rem","searchEmptyScreen":{"image":"@iconlib.ActionsSearchError","contentValue":"@lang.['sysrcue','SORRY! YOUR SEARCH RESULTS CAME UP EMPTY ']","type":"noData"},"rowActions":{"children":[{"activeIcon":"@iconlib.ActionsVisiblePurple","hidden":{"checkInType":[false]},"name":"@lang.['va1','View Attendance']","tooltip":"@lang.['va1','View Attendance']","icon":"@iconlib.ActionsVisibleGrey","actionOnClick":["@actions.openViewCrewDataSidePanel"],"type":"buttonIcon"}]},"emptyScreen":{"image":"@iconlib.ActionsSearchEmpty","contentValue":"@lang.['ylieatm','YOUR LIST IS EMPTY AT THE MOMENT']","type":"noData"},"isSync":true,"tableHeader":[{"name":"@lang.['n','Name']","options":{"flex":1,"showLabel":true},"key":"userName"},{"name":"@lang.['c27','Crew']","options":{"flex":1,"showLabel":true},"key":"crewName"},{"name":"@lang.['e4','Email']","options":{"flex":1.5,"showLabel":true},"key":"userEmail"},{"name":"@lang.['phoneNumber','Phone Number']","options":{"flex":1,"showLabel":true},"key":"userPhoneNumber"},{"name":"@lang.['checkIn','Check In']","options":{"flex":1,"type":"dateTime","showLabel":true},"key":"checkIn"},{"name":"@lang.['checkOut','Check Out']","options":{"flex":1,"type":"dateTime","showLabel":true},"key":"checkOut"},{"name":"@lang.['r8','Role']","options":{"flex":1,"showLabel":true},"key":"crewRole"},{"name":"@lang.['mci','Manual Check In']","options":{"flex":1,"showLabel":true},"key":"manualCheckIn"},{"name":"@lang.['cit','Check In Type']","options":{"hidden":true,"flex":1,"showLabel":false},"key":"checkInType"}],"dataToBeSent":{"apiResponseParams":["count"],"processId":"workOrderTaskCrewDataWF","apiResponseFormat":true,"contextVar":{"responseGrid":"crewAttendance","workOrderTaskId":"@pageContext.workOrderTaskId"},"apiResponseObject":"crewAttendance"},"dataSourceId":"process/start","sourceType":"api","header":{"filterAllowed":true,"subHeaderText":"@lang.['r','Records']","headerText":"@lang.['cm','Crew Members']"},"isSelectable":false,"updateAllowed":true,"actions":[{"name":"openViewCrewDataSidePanel","type":"openPanel","pageId":"97DNWZDQMO"}],"searchKeys":["userName"]}}],"id":"crewMembers","label":"@lang.['a10','Assignees']","type":"section","transparent":true},{"hidden":"@jslib.isCrewTask","children":[{"label":"","id":"singleTechAttendanceHistoryDataGrid","type":"dataGrid","jsonDef":{"isScrollAble":true,"searchAllowed":true,"tableWidth":"80rem","searchEmptyScreen":{"image":"@iconlib.ActionsSearchError","contentValue":"@lang.['sysrcue','SORRY! YOUR SEARCH RESULTS CAME UP EMPTY ']","type":"noData"},"rowActions":{"children":[{"activeIcon":"@iconlib.ActionsVisiblePurple","hidden":{"checkInType":[false]},"name":"@lang.['vd','View Details']","tooltip":"@lang.['vd','View Details']","icon":"@iconlib.ActionsVisibleGrey","actionOnClick":["@actions.openCheckInDetailsNNSP"],"type":"buttonIcon"}]},"emptyScreen":{"image":"@iconlib.ActionsSearchEmpty","contentValue":"@lang.['ylieatm','YOUR LIST IS EMPTY AT THE MOMENT']","type":"noData"},"isSync":true,"tableHeader":[{"name":"@lang.['checkIn','Check In']","options":{"flex":1,"type":"dateTime","showLabel":true},"key":"checkInTime"},{"name":"@lang.['checkOut','Check Out']","options":{"flex":1,"type":"dateTime","showLabel":true},"key":"checkOutTime"},{"name":"@lang.['au1','Address Updated']","options":{"flex":1,"showLabel":true},"key":"addressUpdated"},{"name":"@lang.['ul','Updated Location']","options":{"flex":1,"showLabel":true},"key":"location"},{"name":"@lang.['n','Name']","options":{"flex":1,"showLabel":true},"key":"userName"},{"name":"@lang.['e4','Email']","options":{"flex":1.5,"showLabel":true},"key":"userEmail"},{"name":"@lang.['phoneNumber','Phone Number']","options":{"flex":1,"showLabel":true},"key":"userPhoneNumber"},{"name":"@lang.['cit','Check In Type']","options":{"hidden":true,"flex":1,"showLabel":false},"key":"checkInType"}],"dataToBeSent":{"apiResponseParams":["count"],"processId":"workOrderTaskCrewDataWF","apiResponseFormat":true,"contextVar":{"responseGrid":"currentAssigneeAddendance","workOrderTaskId":"@pageContext.workOrderTaskId"},"apiResponseObject":"currentAssigneeAddendance"},"dataSourceId":"process/start","sourceType":"api","header":{"filterAllowed":true,"subHeaderText":"@lang.['r','Records']","headerText":"@lang.['ah2','Attendance History']"},"isSelectable":false,"updateAllowed":true,"actions":[{"name":"openCheckInDetailsNNSP","type":"openPanel","pageId":"B0F4A2FXUE"}],"searchKeys":["userName"]}}],"id":"currentAssigneeAttendance","label":"@lang.['aoca','Attendance Of Current Assignees']","type":"section","transparent":true},{"hidden":"@jslib.isPreviousAssigneeHidden","children":[{"label":"","id":"previousAssigneeGridData","type":"dataGrid","jsonDef":{"isScrollAble":true,"searchAllowed":true,"tableWidth":"80rem","searchEmptyScreen":{"image":"@iconlib.ActionsSearchError","contentValue":"@lang.['sysrcue','SORRY! YOUR SEARCH RESULTS CAME UP EMPTY ']","type":"noData"},"rowActions":{"children":[{"activeIcon":"@iconlib.ActionsVisiblePurple","hidden":{"checkInType":[false]},"name":"@lang.['va1','View Attendance']","tooltip":"@lang.['va1','View Attendance']","icon":"@iconlib.ActionsVisibleGrey","actionOnClick":["@actions.openCheckInDetailsNNSP"],"type":"buttonIcon"}]},"emptyScreen":{"image":"@iconlib.ActionsSearchEmpty","contentValue":"@lang.['ylieatm','YOUR LIST IS EMPTY AT THE MOMENT']","type":"noData"},"isSync":true,"tableHeader":[{"name":"@lang.['n','Name']","options":{"flex":1,"showLabel":true},"key":"userName"},{"name":"@lang.['e4','Email']","options":{"flex":1.5,"showLabel":true},"key":"userEmail"},{"name":"@lang.['phoneNumber','Phone Number']","options":{"flex":1,"showLabel":true},"key":"userPhoneNumber"},{"name":"@lang.['checkIn','Check In']","options":{"flex":1,"type":"dateTime","showLabel":true},"key":"checkInTime"},{"name":"@lang.['checkOut','Check Out']","options":{"flex":1,"type":"dateTime","showLabel":true},"key":"checkOutTime"},{"name":"@lang.['au1','Address Updated']","options":{"flex":1,"showLabel":true},"key":"addressUpdated"},{"name":"@lang.['cit','Check In Type']","options":{"hidden":true,"flex":1,"showLabel":false},"key":"checkInType"}],"dataToBeSent":{"apiResponseParams":["count"],"processId":"workOrderTaskCrewDataWF","apiResponseFormat":true,"contextVar":{"responseGrid":"previousAssignees","workOrderTaskId":"@pageContext.workOrderTaskId"},"apiResponseObject":"previousAssignees"},"dataSourceId":"process/start","sourceType":"api","header":{"filterAllowed":true,"subHeaderText":"@lang.['r','Records']","headerText":"@lang.['pa2','Previous Assignees']"},"isSelectable":false,"updateAllowed":true,"actions":[{"name":"openCheckInDetailsNNSP","type":"openPanel","pageId":"97DNWZDQMO"}],"searchKeys":["userName"]}}],"id":"previousAssignee","label":"@lang.['pa2','Previous Assignees']","type":"section","transparent":true}],"label":"@lang.['a11','Attendance']","type":"tab"},{"hidden":"@jslib.isIncidentReportHidden","children":[{"children":[{"id":"incidentReports","type":"dataGrid","jsonDef":{"isScrollAble":true,"searchAllowed":false,"tableWidth":"70rem","rowActions":{"children":[{"activeIcon":"@iconlib.ActionsVisiblePurple","name":"@lang.['t1','taskView']","icon":"@iconlib.ActionsVisibleGrey","tooltip":"@lang.['v1','View']","actionOnClick":["@actions.openIncidentDetailsSidePanel"],"type":"buttonIcon"}]},"emptyScreen":{"image":"@iconlib.ActionsSearchEmpty","contentValue":"@lang.['ylieatm','YOUR LIST IS EMPTY AT THE MOMENT']","type":"noData"},"isSync":true,"tableHeader":[{"name":"@lang.['it','Incident Type']","options":{"flex":1.5,"sortable":false,"showLabel":true},"key":"incidentType","primaryKey":true},{"name":"@lang.['r5','Reason']","options":{"flex":1.5,"sortable":false,"showLabel":true},"key":"travelIncidentReason"},{"name":"@lang.['st9','Submission Time']","options":{"flex":1.5,"sortable":false,"type":"datetime","showLabel":true},"key":"reportIssueCapturedTime"},{"name":"@lang.['action','Action']","options":{"flex":1.5,"sortable":false,"showLabel":true},"key":"reportIssueType"},{"name":"@lang.['dm','Delay (In Minutes)']","options":{"flex":1.5,"sortable":false,"showLabel":true},"key":"taskDelay"}],"dataToBeSent":{"apiResponseParams":["count"],"processId":"workorderTaskIncidentReportWF","apiResponseFormat":true,"contextVar":{"workOrderTaskId":"@pageContext.workOrderTaskId"},"apiResponseObject":"incidentReportsData"},"dataSourceId":"process/start","sourceType":"api","header":{"subHeaderText":"@lang.['r','Records']","headerText":"@lang.['il','Incident Logs']"},"isSelectable":false,"updateAllowed":true,"actions":[{"name":"openIncidentDetailsSidePanel","type":"openPanel","pageId":"UGWILUCH1E"}],"searchKeys":[]}}],"id":"incidentReports","type":"section","transparent":true}],"label":"@lang.['il','Incident Logs']","type":"tab"}],"id":"taskProgressTab","type":"tab"}]},"actions":[{"endPoint":"event/start","name":"fireProcessEventForTaskSchedulingAndAssignFetchData","outputVarMap":{"data":"@pageContext.workOrderTaskInfo"},"type":"api","continueOnError":true,"actionDef":{"data":[{"eventId":"NN3OQ58980","inputVar":{},"apiResponseFormat":true,"contextVar":{"statusId":"@pageContext.status","workOrderTaskId":"@pageContext.workOrderTaskId","workOrderId":"@pageContext.workOrderId","viewTravelStatus":"@pageContext.viewTravelStatus"}}]}},{"name":"setWorkOrderTaskData","type":"script","actionDef":"function (pageContext) { if (Array.isArray(pageContext.workOrderTaskInfo) && pageContext.workOrderTaskInfo.length > 0 && Array.isArray(pageContext.workOrderTaskInfo[0].data) && pageContext.workOrderTaskInfo[0].data.length > 0) { for (var i = 0; i < pageContext.workOrderTaskInfo[0].data.length; i++) { if (typeof pageContext.workOrderTaskInfo[0].data[i].workOrderTaskData !== 'undefined' && pageContext.workOrderTaskInfo[0].data[i].workOrderTaskData !== '') { pageContext.workOrderTaskData = pageContext.workOrderTaskInfo[0].data[i].workOrderTaskData;  } } pageContext.statusName = pageContext.workOrderTaskData.statusName; pageContext.statusNameColor = pageContext.workOrderTaskData.statusNameColor; pageContext.workOrderTaskResult = pageContext.workOrderTaskData.workOrderTaskResult; pageContext.workOrderCalendarId = pageContext.workOrderTaskData.workOrderCalendarId; if (pageContext.action !== 'calendarOpenTask') { pageContext.workOrderTaskAssignedToUserId = pageContext.workOrderTaskData.workOrderTaskAssignedToUserId; pageContext.userName = pageContext.workOrderTaskData.userName;  } pageContext.workOrderTaskId = pageContext.workOrderTaskData.workOrderTaskId; pageContext.workOrderTaskWorkOrderId = pageContext.workOrderTaskData.workOrderTaskWorkOrderId; pageContext.workOrderTaskService = pageContext.workOrderTaskData.workOrderTaskService; pageContext.workOrderDeadline = (pageContext.workOrderTaskData.workOrderDeadline) ? pageContext.workOrderTaskData.workOrderDeadline : '-'; pageContext.taskTypeCrewTask = pageContext.workOrderTaskData.taskTypeCrewTask; pageContext.workOrderTaskAssignedToCrewId = pageContext.workOrderTaskData.workOrderTaskAssignedToCrewId; pageContext.crewName = pageContext.workOrderTaskData.crewName; pageContext.currentDate = new Date().toISOString().replace('T', ' ').replace('Z', '');  if (pageContext.taskTypeCrewTask && pageContext.workOrderTaskAssignedToCrewId) { pageContext.selectDropdown = []; pageContext.assigneeName = pageContext.crewName; pageContext.initialAssignee = (pageContext.action !== 'calendarOpenTask') ? pageContext.workOrderTaskAssignedToCrewId : ''; pageContext.crewLeadUserId = pageContext.workOrderTaskData.crewLeadUserId; pageContext.crewStatusId = pageContext.workOrderTaskData.crewStatusId; pageContext.selectDropdown.push({ 'value': pageContext.workOrderTaskAssignedToCrewId, 'label': pageContext.crewName }) } else if (typeof pageContext.userName !== 'undefined') { pageContext.selectDropdown = []; pageContext.assigneeName = pageContext.userName; pageContext.initialAssignee = (pageContext.action !== 'calendarOpenTask') ? pageContext.workOrderTaskAssignedToUserId : ''; pageContext.selectDropdown.push({ 'value': pageContext.workOrderTaskAssignedToUserId, 'label': pageContext.userName }) }; }}"},{"async":true,"name":"setOtherWorkOrderTaskData","type":"script","actionDef":"function (pageContext) {   pageContext.taskTypeName = pageContext.workOrderTaskData.taskTypeName; pageContext.siteName = pageContext.workOrderTaskData.siteName; pageContext.customerCompanyName = pageContext.workOrderTaskData.customerCompanyName;pageContext.customerContactEmail = pageContext.workOrderTaskData.customerContactEmail; pageContext.workOrderTypeName = pageContext.workOrderTaskData.workOrderTypeName; pageContext.ZPriorityName = pageContext.workOrderTaskData.ZPriorityName; pageContext.latitude = pageContext.workOrderTaskData.siteLatitude; pageContext.longitude = pageContext.workOrderTaskData.siteLongitude; pageContext.siteAddress = pageContext.workOrderTaskData.siteAddress; pageContext.userEmail = pageContext.workOrderTaskData.userEmail; pageContext.userPhoneNumber = pageContext.workOrderTaskData.userPhoneNumber; }"},{"async":true,"name":"setPreviousAssingeesData","type":"script","actionDef":"function (pageContext) { if (Array.isArray(pageContext.workOrderTaskInfo) && pageContext.workOrderTaskInfo.length > 0 && Array.isArray(pageContext.workOrderTaskInfo[0].data) && pageContext.workOrderTaskInfo[0].data.length > 0) { for (var i = 0; i < pageContext.workOrderTaskInfo[0].data.length; i++) { if (typeof pageContext.workOrderTaskInfo[0].data[i].previousAssignees !== 'undefined' && pageContext.workOrderTaskInfo[0].data[i].previousAssignees.length > 0) { pageContext.previousAssignees = pageContext.workOrderTaskInfo[0].data[i].previousAssignees; } } } }"},{"name":"refreshDataGrid","type":"refreshDataGrid"},{"name":"clearPageContext","type":"clearPageContext"},{"name":"goToPreviousPanel","type":"backPanel"},{"name":"closePanel","type":"closePanel"},{"name":"closeModal","type":"closeModal"},{"endPoint":"process/start","name":"fetchTaskProgressDataByDate","outputVarMap":{"data":"@pageContext.taskProgressDataByDate"},"type":"api","actionDef":{"data":[{"inputVar":{},"processId":"taskSchedulingDispatchedViewTaskProgressByDateWF","apiResponseFormat":true,"contextVar":{"workOrderTaskId":"@pageContext.workOrderTaskId","timeZone":"@pageContext.timeZone"}}]}},{"endPoint":"process/start","name":"fetchTaskProgressDataByServices","outputVarMap":{"data":"@pageContext.taskProgressDataByServices"},"type":"api","actionDef":{"data":[{"inputVar":{},"processId":"taskSchedulingDispatchedViewTaskProgressByServicesWF","apiResponseFormat":true,"contextVar":{"workOrderTaskId":"@pageContext.workOrderTaskId","timeZone":"@pageContext.timeZone"}}]}},{"name":"setTimeZone","type":"script","actionDef":"function (pageContext) { pageContext.timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone; }"},{"name":"taskProgressViewChange","type":"script","actionDef":"function (pageContext) { if (typeof pageContext.taskProgressDropdown !== 'undefined' && pageContext.taskProgressDropdown !== '') { if (pageContext.taskProgressDropdown === 'byDate') { pageContext.selectedFilterForView = 'byDate'; pageContext.showSelectedServicesGrid = false;} if (pageContext.taskProgressDropdown === 'byServices') { pageContext.selectedFilterForView = 'byServices'; pageContext.showInitialEvidenceGrid = false; pageContext.showServicesDeliveredGrid = false;  } } }"},{"falseStep":["@actions.fetchTaskProgressDataByServices"],"trueStep":["@actions.fetchTaskProgressDataByDate"],"name":"decisionActionForTaskProgressFilter","type":"decision","actionDef":"function(pageContext){if( typeof pageContext.taskProgressDropdown !== 'undefined' && pageContext.taskProgressDropdown !='' && pageContext.taskProgressDropdown === 'byDate'){return true;} else {return false;}}"},{"name":"openViewTaskProgressNSP","type":"openPanel","pageId":"viewTaskProgressNSP"}]}