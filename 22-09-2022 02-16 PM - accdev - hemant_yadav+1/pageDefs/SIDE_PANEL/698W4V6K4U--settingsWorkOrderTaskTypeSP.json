{"pageContext":{},"actionOnLoad":["@actions.fetchTaskTypeData","@actions.processTaskTypeData","@actions.initialData","@actions.setTaskTypeEstimatedDuration","@actions.enableDataGrid","@actions.refreshDataGrid"],"jslib":{"validateEstDuration":"function(pageContext) { pageContext.taskTypeEstimatedDuration = Number(pageContext.taskTypeEstimatedDuration); if (typeof pageContext.taskTypeEstimatedDuration !== 'undefined' && pageContext.taskTypeEstimatedDuration !== '' && pageContext.taskTypeEstimatedDuration % 0.25 !== 0) { return true; } else { return false; } }","isSaveContinueDisabled":"function(pageContext) { if ((typeof pageContext.taskTypeName !== 'undefined' && pageContext.taskTypeName !== '') && (typeof pageContext.taskTypeWebTask !== 'undefined' && pageContext.taskTypeWebTask !== '') && (typeof pageContext.enableServices !== 'undefined' && pageContext.enableServices !== '') && (pageContext.taskTypeEstimatedDuration !== 0) && (typeof pageContext.resultModelHeaderId !== 'undefined' && pageContext.resultModelHeaderId !== '') && (typeof pageContext.resultWebPageId !== 'undefined' && pageContext.resultWebPageId !== '') && (typeof pageContext.taskTypeListOptionId !== 'undefined' && pageContext.taskTypeListOptionId !== '') && (typeof pageContext.cancellationReasonId !== 'undefined' && pageContext.cancellationReasonId !== '') && (Number(pageContext.taskTypeEstimatedDuration) % 0.25 === 0)) { if ((typeof pageContext.taskTypeWebTask != 'undefined' && pageContext.taskTypeWebTask != '' && pageContext.taskTypeWebTask.toString() === 'true' && typeof pageContext.webTaskWebPageId !== 'undefined' && pageContext.webTaskWebPageId !== '')) { return false; } else if (typeof pageContext.taskTypeWebTask != 'undefined' && pageContext.taskTypeWebTask != '' && pageContext.taskTypeWebTask.toString() === 'false' && typeof pageContext.mobileProcessId !== 'undefined' && pageContext.mobileProcessId !== '' && typeof pageContext.viewTravelStatus !== 'undefined' && pageContext.viewTravelStatus !== '' && typeof pageContext.taskTypeCrewTask !== 'undefined' && pageContext.taskTypeCrewTask !== '') { if (typeof pageContext.taskTypeWebTask != 'undefined' && pageContext.taskTypeWebTask != '' && pageContext.taskTypeWebTask.toString() === 'false' && typeof pageContext.mobileProcessId !== 'undefined' && pageContext.mobileProcessId !== '' && typeof pageContext.viewTravelStatus !== 'undefined' && pageContext.viewTravelStatus !== '' && typeof pageContext.taskTypeCrewTask !== 'undefined' && pageContext.taskTypeCrewTask !== '' && pageContext.taskTypeCrewTask.toString() === 'true' && pageContext.taskTypeCrewMobileAccess !== '') { if (typeof pageContext.taskTypeWebTask != 'undefined' && pageContext.taskTypeWebTask != '' && pageContext.taskTypeWebTask.toString() === 'false' && typeof pageContext.mobileProcessId !== 'undefined' && pageContext.mobileProcessId !== '' && typeof pageContext.viewTravelStatus !== 'undefined' && pageContext.viewTravelStatus !== '' && typeof pageContext.taskTypeCrewTask !== 'undefined' && pageContext.taskTypeCrewTask !== '' && pageContext.taskTypeCrewTask.toString() === 'true' && pageContext.taskTypeCrewMobileAccess === 'partialAccess' && (pageContext.crewMobileProcessId === '' || pageContext.taskTypeCrewMobileProcessId[0]===null)) { return true; } return false; } else if( typeof pageContext.taskTypeCrewTask !== 'undefined' && pageContext.taskTypeCrewTask !== '' && pageContext.taskTypeCrewTask.toString() === 'true' && pageContext.taskTypeCrewMobileAccess === ''){return true;} return false; } else { return true; } } else { return true; } }","allowDeactivate":"function(pageContext){if(pageContext.taskTypeAction === 'add' || pageContext.taskTypeAction === 'view'){return true;} return false;}","isWebTaskNull":"function(pageContext){return(typeof pageContext.taskTypeWebTask=== 'undefined' ||pageContext.taskTypeWebTask=== '')}","isWebTaskTrue":"function(pageContext){return(typeof pageContext.taskTypeWebTask=== 'undefined' || pageContext.taskTypeWebTask=== '' ||pageContext.taskTypeWebTask === 'true'|| pageContext.taskTypeWebTask === true)}","isWebTaskFalse":"function(pageContext){return (pageContext.taskTypeWebTask=== '' ||  pageContext.taskTypeWebTask === 'false' || pageContext.taskTypeWebTask === false)}","isSaveDisabled":"function(pageContext) { if (pageContext.initialLoad || pageContext.taskTypeStatusId === 'taskTypeDeactivated') { return true; } else { if (pageContext.cancellationReasonId != undefined || (pageContext.selectedServices == 'undefined' && pageContext.selectedServices.length !== 0)) { if (((pageContext.taskTypeStatusId === 'taskTypeActive') && (pageContext.initialTaskTypeName === pageContext.taskTypeName) && (pageContext.initialMobileProcessId === pageContext.mobileProcessId) && (pageContext.initialTravelStatus === pageContext.viewTravelStatus) && (pageContext.initialResultModelHeaderId === pageContext.resultModelHeaderId) && (pageContext.initialTaskTypeDescription === pageContext.taskTypeDescription) && (pageContext.initialWebTaskWebPageId === pageContext.webTaskWebPageId) && (pageContext.initialResultWebPageId === pageContext.resultWebPageId) && (typeof pageContext.taskTypeWebTask !== 'undefined' && typeof pageContext.initialTaskTypeWebTask !== 'undefined' && pageContext.initialTaskTypeWebTask.toString() === pageContext.taskTypeWebTask.toString()) && (typeof pageContext.enableServices !== 'undefined' && typeof pageContext.initialEnableServices !== 'undefined' && pageContext.enableServices !== '' && pageContext.initialEnableServices !== '' && pageContext.initialEnableServices.toString() === pageContext.enableServices.toString()) && (pageContext.initialTaskTypeEstimatedDuration === pageContext.taskTypeEstimatedDuration * 60) && (pageContext.initialTaskTypeCrewMobileProcessId == pageContext.crewMobileProcessId) && (pageContext.initialTaskTypeListOptionId === pageContext.taskTypeListOptionId) && (pageContext.initialcancellationReasonId === pageContext.cancellationReasonId)) || (typeof pageContext.taskTypeName === 'undefined' || pageContext.taskTypeName === '') || (typeof pageContext.resultModelHeaderId === 'undefined' || pageContext.resultModelHeaderId === '') || (typeof pageContext.resultWebPageId === 'undefined' || pageContext.resultWebPageId === '') || (typeof pageContext.taskTypeWebTask === 'undefined' || pageContext.taskTypeWebTask === '') || (typeof pageContext.taskTypeEstimatedDuration === 'undefined' || pageContext.taskTypeEstimatedDuration === '') || (typeof pageContext.taskTypeListOptionId === 'undefined' || pageContext.taskTypeListOptionId === '') || (typeof pageContext.cancellationReasonId === 'undefined' || pageContext.cancellationReasonId === '') || (Number(pageContext.taskTypeEstimatedDuration) % 0.25 !== 0)) { if (typeof pageContext.enableServices !== 'undefined' && pageContext.enableServices.toString() !== '' && pageContext.enableServices.toString() === 'true') { if (typeof pageContext.selectedServices !== 'undefined' || pageContext.selectedServices !== '' || pageContext.selectedServices.length > 0) { return true; } else { return false; } } return true; } else { if ((typeof pageContext.taskTypeWebTask !== 'undefined' && pageContext.taskTypeWebTask.toString() === 'true' && typeof pageContext.webTaskWebPageId !== 'undefined' && pageContext.webTaskWebPageId !== '') || (typeof pageContext.taskTypeWebTask !== 'undefined' && pageContext.taskTypeWebTask.toString() === 'false' && typeof pageContext.mobileProcessId !== 'undefined' && pageContext.mobileProcessId !== '' && typeof pageContext.viewTravelStatus !== 'undefined' && pageContext.viewTravelStatus !== '')) { return false; } else { return true; } } } else { if (((pageContext.taskTypeStatusId === 'taskTypeActive') && (pageContext.initialTaskTypeName === pageContext.taskTypeName) && (pageContext.initialMobileProcessId === pageContext.mobileProcessId) && (pageContext.initialTravelStatus === pageContext.viewTravelStatus) && (pageContext.initialResultModelHeaderId === pageContext.resultModelHeaderId) && (pageContext.initialTaskTypeDescription === pageContext.taskTypeDescription) && (pageContext.initialWebTaskWebPageId === pageContext.webTaskWebPageId) && (pageContext.initialResultWebPageId === pageContext.resultWebPageId) && (typeof pageContext.taskTypeWebTask !== 'undefined' && typeof pageContext.initialTaskTypeWebTask !== 'undefined' && pageContext.initialTaskTypeWebTask.toString() === pageContext.taskTypeWebTask.toString()) && (typeof pageContext.enableServices !== 'undefined' && typeof pageContext.initialEnableServices !== 'undefined' && pageContext.enableServices !== '' && pageContext.initialEnableServices !== '' && pageContext.initialEnableServices.toString() === pageContext.enableServices.toString()) && (pageContext.initialTaskTypeEstimatedDuration === pageContext.taskTypeEstimatedDuration * 60) && (pageContext.initialTaskTypeCrewMobileProcessId == pageContext.crewMobileProcessId) && (pageContext.initialTaskTypeListOptionId === pageContext.taskTypeListOptionId)) || (typeof pageContext.taskTypeName === 'undefined' || pageContext.taskTypeName === '') || (typeof pageContext.resultModelHeaderId === 'undefined' || pageContext.resultModelHeaderId === '') || (typeof pageContext.resultWebPageId === 'undefined' || pageContext.resultWebPageId === '') || (typeof pageContext.taskTypeWebTask === 'undefined' || pageContext.taskTypeWebTask === '') || (typeof pageContext.taskTypeEstimatedDuration === 'undefined' || pageContext.taskTypeEstimatedDuration === '') || (typeof pageContext.taskTypeListOptionId === 'undefined' || pageContext.taskTypeListOptionId === '') || (Number(pageContext.taskTypeEstimatedDuration) % 0.25 !== 0)) { if (typeof pageContext.enableServices !== 'undefined' && pageContext.enableServices.toString() !== '' && pageContext.enableServices.toString() === 'true') { if (typeof pageContext.selectedServices !== 'undefined' || pageContext.selectedServices !== '' || pageContext.selectedServices.length > 0) { return true; } else { return false; } } return true; } else { if ((typeof pageContext.taskTypeWebTask !== 'undefined' && pageContext.taskTypeWebTask.toString() === 'true' && typeof pageContext.webTaskWebPageId !== 'undefined' && pageContext.webTaskWebPageId !== '') || (typeof pageContext.taskTypeWebTask !== 'undefined' && pageContext.taskTypeWebTask.toString() === 'false' && typeof pageContext.mobileProcessId !== 'undefined' && pageContext.mobileProcessId !== '' && typeof pageContext.viewTravelStatus !== 'undefined' && pageContext.viewTravelStatus !== '')) { return false; } else { return true; } } } } }","isMobileWorkflowHidden":"function(pageContext) { return ((typeof pageContext.taskTypeCrewTask=== 'undefined' ||pageContext.taskTypeCrewTask === '' || pageContext.taskTypeCrewTask === 'true' || pageContext.taskTypeCrewTask === true)|| (pageContext.taskTypeWebTask=== '' ||pageContext.taskTypeWebTask === 'true'|| pageContext.taskTypeWebTask === true)) }","isListOptionDisabled":"function(pageContext){return pageContext.categoryId === ''}","isCrewTask":"function(pageContext) { return ((typeof pageContext.taskTypeWebTask=== 'undefined' ||pageContext.taskTypeWebTask === '' || pageContext.taskTypeWebTask === 'true' || pageContext.taskTypeWebTask === true)||(typeof pageContext.taskTypeCrewTask=== 'undefined' || pageContext.taskTypeCrewTask === '' || pageContext.taskTypeCrewTask === 'false' || pageContext.taskTypeCrewTask === false) ) }","isTaskTypeActionAdd":"function(pageContext){return pageContext.taskTypeAction === 'add'}","istaskTypeCrewMobileAccess":"function(pageContext) {return ((pageContext.taskTypeWebTask === '' || pageContext.taskTypeWebTask === 'true' || pageContext.taskTypeWebTask === true) || (pageContext.taskTypeCrewTask === '' || pageContext.taskTypeCrewTask === 'false' || pageContext.taskTypeCrewTask === false)||(pageContext.taskTypeCrewMobileAccess === '' || pageContext.taskTypeCrewMobileAccess === 'noAccess') ) }","isDeactivated":"function(pageContext){if(pageContext.taskTypeAction=='view'){return true}return false;}","isEnableServiceTrue":"function(pageContext){ if (pageContext.taskTypeAction==='add'){ return true; } else if (pageContext.taskTypeAction!=='add' && typeof pageContext.enableServices!='undefined' && pageContext.enableServices.toString() !== '' && pageContext.enableServices.toString() !== 'true'){ return true; } else {return false;} }","viewDisabled":"function(pageContext){if(pageContext.taskTypeAction !== 'view'){return true} return false;}","dynamicHeaderText":"function(pageContext){if (pageContext.taskTypeAction === 'add'){return '@lang.[\"antt\",\"Add New Task Type\"]';} else if(pageContext.taskTypeAction !== 'add'){return '@lang.[\"ett\",\"Edit Task Type\"]';}}","isTaskTypeActionEdit":"function(pageContext){return (pageContext.taskTypeAction !== 'add' || pageContext.taskTypeAction=='view')}"},"header":{"children":[{"hidden":"@jslib.isTaskTypeActionAdd","statusColor":"@pageContext.statusNameColor","id":"status","type":"status","value":"@pageContext.statusName"},{"buttonType":"secondary","hidden":"@jslib.allowDeactivate","actionOnClick":["@actions.openAllowDeactivateModal"],"id":"deactivate","type":"button","title":"@lang.['d10','Deactivate']"},{"buttonType":"secondary","hidden":"@jslib.viewDisabled","actionOnClick":["@actions.openReactivateModal"],"id":"reactivate","type":"button","title":"@lang.['r6','Reactivate']"},{"buttonType":"primary","hidden":"@jslib.isTaskTypeActionEdit","actionOnClick":["@actions.setSubActionUpsertTaskType","@actions.setSubActionInsertAllServices","@actions.fireProcessEvent","@actions.processApiOutput","@actions.setTaskTypeActionEditOrView","@actions.fetchTaskTypeData","@actions.processTaskTypeData","@actions.initialData","@actions.setTaskTypeEstimatedDuration","@actions.getAllServices","@actions.updateAllServicesDefault","@actions.refreshDataGrid"],"disabled":"@jslib.isSaveContinueDisabled","id":"saveAndContinue","type":"button","title":"@lang.['sc1','Save & Continue']"},{"buttonType":"primary","hidden":"@jslib.isTaskTypeActionAdd","actionOnClick":["@actions.setSubActionUpsertTaskType","@actions.fireProcessEvent","@actions.closePanel","@actions.refreshDataGrid","@actions.clearPageContext"],"disabled":"@jslib.isSaveDisabled","id":"submit","type":"button","title":"@lang.['s12','Save']"},{"icon":"@iconlib.NavigationCloseGrey","actionOnClick":["@actions.closePanel","@actions.clearPageContext","@actions.refreshDataGrid"],"id":"Close","type":"buttonIcon"}],"title":"@jslib.dynamicHeaderText"},"body":{"children":[{"children":[{"children":[{"children":[{"isRequired":true,"inputType":"text","disabled":"@jslib.isDeactivated","id":"taskTypeName","label":"@lang.['n','Name']","placeholder":"@lang.['en1','Enter name']","type":"input","value":"@pageContext.taskTypeName"},{"disabled":"@jslib.isDeactivated","id":"description","label":"@lang.['d7','Description (Optional)']","type":"textarea","value":"@pageContext.taskTypeDescription","placeHolder":"@lang.['ed1','Enter description']"}],"label":"@lang.['gi','General Information']","id":"taskTypeSection","type":"section"},{"children":[{"isRequired":true,"actionOnChange":["@actions.clearWebPageIdAndMobileWfId"],"options":[{"id":"@lang.['wt','Web Task']","value":true},{"id":"@lang.['mt','Mobile Task']","value":false}],"disabled":"@jslib.isTaskTypeActionEdit","id":"webTaskSelect","optTitleKey":"id","optValueKey":"value","title":"@lang.['ct5','Choose Type']","type":"select","value":"@pageContext.taskTypeWebTask","placeHolder":"@lang.['stt','Select task type']"},{"isRequired":true,"actionOnChange":["@actions.clearTaskTypeCrewMobileAccess"],"hidden":"@jslib.isWebTaskTrue","optTitleKey":"id","title":"@lang.['ttcbat','This Task Can Be Assigned To']","type":"select","options":[{"id":"@lang.['st13','Single Technician']","value":false},{"id":"@lang.['c27','Crew']","value":true}],"disabled":"@jslib.isTaskTypeActionEdit","id":"assignTask","optValueKey":"value","value":"@pageContext.taskTypeCrewTask","placeHolder":"@lang.['sttoa','Select the type of assignee']","hoverText":{"title":"@lang.['ettcbutdeastoacfatnttsmwbntbdtays','Each task type can be used to dispatch either a single technician or a crew for associated tasks. Note that the selected mobile workflow below needs to be designed to accommodate your selection.']"}},{"actionOnChange":["@actions.clearTaskTypeCrewMobileProcessId"],"hidden":"@jslib.isCrewTask","options":[{"id":"@lang.['na','No Access']","value":"noAccess"},{"id":"@lang.['pa1','Partial Access']","value":"partialAccess"}],"disabled":"@jslib.isTaskTypeActionEdit","id":"mobileAccess","optTitleKey":"id","optValueKey":"value","title":"@lang.['mafcm','Mobile Access for Crew Members']","type":"select","value":"@pageContext.taskTypeCrewMobileAccess","placeHolder":"@lang.['saofcma','Select an option for crew member access']","hoverText":{"title":"@lang.['spatscmasmttdtlvtsstdamtoasnaanmtwbstcmwtttiattc','Select Partial Access to send crew members a simplified mobile task to do things like view their schedule, see task details, and manage their own attendance. Select No Access and no mobile task will be sent to crew members when this task type is assigned to their crew.']"}},{"actionOnChange":["@actions.setWebTaskWebPageId"],"hidden":"@jslib.isWebTaskFalse","isMultiSelect":false,"optLabelMap":"name","optValueMap":"id","searchByOptions":{"dataSourceId":"query/read","sourceType":"query","dataToBeSent":{"filter":"( {$name} like {@filter} && {$pageType} = {@pageType} )","models":["WebPage"],"columns":{"pageType":"WebPage.pageType","name":"WebPage.name","id":"WebPage.id"},"inputs":{"pageType":"SIDE_PANEL"},"orderBy":"name ASC"}},"disabled":"@jslib.isDeactivated","id":"webTaskPageDropdown","label":"@lang.['wtp','Web Task Page']","type":"selectDropdown","value":"@pageContext.taskTypeWebTaskWebPageId","placeHolder":"@lang.['swp','Select web page']"},{"actionOnChange":["@actions.setMobileProcessId"],"hidden":"@jslib.isMobileWorkflowHidden","optLabelMap":"name","optValueMap":"id","isMultiSelect":false,"searchByOptions":{"dataSourceId":"query/read","sourceType":"query","orderBy":"name ASC","dataToBeSent":{"filter":"( {$name} like {@filter} && {$processTypeId} = {@mobileProcessType} )","models":["ZProcess"],"columns":{"processTypeId":"ZProcess.processTypeId","name":"ZProcess.name","id":"ZProcess.id"},"inputs":{"mobileProcessType":"MOBILE"}}},"disabled":"@jslib.isDeactivated","id":"mobileWorkflowDropdown","label":"@lang.['mw1','Mobile Workflow']","type":"selectDropdown","value":"@pageContext.taskTypeMobileProcessId","placeHolder":"@lang.['smw','Select mobile workflow']"},{"actionOnChange":["@actions.setMobileProcessId"],"hidden":"@jslib.isCrewTask","optLabelMap":"name","optValueMap":"id","isMultiSelect":false,"searchByOptions":{"dataSourceId":"query/read","sourceType":"query","orderBy":"name ASC","dataToBeSent":{"filter":"( {$name} like {@filter} && {$processTypeId} = {@mobileProcessType} )","models":["ZProcess"],"columns":{"processTypeId":"ZProcess.processTypeId","name":"ZProcess.name","id":"ZProcess.id"},"inputs":{"mobileProcessType":"MOBILE"}}},"disabled":"@jslib.isDeactivated","id":"mobileWorkflowforMainTaskDropdown","label":"@lang.['mwfmt','Mobile Workflow for Main Task']","type":"selectDropdown","value":"@pageContext.taskTypeMobileProcessId","placeHolder":"@lang.['smwfmt','Select mobile workflow for main task']"},{"actionOnChange":["@actions.setCrewMobileProcessId"],"hidden":"@jslib.istaskTypeCrewMobileAccess","optLabelMap":"name","optValueMap":"id","isMultiSelect":false,"searchByOptions":{"dataSourceId":"query/read","sourceType":"query","orderBy":"name ASC","dataToBeSent":{"filter":"( {$name} like {@filter} && {$processTypeId} = {@mobileProcessType} )","models":["ZProcess"],"columns":{"processTypeId":"ZProcess.processTypeId","name":"ZProcess.name","id":"ZProcess.id"},"inputs":{"mobileProcessType":"MOBILE"}}},"disabled":"@jslib.isDeactivated","id":"mobileWorkflowforAttendanceDropdown","label":"@lang.['mwfcm','Mobile Workflow for Crew Members']","type":"selectDropdown","value":"@pageContext.taskTypeCrewMobileProcessId"},{"hidden":"@jslib.isWebTaskTrue","options":[{"label":"@lang.['e9','Enabled']","value":true},{"label":"@lang.['d25','Disabled']","value":false}],"disabled":"@jslib.isTaskTypeActionEdit","id":"travelStatus","optTitleKey":"label","optValueKey":"value","title":"@lang.['travelStatus','Travel Status']","type":"select","value":"@pageContext.viewTravelStatus","placeHolder":"@lang.['so','Select option']","hoverText":{"title":"@lang.['etoaaetsftwbstwuttwtaotwttcsnttmwmbdtctiftvatb','Enable this option and an extra task status for In Transit will be shown to web users to track when technicians are on their way to the customer site. Note that the mobile workflow must be designed to capture this information from Technicians via a Start Travel button.']"}},{"isRequired":true,"actionOnChange":["@actions.getAllServices","@actions.setAllServicesDefault"],"hidden":"@jslib.isWebTaskNull","optTitleKey":"id","label":"@lang.['navS3','Services']","type":"select","title":"@lang.['navS3','Services']","options":[{"id":"@lang.['e9','Enabled']","value":true},{"id":"@lang.['d25','Disabled']","value":false}],"disabled":"@jslib.isTaskTypeActionEdit","id":"enableServices","optValueKey":"value","value":"@pageContext.enableServices","placeHolder":"@lang.['so','Select option']","hoverText":{"title":"@lang.['sastcbpbtwatetoaywbatstdsftttitnsnttwmabdtus','Services are steps that can be performed by technicians within a task. Enable this option and you will be able to select the default services for this task type in the next step. Note that the workflow must also be designed to use services.']"}}],"label":"@lang.['taskType','Task Type']","id":"taskTypeSection","type":"section"},{"children":[{"isRequired":true,"errorText":"@lang.['peaediio','Please enter an estimated duration in increments of .25']","actionOnChange":["@actions.convertDurationIntoMinutes"],"validator":"@jslib.validateEstDuration","inputType":"number","disabled":"@jslib.isDeactivated","id":"estimatedDuration","label":"@lang.['etd3','Estimated Task Duration (Hours)']","placeholder":"@lang.['eetd','Enter estimated task duration']","type":"input","value":"@pageContext.taskTypeEstimatedDuration"}],"label":"@lang.['td','Task Duration']","id":"taskTypeSection","type":"section"},{"children":[{"actionOnChange":["@actions.setResultModelHeaderId"],"isMultiSelect":false,"optLabelMap":"name","optValueMap":"id","searchByOptions":{"dataSourceId":"query/read","sourceType":"query","dataToBeSent":{"filter":"{$name} like {@filter}","models":["ModelHeader"],"columns":{"name":"ModelHeader.name","id":"ModelHeader.id"},"outerJoinOnModel":"ModelHeader","orderBy":"name ASC"}},"disabled":"@jslib.isDeactivated","id":"resultModelDropdown","label":"@lang.['rm','Result Model']","type":"selectDropdown","value":"@pageContext.taskTypeResultModelHeaderId","placeHolder":"@lang.['srm','Select result model']"},{"actionOnChange":["@actions.setResultWebPageId"],"isMultiSelect":false,"optLabelMap":"name","optValueMap":"id","searchByOptions":{"dataSourceId":"query/read","sourceType":"query","dataToBeSent":{"filter":"( {$name} like {@filter} && {$pageType} = {@pageType} )","models":["WebPage"],"columns":{"pageType":"WebPage.pageType","name":"WebPage.name","id":"WebPage.id"},"inputs":{"pageType":"SIDE_PANEL"},"orderBy":"name ASC"}},"disabled":"@jslib.isDeactivated","id":"resultSidePanelDropdown","label":"@lang.['rs','Result Sidepanel']","type":"selectDropdown","value":"@pageContext.taskTypeResultWebPageId","placeHolder":"@lang.['srs','Select result sidepanel']"}],"label":"@lang.['tr2','Task Result']","id":"taskResultSection","type":"section"},{"children":[{"actionOnChange":["@actions.getListOptionData","@actions.clearTaskTypeListOptionIdForRejection"],"options":"@pageContext.listOptionCategoryList","disabled":"@jslib.isDeactivated","id":"listOptionCategorySelect","optTitleKey":"name","optValueKey":"id","label":"@lang.['loc1','List Options Category']","type":"select","title":"@lang.['loc1','List Options Category']","value":"@pageContext.categoryId","placeHolder":"@lang.['sloc','Select list option category']"},{"options":"@pageContext.listOptionList","disabled":"@jslib.isDeactivated","id":"listOptionSelect","optTitleKey":"name","optValueKey":"id","label":"@lang.['navLO','List Options']","type":"select","title":"@lang.['navLO','List Options']","value":"@pageContext.taskTypeListOptionId","placeHolder":"@lang.['slo','Select list option']"}],"label":"@lang.['rejectionReason','Rejection Reason']","id":"rejectionReasonSection","type":"section"},{"children":[{"actionOnChange":["@actions.getListOptionDataForCancellationReason","@actions.clearTaskTypeListOptionForCancellation"],"options":"@pageContext.listOptionCategoryList","disabled":"@jslib.isDeactivated","id":"listOptionCancellationCategorySelect","optTitleKey":"name","optValueKey":"id","label":"@lang.['loc1','List Options Category']","type":"select","title":"@lang.['loc1','List Options Category']","value":"@pageContext.cancellationCategoryId","placeHolder":"@lang.['sloc','Select list option category']"},{"options":"@pageContext.listOptionListForCancellation","disabled":"@jslib.isDeactivated","id":"listOptionCancellationSelect","optTitleKey":"name","optValueKey":"id","label":"@lang.['navLO','List Options']","type":"select","title":"@lang.['navLO','List Options']","value":"@pageContext.cancellationReasonId","placeHolder":"@lang.['slo','Select list option']"}],"label":"@lang.['cr','Cancellation Reason']","id":"cancellationReasonSection","type":"section"}],"label":"@lang.['navGS','General Settings']","type":"tab"},{"hidden":"@jslib.isTaskTypeActionAdd","children":[{"children":[{"id":"skillDataGrid","type":"dataGrid","jsonDef":{"pageContextConfig":{"enable":true,"isPaginationReqd":false,"tableData":{"source":"@pageContext.taskTypeSkillData"}},"isScrollAble":true,"tableWidth":"50rem","searchAllowed":false,"searchEmptyScreen":{"image":"@iconlib.ActionsSearchError","contentValue":"@lang.['sysrcue','SORRY! YOUR SEARCH RESULTS CAME UP EMPTY']","type":"noData"},"rowActions":{"children":[{"activeIcon":"@iconlib.ActionsEditPurple","hidden":"@jslib.isStatusDeactivated","name":"@lang.['e3','editSkill']","icon":"@iconlib.ActionsEditGrey","tooltip":"@lang.['e1','Edit']","actionOnClick":["@actions.setTaskTypeSkillActionEdit","@actions.setSkillList","@actions.openTaskTypeSkillNestedSidePanel"],"type":"buttonIcon"},{"activeIcon":"@iconlib.ActionsBinPurple","hidden":true,"name":"@lang.['d13','deleteSkill']","icon":"@iconlib.ActionsBinGrey","tooltip":"@lang.['d1','Delete']","actionOnClick":["@actions.openModal"],"type":"buttonIcon"}]},"emptyScreen":{"image":"@iconlib.MagnifyingGlass","contentValue":"@lang.['ylieatm','YOUR LIST IS EMPTY AT THE MOMENT']","type":"noData"},"tableHeader":[{"name":"@lang.['s17','Skill']","options":{"flex":2.1,"sortOrder":"ASC","currentSorted":true,"sortable":true,"showLabel":true},"disabled":"@jslib.isDeactivated","key":"skillName"},{"name":"@lang.['mrsl','Minimum Required Skill Level']","options":{"flex":1.9,"sortOrder":"ASC","currentSorted":true,"sortable":true,"showLabel":true},"disabled":"@jslib.isDeactivated","key":"minSkillLevelName"}],"jslib":{"isSkillDataEmpty":"function(pageContext){return (typeof pageContext.skillData !== 'undefined' && pageContext.skillData.length === 0);}","isTaskTypeActionView":"function(pageContext){if(pageContext.taskTypeAction=='view'){return true}return false;}","isStatusDeactivated":"function(pageContext){return (pageContext.taskTypeStatusId==='taskTypeDeactivated')}"},"header":{"subHeaderText":"@lang.['r','Records']","headerText":"@lang.['navS1','Skills']","children":[{"buttonType":"primary","hidden":"@jslib.isTaskTypeActionView","actionOnClick":["@actions.setTaskTypeSkillActionAdd","@actions.setSkillList","@actions.openTaskTypeSkillNestedSidePanel"],"disabled":"@jslib.isSkillDataEmpty","id":"addNew","type":"button","title":"@lang.['addNew','Add New']"}]},"isSelectable":false,"updateAllowed":true,"dataSource":[],"actions":[{"subTitle":"@lang.['aysywtdtstcbu1','Are you sure you want to delete the skill? This cannot be undone.']","name":"openModal","options":[{"buttonType":"secondary","name":"no","actionOnClick":"@actions.closeModal","type":"button","title":"@lang.['c2','Cancel']"},{"buttonType":"primary","name":"yes","actionOnClick":["@actions.setSubActionDeleteSkill","@actions.fireProcessEvent","@actions.closeModal","@actions.closePanel","@actions.clearPageContext","@actions.refreshDataGrid"],"type":"button","title":"@lang.['d1','Delete']"}],"type":"openModal","title":"@lang.['cd','Confirm Delete']"},{"name":"setSubActionDeleteSkill","type":"script","actionDef":"function(pageContext){pageContext.subAction='deleteSkill';}"},{"name":"setTaskTypeSkillActionAdd","type":"script","actionDef":"function(pageContext){pageContext.taskTypeSkillAction='add';}"},{"name":"setTaskTypeSkillActionEdit","type":"script","actionDef":"function(pageContext){pageContext.taskTypeSkillAction='edit';}"},{"name":"setSkillList","type":"script","actionDef":"function(pageContext){if(pageContext.taskTypeSkillAction==='add'){pageContext.skillList=pageContext.skillData;}else if(pageContext.taskTypeSkillAction==='edit'){var obj={'id':pageContext.taskTypeSkillSkillId,'name':pageContext.skillName};pageContext.skillList=(typeof pageContext.skillData!=='undefined'&&pageContext.skillData!='')?pageContext.skillData:[];pageContext.skillList.push(obj);}}"},{"name":"openTaskTypeSkillNestedSidePanel","type":"openPanel","pageId":"EM8X4V6VI2"}],"searchKeys":["skillLevelName","skillName"]}}],"id":"skillSection","label":"@lang.['navS1','Skills']","type":"section","transparent":true}],"id":"skillTab","label":"@lang.['sr1','Skills Requirement']","type":"tab"},{"hidden":"@jslib.isEnableServiceTrue","children":[{"children":[{"hidden":false,"disabled":false,"id":"serviceInfo","fontStyle":"standard","alignment":"justify","type":"text","helperText":"","value":"@lang.['sastcbpwatsaotdstcbpaapotttntdwstelacsaswcatfasj','Services are steps that can be performed within a task. Select all of the default services that could be performed as a part of this task type. Note that dispatchers will see this entire list and can select a subset when creating a task for a specific job.']","required":false,"url":""}],"id":"serviceInfoText","type":"section"},{"children":[{"tableWidth":"50rem","name":"@lang.['s18','servicesGrid']","label":"","id":"taskTypeServicesDataGrid","type":"dataGrid","jsonDef":{"isScrollAble":false,"searchAllowed":true,"searchEmptyScreen":{"image":"@iconlib.ActionsSearchError","contentValue":"@lang.['sysrcue','SORRY! YOUR SEARCH RESULTS CAME UP EMPTY']","type":"noData"},"rowActions":{},"emptyScreen":{"image":"@iconlib.ActionsSearchEmpty","contentValue":"@lang.['ylieatm','YOUR LIST IS EMPTY AT THE MOMENT']","type":"noData"},"tableHeader":[{"name":"@lang.['n','Name']","options":{"flex":1,"sortOrder":"ASC","sortable":true,"showLabel":true},"key":"catalogName"},{"name":"@lang.['d','Description']","options":{"flex":1.5,"showLabel":true},"key":"catalogDescription"}],"dataToBeSent":{"filter":"{$catalogId} in {@selectedServices}","models":["catalog"],"inputs":{"selectedServices":"@pageContext.selectedServices"},"columns":{"catalogName":"catalog.name","catalogRecver":"catalog.recver","catalogId":"catalog.id","catalogDescription":"catalog.description"},"orderBy":"catalogName ASC","outerJoinOnModel":"catalog","distinct":true,"outputVarMap":{"data":"@pageContext.servicelist"}},"actionOnLoad":[],"dataSourceId":"query/read","jslib":{"isStatusDeactivated":"function(pageContext){return (pageContext.taskTypeStatusId==='taskTypeDeactivated')}"},"header":{"subHeaderText":"@lang.['r','Records']","headerText":"@lang.['navS3','Services']","children":[{"buttonType":"primary","actionOnClick":["@actions.openWorkOrderTaskTypeNestedSidePanel"],"disabled":"@jslib.isStatusDeactivated","id":"editServices","type":"button","title":"@lang.['e1','Edit']"}]},"isSelectable":false,"actions":[{"name":"openWorkOrderTaskTypeNestedSidePanel","type":"openPanel","pageId":"90JVVVCO3L"}],"searchKeys":["catalogName"]}}],"id":"servicesSection","label":"@lang.['los','List of Services']","type":"section","transparent":true}],"id":"servicesTab","label":"@lang.['navS3','Services']","type":"tab"}],"id":"tab","type":"tab"}]},"actions":[{"name":"clearPageContext","type":"clearPageContext"},{"name":"closeModal","type":"closeModal"},{"name":"closePanel","type":"closePanel"},{"name":"initialData","type":"script","actionDef":"function(pageContext) { if (pageContext.taskTypeAction === 'add') { pageContext.selectedRowIds = ''; pageContext.taskTypeListOptionId = ''; pageContext.categoryId = ''; pageContext.taskTypeStatusId = 'taskTypeActive'; pageContext.taskTypeName = ''; pageContext.taskTypeDescription = ''; pageContext.taskTypeResultModelHeaderId = ''; pageContext.taskTypeMobileProcessId = ''; pageContext.taskTypeResultWebPageId = ''; pageContext.taskTypeWebTaskWebPageId = ''; pageContext.taskTypeWebTask = ''; pageContext.enableServices = ''; pageContext.resultModelHeaderId = ''; pageContext.mobileProcessId = ''; pageContext.webTaskWebPageId = ''; pageContext.resultWebPageId = ''; pageContext.taskTypeCrewTask = ''; pageContext.taskTypeCrewMobileAccess = ''; pageContext.taskTypeCrewMobileProcessId = ''; pageContext.crewMobileProcessId = '';  pageContext.viewTravelStatus = true; pageContext.taskTypeEstimatedDuration = ''; } else if (pageContext.taskTypeAction === 'edit') { pageContext.initialSelectedRowIds = pageContext.taskTypeServices; pageContext.selectedRowIds = pageContext.taskTypeServices; pageContext.initialTaskTypeListOptionId = pageContext.taskTypeListOptionId; if ((typeof pageContext.cancellationReasonId !== 'undefined')) { pageContext.initialcancellationReasonId = pageContext.cancellationReasonId; } pageContext.initialCategoryId = pageContext.categoryId; pageContext.initialTaskTypeName = pageContext.taskTypeName; pageContext.initialTaskTypeDescription = pageContext.taskTypeDescription; pageContext.initialTaskTypeWebTask = pageContext.taskTypeWebTask; pageContext.initialEnableServices = pageContext.enableServices; pageContext.initialTaskTypeCrewTask = pageContext.taskTypeCrewTask; pageContext.initialTaskTypeCrewMobileAccess = pageContext.taskTypeCrewMobileAccess; pageContext.initialTaskTypeCrewMobileProcessId = pageContext.crewMobileProcessId;  pageContext.initialTaskTypeEstimatedDuration = pageContext.taskTypeEstimatedDuration; pageContext.initialResultModelHeaderId = pageContext.resultModelHeaderId; pageContext.initialMobileProcessId = pageContext.mobileProcessId; pageContext.initialWebTaskWebPageId = pageContext.webTaskWebPageId; pageContext.initialResultWebPageId = pageContext.resultWebPageId; if (pageContext.initialLoad) { pageContext.initialLoad = false; } pageContext.initialTravelStatus = pageContext.viewTravelStatus; } }"},{"name":"getListOptionData","outputVarMap":{"data":"@pageContext.listOptionList"},"type":"query","actionDef":{"filter":"{$categoryId} = {@categoryId}","models":["listOption"],"columns":{"name":"listOption.name","id":"listOption.id","categoryId":"listOption.categoryId"},"inputs":{"categoryId":"@pageContext.categoryId"}}},{"name":"getAllServices","outputVarMap":{"data":"@pageContext.getAllServicesList"},"type":"query","actionDef":{"filter":"{$catalog.catalogTypeId}='service'","models":["catalog"],"columns":{"catalogId":"catalog.id"},"distinct":true}},{"name":"setAllServicesDefault","type":"script","actionDef":"function (pageContext) { pageContext.selectedServices = []; if (pageContext.taskTypeAction !== 'add' && typeof pageContext.enableServices !='undefined' && typeof pageContext.initialEnableServices !='undefined' && pageContext.enableServices.toString() === 'true' && pageContext.initialEnableServices.toString() !== pageContext.enableServices.toString()){pageContext.selectedServicesList=[];pageContext.selectedServicesList=pageContext.getAllServicesList;for (var i = 0; i < pageContext.getAllServicesList.length; i++) { pageContext.selectedServices.push(pageContext.getAllServicesList[i].catalogId);} } }"},{"name":"updateAllServicesDefault","type":"script","actionDef":"function(pageContext) { pageContext.selectedServices = []; if (typeof pageContext.enableServices != 'undefined' && pageContext.enableServices != '' && pageContext.enableServices.toString() === 'true') { for (var i = 0; i < pageContext.getAllServicesList.length; i++) {  pageContext.selectedServices.push(pageContext.getAllServicesList[i].catalogId); } }  }"},{"name":"getListOptionDataForCancellationReason","outputVarMap":{"data":"@pageContext.listOptionListForCancellation"},"type":"query","actionDef":{"filter":"{$categoryId} = {@categoryId}","models":["listOption"],"columns":{"name":"listOption.name","id":"listOption.id","categoryId":"listOption.categoryId"},"inputs":{"categoryId":"@pageContext.cancellationCategoryId"}}},{"endPoint":"event/start","name":"fireProcessEvent","outputVarMap":{"data":"@pageContext.data"},"type":"api","actionDef":{"data":[{"eventId":"settingsWorkOrderTaskTypeProcessEvent","contextVar":{"taskType":[{"resultModelHeaderId":"@pageContext.resultModelHeaderId","statusTargetModel":"taskType","crewMobileProcessId":"@pageContext.crewMobileProcessId","description":"@pageContext.taskTypeDescription","crewMobileAccess":"@pageContext.taskTypeCrewMobileAccess","mobileProcessId":"@pageContext.mobileProcessId","resultWebPageId":"@pageContext.resultWebPageId","services":"@pageContext.selectedServicesList","estimatedDuration":"@pageContext.taskTypeEstimatedDurationMinute","listOptionId":"@pageContext.taskTypeListOptionId","webTaskWebPageId":"@pageContext.webTaskWebPageId","crewTask":"@pageContext.taskTypeCrewTask","cancellationListOptionId":"@pageContext.cancellationReasonId","webTask":"@pageContext.taskTypeWebTask","statusId":"@pageContext.taskTypeStatusId","enableServices":"@pageContext.enableServices","recver":"@pageContext.taskTypeRecver","name":"@pageContext.taskTypeName","id":"@pageContext.taskTypeId","viewTravelStatus":"@pageContext.viewTravelStatus"}],"taskTypeSkill":[{"skillId":"@pageContext.taskTypeSkillSkillId","taskTypeId":"@pageContext.taskTypeId","recver":"@pageContext.taskTypeSkillRecver"}],"subAction":"@pageContext.subAction"}}]}},{"name":"refreshDataGrid","type":"refreshDataGrid"},{"name":"processApiOutput","type":"script","actionDef":"function(pageContext){ pageContext.taskTypeId=pageContext.data[0].data[0].taskTypeId;}"},{"endPoint":"event/start","name":"fetchTaskTypeData","outputVarMap":{"data":"@pageContext.queryData"},"type":"api","actionDef":{"data":[{"eventId":"84DTAN707C","contextVar":{"taskTypeId":"@pageContext.taskTypeId","action":"@pageContext.taskTypeAction"}}]}},{"name":"processTaskTypeData","type":"script","actionDef":"function(pageContext) { if (pageContext.taskTypeAction === 'add') { pageContext.listOptionCategoryList = pageContext.queryData[0].data[0].listOptionCategoryData; } else if (pageContext.taskTypeAction !== 'add') {pageContext.listOptionCategoryList = pageContext.queryData[0].data[0].listOptionCategoryData; pageContext.taskTypeDescription = pageContext.queryData[0].data[0].taskTypeData[0].taskTypeDescription; pageContext.taskTypeEstimatedDuration = pageContext.queryData[0].data[0].taskTypeData[0].taskTypeEstimatedDuration; pageContext.resultModelHeaderId = pageContext.queryData[0].data[0].taskTypeData[0].resultModelHeaderId; pageContext.taskTypeCrewTask = pageContext.queryData[0].data[0].taskTypeData[0].taskTypeCrewTask; pageContext.taskTypeCrewMobileAccess = pageContext.queryData[0].data[0].taskTypeData[0].taskTypeCrewMobileAccess; pageContext.taskTypeResultModelHeaderId = pageContext.queryData[0].data[0].taskTypeData[0].taskTypeResultModelHeaderId; pageContext.taskTypeWebTask = pageContext.queryData[0].data[0].taskTypeData[0].taskTypeWebTask; pageContext.mobileProcessId = pageContext.queryData[0].data[0].taskTypeData[0].mobileProcessId; pageContext.viewTravelStatus = pageContext.queryData[0].data[0].taskTypeData[0].viewTravelStatus; pageContext.taskTypeMobileProcessId = pageContext.queryData[0].data[0].taskTypeData[0].taskTypeMobileProcessId; pageContext.statusName = pageContext.queryData[0].data[0].taskTypeData[0].statusName; pageContext.statusNameColor = pageContext.queryData[0].data[0].taskTypeData[0].statusNameColor; pageContext.webTaskWebPageId = pageContext.queryData[0].data[0].taskTypeData[0].webTaskWebPageId; pageContext.taskTypeWebTaskWebPageId = pageContext.queryData[0].data[0].taskTypeData[0].taskTypeWebTaskWebPageId; pageContext.taskTypeName = pageContext.queryData[0].data[0].taskTypeData[0].taskTypeName; pageContext.enableServices = pageContext.queryData[0].data[0].taskTypeData[0].enableServices; pageContext.taskTypeListOptionId = pageContext.queryData[0].data[0].taskTypeData[0].taskTypeListOptionId; pageContext.categoryId = pageContext.queryData[0].data[0].taskTypeData[0].listOptionCategoryId; pageContext.resultWebPageId = pageContext.queryData[0].data[0].taskTypeData[0].resultWebPageId; pageContext.taskTypeResultWebPageId = pageContext.queryData[0].data[0].taskTypeData[0].taskTypeResultWebPageId; pageContext.listOptionList = pageContext.queryData[0].data[0].listOptionData; if (pageContext.queryData[0].data[0].cancellationData !== '' && pageContext.queryData[0].data[0].listOptionCancellationData[0].id !== '' && pageContext.queryData[0].data[0].listOptionCancellationData[0].cancellationCategoryId !== '') { pageContext.listOptionListForCancellation = pageContext.queryData[0].data[0].cancellationData; pageContext.cancellationReasonId = pageContext.queryData[0].data[0].listOptionCancellationData[0].id; pageContext.cancellationCategoryId = pageContext.queryData[0].data[0].listOptionCancellationData[0].cancellationCategoryId; } pageContext.taskTypeSkillData = pageContext.queryData[0].data[0].taskTypeSkillData; pageContext.skillData = pageContext.queryData[0].data[0].skillData; pageContext.selectedServices = []; pageContext.selectedServicesList = pageContext.queryData[0].data[0].taskTypeData[0].selectedServicesList; if (typeof pageContext.selectedServicesList !== 'undefined' && pageContext.selectedServicesList.length > 0) { for (var i = 0; i < pageContext.selectedServicesList.length; i++) { pageContext.selectedServices.push(pageContext.selectedServicesList[i].catalogId) } } pageContext.taskTypeCrewMobileProcessId = pageContext.queryData[0].data[0].taskTypeData[0].taskTypeCrewMobileProcessId; } }"},{"subTitle":"@lang.['aysywtdttt','Are you sure you want to deactivate this task type?']","name":"openAllowDeactivateModal","options":[{"buttonType":"secondary","name":"no","actionOnClick":"@actions.closeModal","type":"button","title":"@lang.['c2','Cancel']"},{"buttonType":"primary","name":"yes","actionOnClick":["@actions.setSubActionDeactivateTaskType","@actions.fireProcessEvent","@actions.closeModal","@actions.closePanel","@actions.clearPageContext","@actions.refreshDataGrid"],"type":"button","title":"@lang.['d10','Deactivate']"}],"type":"openModal","title":"@lang.['dtt','Deactivate Task Type']"},{"subTitle":"@lang.['aysywtrttt','Are you sure you want to reactivate this task type?']","name":"openReactivateModal","options":[{"buttonType":"secondary","name":"no","actionOnClick":"@actions.closeModal","type":"button","title":"@lang.['c2','Cancel']"},{"buttonType":"primary","name":"yes","actionOnClick":["@actions.setSubActionReactivateTaskType","@actions.fireProcessEvent","@actions.closeModal","@actions.closePanel","@actions.clearPageContext","@actions.refreshDataGrid"],"type":"button","title":"@lang.['r6','Reactivate']"}],"type":"openModal","title":"@lang.['rtt','Reactivate Task Type']"},{"name":"setSubActionDeactivateTaskType","type":"script","actionDef":"function(pageContext){pageContext.subAction='deactivateTaskType';pageContext.taskTypeStatusId='taskTypeDeactivated';}"},{"name":"setSubActionReactivateTaskType","type":"script","actionDef":"function(pageContext){pageContext.subAction='reactivateTaskType';pageContext.taskTypeStatusId='taskTypeActive';}"},{"name":"setSubActionInsertAllServices","type":"script","actionDef":"function (pageContext) { if (pageContext.taskTypeAction === 'add' && typeof pageContext.enableServices !='undefined' && pageContext.enableServices.toString() === 'true') { pageContext.subAction = 'insertAllServices'; } }"},{"name":"setSubActionUpsertTaskType","type":"script","actionDef":"function(pageContext){pageContext.subAction='upsertTaskType'; pageContext.taskTypeStatusId = 'taskTypeActive';}"},{"name":"setTaskTypeActionEdit","type":"script","actionDef":"function(pageContext){pageContext.taskTypeAction='edit'}"},{"name":"setTaskTypeActionEditOrView","type":"script","actionDef":"function(pageContext){if(pageContext.taskTypeStatusId==='taskTypeDeactivated'){pageContext.taskTypeAction = 'view';}else{pageContext.taskTypeAction='edit';pageContext.initialLoad = true;}}"},{"name":"convertDurationIntoMinutes","type":"script","actionDef":"function(pageContext) { if (typeof pageContext.taskTypeEstimatedDuration !== 'undefined' && pageContext.taskTypeEstimatedDuration !== '') { pageContext.taskTypeEstimatedDurationMinute = (Number(pageContext.taskTypeEstimatedDuration) * 60); } }"},{"name":"setTaskTypeEstimatedDuration","type":"script","actionDef":"function(pageContext) { if (typeof pageContext.queryData!=='undefined' && pageContext.queryData.length > 0) { if (typeof pageContext.queryData[0].data[0].taskTypeData!=='undefined' && pageContext.queryData[0].data[0].taskTypeData.length > 0) {  pageContext.taskTypeEstimatedDuration = pageContext.queryData[0].data[0].taskTypeData[0].taskTypeEstimatedDuration; pageContext.taskTypeEstimatedDuration = (Number(pageContext.taskTypeEstimatedDuration) / 60).toFixed(2);} } }"},{"name":"clearWebPageIdAndMobileWfId","type":"script","actionDef":"function(pageContext){pageContext.taskTypeWebTaskWebPageId='';pageContext.webTaskWebPageId='';pageContext.taskTypeMobileProcessId='';pageContext.mobileProcessId='';pageContext.selectedRowIds = [];pageContext.enableServices=true;}"},{"name":"clearTaskTypeListOptionForCancellation","type":"script","actionDef":"function(pageContext){pageContext.cancellationReasonId='';}"},{"name":"clearTaskTypeListOptionIdForRejection","type":"script","actionDef":"function(pageContext){pageContext.taskTypeListOptionId='';}"},{"name":"clearTaskTypeCrewMobileAccess","type":"script","actionDef":"function(pageContext){pageContext.taskTypeCrewMobileAccess=''; pageContext.taskTypeMobileProcessId=''; pageContext.mobileProcessId=''}"},{"name":"clearTaskTypeCrewMobileProcessId","type":"script","actionDef":"function(pageContext){pageContext.crewMobileProcessId=''; pageContext.taskTypeCrewMobileProcessId='';}"},{"name":"enableDataGrid","type":"script","actionDef":"function(pageContext){pageContext.enable=true;}"},{"name":"setMobileProcessId","type":"script","actionDef":"function(pageContext){if(pageContext.taskTypeMobileProcessId[0] !== null){pageContext.mobileProcessId=pageContext.taskTypeMobileProcessId[0].value;} else {pageContext.mobileProcessId=''}}"},{"name":"setCrewMobileProcessId","type":"script","actionDef":"function(pageContext){if(typeof pageContext.taskTypeCrewMobileProcessId !== 'undefined' && pageContext.taskTypeCrewMobileProcessId !== ''){pageContext.crewMobileProcessId=pageContext.taskTypeCrewMobileProcessId[0].value;} else {pageContext.crewMobileProcessId=''}}"},{"name":"setWebTaskWebPageId","type":"script","actionDef":"function(pageContext){if(pageContext.taskTypeWebTaskWebPageId[0] !== null){pageContext.webTaskWebPageId=pageContext.taskTypeWebTaskWebPageId[0].value;} else {pageContext.webTaskWebPageId=''}}"},{"name":"setResultWebPageId","type":"script","actionDef":"function(pageContext){if(pageContext.taskTypeResultWebPageId[0] !== null){pageContext.resultWebPageId=pageContext.taskTypeResultWebPageId[0].value;} else {pageContext.resultWebPageId=''}}"},{"name":"setResultModelHeaderId","type":"script","actionDef":"function(pageContext){if(pageContext.taskTypeResultModelHeaderId[0] !== null){pageContext.resultModelHeaderId=pageContext.taskTypeResultModelHeaderId[0].value;} else {pageContext.resultModelHeaderId=''}}"},{"name":"setWebTaskWebPageId","type":"script","actionDef":"function(pageContext){if(pageContext.taskTypeWebTaskWebPageId[0] !== null){pageContext.webTaskWebPageId=pageContext.taskTypeWebTaskWebPageId[0].value;} else {pageContext.webTaskWebPageId=''}}"}]}