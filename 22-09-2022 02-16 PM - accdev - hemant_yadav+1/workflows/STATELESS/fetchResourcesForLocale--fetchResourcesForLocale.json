{"processData":{"contextChangePermitted":true,"connectors":[{"exitPortType":"NextStep","nodeId":"queryResources"}],"name":"processData","description":"processData","processRule":"contextVar.filter = '{$id} in {@resourceIdList} AND {$locale} in {@localeList}'; contextVar.localeList = []; if(Array.isArray(contextVar.userLocale)){contextVar.localeList.push(...contextVar.userLocale);}else{contextVar.localeList.push(contextVar.userLocale);}; if (contextVar.defaultLocale) { contextVar.localeList.push(contextVar.defaultLocale); }","id":"processData","nodeType":"PROCESS","jsEngine":"es6"},"isDataValid":{"connectors":[{"exitPortType":"TrueStep","nodeId":"processData"},{"exitPortType":"FalseStep","nodeId":"end"}],"name":"isDataValid","description":"isDataValid","processRule":"(contextVar.resourceIdList && Array.isArray(contextVar.resourceIdList) &&  contextVar.userLocale != '')","id":"isDataValid","nodeType":"DECISION"},"queryResources":{"filter":"filter","models":["Resource"],"connectors":[{"exitPortType":"NextStep","nodeId":"processQueryData"}],"columns":{"resource":"resource","id":"id","locale":"locale"},"name":"queryResources","description":"queryResources","inputVarMap":{"resourceIdList":"resourceIdList","filter":"filter","localeList":"localeList"},"id":"queryResources","outputVarMap":{"data":"queryResourceData"},"nodeType":"QUERY"},"processQueryData":{"contextChangePermitted":true,"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"name":"processQueryData","description":"Use this for processing data in workflow","processRule":"contextVar.responseData = {}; if (contextVar.queryResourceData && Array.isArray(contextVar.queryResourceData)) { contextVar.queryResourceData.forEach((el) => { if (typeof contextVar.responseData[el.locale] === 'undefined' || contextVar.responseData[el.locale] == ''){ contextVar.responseData[el.locale] = {}; } contextVar.responseData[el.locale][el.id] = el.resource; }); }","id":"processQueryData","nodeType":"PROCESS","jsEngine":"es6"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"isDataValid"}],"name":"start","description":"Start","id":"start","nodeType":"START"},"end":{"name":"end","description":"End","inputVarMap":{"responseData":"responseData"},"outputVarMap":{"responseData":"responseData"},"id":"end","nodeType":"END"},"workflowNodes":["start","isDataValid","processData","queryResources","processQueryData","end"]}