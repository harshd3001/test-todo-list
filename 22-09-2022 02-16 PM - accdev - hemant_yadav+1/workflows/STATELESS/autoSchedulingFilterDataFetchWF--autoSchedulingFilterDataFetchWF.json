{"fetchWorkGroupRelatedRegionIdsAndTaskTypeIds":{"connectors":[{"exitPortType":"NextStep","nodeId":"createStaticFilters"}],"processId":"userWorkGroupFilterWF","name":"fetchWorkGroupRelatedRegionIdsAndTaskTypeIds","description":"fetchWorkGroupRelatedRegionIdsAndTaskTypeIds","inputVarMap":{"userList":"userList"},"outputVarMap":{},"id":"fetchWorkGroupRelatedRegionIdsAndTaskTypeIds","nodeType":"WORKFLOW"},"workflowContext":{"taskTypeActive":"taskTypeActive"},"fetchRegions":{"filter":"filter","models":["region"],"connectors":[{"exitPortType":"NextStep","nodeId":"fetchTaskTypes"}],"columns":{"label":"name","value":"id"},"name":"fetchRegions","description":"fetchRegions","inputVarMap":{"searchText":"searchText","regionStaticFilter":"filter","regionIds":"regionIds"},"outputVarMap":{"data":"regionData"},"nodeType":"QUERY","getCount":true},"processUserId":{"connectors":[{"exitPortType":"NextStep","nodeId":"fetchWorkGroupRelatedRegionIdsAndTaskTypeIds"}],"contextChangePermitted":true,"name":"processUserId","description":"processUserId","processRule":"if (typeof contextVar.currentUserDetail !=='undefined') { contextVar.userList=[];contextVar.userList.push(contextVar.currentUserDetail[0].userId) };","nodeType":"PROCESS"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"getLoggedInUser"}],"name":"start","description":"Start","nodeType":"START"},"getLoggedInUser":{"filter":"{$userId}={@userId}","models":["User"],"connectors":[{"exitPortType":"NextStep","nodeId":"processUserId"}],"columns":{"userName":"User.name","userId":"User.id"},"name":"getLoggedInUser","description":"getLoggedInUser","inputVarMap":{"{@userId}":"userId"},"outputVarMap":{"data":"currentUserDetail"},"nodeType":"QUERY"},"createStaticFilters":{"connectors":[{"exitPortType":"NextStep","nodeId":"fetchRegions"}],"contextChangePermitted":true,"name":"createStaticFilters","description":"createStaticFilters","processRule":"if (typeof contextVar.finalFilteredData !== 'undefined') { if (typeof contextVar.searchText === 'undefined') { contextVar.searchText = '%%'; } if (contextVar.finalFilteredData[contextVar.currentUserDetail[0].userId].isAllFilterApplied) { contextVar.regionStaticFilter = '{$label} LIKE {@searchText}'; } else { if (typeof contextVar.finalFilteredData[contextVar.currentUserDetail[0].userId].region !== 'undefined') { contextVar.regionIds = contextVar.finalFilteredData[contextVar.currentUserDetail[0].userId].region.filterIdList; contextVar.regionStaticFilter = '{$label} LIKE {@searchText} AND {$id} IN {@regionIds}'; } else { contextVar.regionStaticFilter = '{$label} LIKE {@searchText}'; } } if (contextVar.finalFilteredData[contextVar.currentUserDetail[0].userId].isAllFilterApplied) { contextVar.taskTypeStaticFilter = '{$label} LIKE {@searchText} AND {$webTask} = false AND {$crewTask} = false AND {$taskType.statusId} = {@taskTypeActive}'; } else { if (typeof contextVar.finalFilteredData[contextVar.currentUserDetail[0].userId].taskType !== 'undefined') { contextVar.taskTypeIds = contextVar.finalFilteredData[contextVar.currentUserDetail[0].userId].taskType.filterIdList; contextVar.taskTypeStaticFilter = '{$label} LIKE {@searchText} AND {$webTask} = false AND {$crewTask} = false AND {$id} IN {@taskTypeIds} AND {$taskType.statusId} = {@taskTypeActive}'; } else { contextVar.taskTypeStaticFilter = '{$label} LIKE {@searchText} AND {$webTask} = false AND {$crewTask} = false AND {$taskType.statusId} = {@taskTypeActive}'; } } }","nodeType":"PROCESS"},"end":{"name":"end","description":"End","inputVarMap":{"taskTypeData":"taskTypeData","regionData":"regionData"},"outputVarMap":{"taskTypeData":"taskTypeData","regionData":"regionData"},"nodeType":"END"},"fetchTaskTypes":{"filter":"filter","models":["taskType"],"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"columns":{"label":"name","value":"id"},"name":"fetchTaskTypes","description":"fetchTaskTypes","inputVarMap":{"searchText":"searchText","taskTypeActive":"taskTypeActive","taskTypeIds":"taskTypeIds","taskTypeStaticFilter":"filter"},"outputVarMap":{"data":"taskTypeData"},"nodeType":"QUERY","getCount":true},"workflowNodes":["start","getLoggedInUser","processUserId","fetchWorkGroupRelatedRegionIdsAndTaskTypeIds","createStaticFilters","fetchRegions","fetchTaskTypes","end"]}