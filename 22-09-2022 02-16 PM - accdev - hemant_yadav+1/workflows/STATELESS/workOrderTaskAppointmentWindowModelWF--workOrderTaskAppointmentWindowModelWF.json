{"upsertWorkOrderTaskAppointmentWindow":{"modelName":"workOrderTaskAppointmentWindow","connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"multirecord":true,"name":"upsertWorkOrderTaskAppointmentWindow","description":"upsertModel","inputVarMap":{"workOrderTaskAppointmentWindow":"data"},"outputVarMap":{"data":"workOrderTaskAppointmentWindowUpsertedData"},"nodeType":"MODEL","operation":4},"fetchExistingAppointmentWindows":{"filter":"{$workOrderTaskAppointmentWindow.workOrderTaskId} = {@workOrderTaskId}","models":["workOrderTaskAppointmentWindow"],"connectors":[{"exitPortType":"NextStep","nodeId":"checkIfDataToBeDeletedPresent"}],"columns":{"recver":"workOrderTaskAppointmentWindow.recver","id":"workOrderTaskAppointmentWindow.id"},"name":"fetchExistingAppointmentWindows","description":"fetchExistingAppointmentWindows","inputVarMap":{"workOrderTaskId":"workOrderTaskId"},"outputVarMap":{"data":"toDeleteAWData"},"nodeType":"QUERY"},"addWorkOrderTaskIdInAWData":{"connectors":[{"exitPortType":"NextStep","nodeId":"upsertWorkOrderTaskAppointmentWindow"}],"contextChangePermitted":true,"name":"addWorkOrderTaskIdInAWData","description":"addWorkOrderTaskIdInAWData","processRule":"contextVar.workOrderTaskAppointmentWindow.forEach(function(ele){ ele.workOrderTaskId=contextVar.workOrderTaskId; ele.startEndJson=[{ start:ele.startDate, end:ele.endDate }] });","nodeType":"PROCESS"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"fetchExistingAppointmentWindows"}],"name":"start","description":"Start","nodeType":"START"},"checkIfDataToBeUpsertedPresent":{"connectors":[{"exitPortType":"TrueStep","nodeId":"addWorkOrderTaskIdInAWData"},{"exitPortType":"FalseStep","nodeId":"end"}],"name":"checkIfDataToBeUpsertedPresent","description":"checkIfDataToBeUpsertedPresent","processRule":"Array.isArray(contextVar.workOrderTaskAppointmentWindow) && contextVar.workOrderTaskAppointmentWindow.length>0","nodeType":"DECISION"},"end":{"name":"End","description":"end","inputVarMap":{},"outputVarMap":{},"nodeType":"END"},"deleteWorkOrderTaskAppointmentWindow":{"modelName":"workOrderTaskAppointmentWindow","connectors":[{"exitPortType":"NextStep","nodeId":"checkIfDataToBeUpsertedPresent"}],"multirecord":true,"name":"deleteWorkOrderTaskAppointmentWindow","description":"upsertModel","inputVarMap":{"toDeleteAWData":"data"},"outputVarMap":{"data":"workOrderTaskAppointmentWindowDeletedData"},"nodeType":"MODEL","operation":3},"workflowNodes":["start","fetchExistingAppointmentWindows","checkIfDataToBeDeletedPresent","deleteWorkOrderTaskAppointmentWindow","checkIfDataToBeUpsertedPresent","addWorkOrderTaskIdInAWData","upsertWorkOrderTaskAppointmentWindow","end"],"checkIfDataToBeDeletedPresent":{"connectors":[{"exitPortType":"TrueStep","nodeId":"deleteWorkOrderTaskAppointmentWindow"},{"exitPortType":"FalseStep","nodeId":"checkIfDataToBeUpsertedPresent"}],"name":"checkIfDataToBeDeletedPresent","description":"checkIfDataToBeDeletedPresent","processRule":"Array.isArray(contextVar.toDeleteAWData) && contextVar.toDeleteAWData.length>0","nodeType":"DECISION"}}