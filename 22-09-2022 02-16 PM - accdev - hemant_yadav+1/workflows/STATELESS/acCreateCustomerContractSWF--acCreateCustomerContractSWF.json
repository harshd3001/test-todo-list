{"processxYhSB":{"connectors":[{"exitPortType":"NextStep","nodeId":"querycabn6"}],"contextChangePermitted":true,"nodeSource":"./static/media/process.34180d69.svg","name":"processxYhSB","description":"Use this for processing data in workflow","processRule":"{contextVar.serviceWindowFilter=\"{$calendarType}='serviceWindow' AND {$defaultCalendar} = true\";}","id":"processxYhSB","position":{"x":-19.829765961995186,"y":-127.94610478028494},"nodeType":"PROCESS"},"process4oNry":{"connectors":[{"exitPortType":"NextStep","nodeId":"querycabn6"}],"contextChangePermitted":true,"nodeSource":"./static/media/process.34180d69.svg","name":"process4oNry","description":"Use this for processing data in workflow","processRule":"{ calendars = { 'Central Standard Time': 'Default CT Service Window', 'Eastern Standard Time': 'Default ET Service Window', 'Pacific Standard Time': 'Default PT Service Window', 'Mountain Standard Time': 'Default MT Service Window', 'Central Daylight Time': 'Default CT Service Window', 'Eastern Daylight Time': 'Default ET Service Window', 'Pacific Daylight Time': 'Default PT Service Window', 'Mountain Daylight Time': 'Default MT Service Window' }; if (calendars[contextVar.acTimeZoneName] != '' && typeof calendars[contextVar.acTimeZoneName] != 'undefined') { contextVar.serviceWindowFilter = \"{$calendarType}='serviceWindow' AND {$calendarName} ='\"+calendars[contextVar.acTimeZoneName]+\"'\"; } else { contextVar.serviceWindowFilter=\"{$calendarType}='serviceWindow' AND {$defaultCalendar} = true\"; } }","id":"process4oNry","position":{"x":-21.197159850059393,"y":-40.9222528670576},"nodeType":"PROCESS"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"decisionJO3e6"}],"nodeSource":"./static/media/start.018acd1a.svg","name":"start","description":"Start","id":"start","position":{"x":-357,"y":-95},"nodeType":"START"},"process8TpIx":{"connectors":[{"exitPortType":"NextStep","nodeId":"querynWsWq"}],"contextChangePermitted":true,"nodeSource":"./static/media/process.34180d69.svg","name":"process8TpIx","description":"Use this for processing data in workflow","processRule":"{if(contextVar.serviceWindowData.length>0){contextVar.serviceWindowCalendarId=contextVar.serviceWindowData[0].calendarId;}else{contextVar.serviceWindowCalendarId='';};contextVar.contractNumber=contextVar.recData.orderedByName+' '+contextVar.acTimeZoneName+' Contract';}","id":"process8TpIx","position":{"x":406.3664458286168,"y":-103.37491076816343},"nodeType":"PROCESS"},"workflowNodes":["start","end","decisionJO3e6","process4oNry","processxYhSB","process8TpIx","workflowf6fYk","querycabn6","decision3zJ6Y","querynWsWq","processebr1x","processHTYzn"],"decisionJO3e6":{"connectors":[{"exitPortType":"TrueStep","nodeId":"process4oNry"},{"exitPortType":"FalseStep","nodeId":"processxYhSB"}],"nodeSource":"./static/media/decision.0cfa23eb.svg","name":"decisionJO3e6","description":"Use this for decision in workflow","processRule":"(contextVar.acTimeZoneName!='')","id":"decisionJO3e6","position":{"x":-247.23959350585938,"y":-76.0998306274414},"nodeType":"DECISION"},"querycabn6":{"models":["calendar"],"connectors":[{"exitPortType":"NextStep","nodeId":"process8TpIx"}],"havingClause":"","columns":{"calendarName":"calendar.name","calendarType":"calendar.calendarType","calendarId":"calendar.id","defaultCalendar":"calendar.defaultCalendar"},"nodeSource":"./static/media/query.862fc679.svg","description":"Provide some description for your query","outerJoinOnModel":"","orderBy":"","distinct":false,"inputVarMap":{"serviceWindowFilter":"filter"},"groupBy":"","nodeType":"QUERY","name":"querycabn6","links":{},"id":"querycabn6","outputVarMap":{"data":"serviceWindowData"},"subFilters":[],"selectColumns":[],"position":{"x":192.16523622586814,"y":-98.98550722388525}},"processHTYzn":{"contextChangePermitted":true,"connectors":[{"exitPortType":"NextStep","nodeId":"workflowf6fYk"}],"name":"processHTYzn","description":"Use this for processing data in workflow","processRule":"{contextVar.contractSubAction = 'upsertContract';contextVar.customerContract=[];var contract={ 'calendarId': contextVar.serviceWindowCalendarId, 'statusTargetModel': 'contract', 'statusId': 'contractActive', 'customerId': contextVar.customerId, 'contractNumber': contextVar.recData.orderedByName+' '+contextVar.acTimeZoneName+' Contract', 'description': contextVar.recData.orderedByName+' '+contextVar.acTimeZoneName+' Contract'};contextVar.customerContract.push(contract);}","id":"processHTYzn","position":{"x":793.8426493085195,"y":18.766282313424746},"nodeType":"PROCESS"},"processebr1x":{"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"contextChangePermitted":true,"nodeSource":"./static/media/process.34180d69.svg","name":"processebr1x","description":"Use this for processing data in workflow","processRule":"{contextVar.contractId=contextVar.contractNumberData[0].id}","id":"processebr1x","position":{"x":1046.192457979977,"y":-166.9085090841769},"nodeType":"PROCESS"},"decision3zJ6Y":{"connectors":[{"exitPortType":"TrueStep","nodeId":"processebr1x"},{"exitPortType":"FalseStep","nodeId":"processHTYzn"}],"name":"decision3zJ6Y","description":"Use this for decision in workflow","processRule":"(contextVar.contractNumberData.length>0)","id":"decision3zJ6Y","position":{"x":836.5448190251077,"y":-103.65081856083452},"nodeType":"DECISION"},"end":{"nodeSource":"./static/media/end.5c5273bd.svg","name":"end","description":"End","inputVarMap":{"contractId":"contractId"},"outputVarMap":{"contractId":"contractId"},"id":"end","position":{"x":1270,"y":-131},"nodeType":"END"},"querynWsWq":{"models":["contract"],"connectors":[{"exitPortType":"NextStep","nodeId":"decision3zJ6Y"}],"havingClause":"","columns":{"contractNumber":"contract.contractNumber","id":"contract.id"},"nodeSource":"./static/media/query.862fc679.svg","description":"Provide some description for your query","outerJoinOnModel":"","orderBy":"","distinct":false,"inputVarMap":{"contractNumber":"contractNumber"},"groupBy":"","nodeType":"QUERY","filter":"{$contractNumber}={@contractNumber}","name":"querynWsWq","links":{},"id":"querynWsWq","outputVarMap":{"data":"contractNumberData"},"subFilters":[],"selectColumns":[],"position":{"x":617.9600399277203,"y":-106.9800157104782}},"workflowf6fYk":{"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"processId":"customerContractWF","name":"workflowf6fYk","description":"Provide some description for your workflow node","inputVarMap":{"customerContract":"contract","contractSubAction":"subAction"},"id":"workflowf6fYk","outputVarMap":{"contractId":"contractId"},"position":{"x":1026.9292328436604,"y":-12.472614647815078},"nodeType":"WORKFLOW"}}