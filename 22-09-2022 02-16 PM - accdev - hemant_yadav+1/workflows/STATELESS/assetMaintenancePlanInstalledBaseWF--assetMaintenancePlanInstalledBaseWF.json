{"processDataForDelete":{"connectors":[{"exitPortType":"NextStep","nodeId":"areAssetsToBeDeleted"}],"contextChangePermitted":true,"name":"processDataForDelete","description":"processDataForDelete","processRule":"{if(typeof contextVar.assetMaintenancePlanInstalledBase !== 'undefined' && Array.isArray(contextVar.assetMaintenancePlanInstalledBase) && contextVar.assetMaintenancePlanInstalledBase.length > 0) { contextVar.assetsToDelete = [ ...contextVar.assetMaintenancePlanInstalledBase ];}}","id":"processDataForDelete","nodeType":"PROCESS","jsEngine":"es6"},"upsertAssetMaintenancePlanInstalledBase":{"modelName":"assetMaintenancePlanInstalledBase","connectors":[{"exitPortType":"NextStep","nodeId":"areAssetsToBeDeleted"}],"multirecord":true,"name":"upsertAssetMaintenancePlanInstalledBase","description":"upsert assetMaintenancePlanInstalledBase","inputVarMap":{"assetsToInsert":"data"},"outputVarMap":{"data":"assetMaintenancePlanInstalledBaseData"},"nodeType":"MODEL","operation":4},"areAssetsToBeDeleted":{"connectors":[{"exitPortType":"TrueStep","nodeId":"deleteAssetMaintenancePlanInstalledBase"},{"exitPortType":"FalseStep","nodeId":"end"}],"name":"areAssetsToBeDeleted","description":"areAssetsToBeDeleted","processRule":"(contextVar.assetsToDelete.length > 0)","nodeType":"DECISION"},"fetchInputData":{"connectors":[{"exitPortType":"NextStep","nodeId":"multiDecisionNodeforAction"}],"contextChangePermitted":true,"name":"fetchInputData","description":"fetchInputData","processRule":"{if(typeof contextVar.assetMaintenancePlanInstalledBase !== 'undefined' && contextVar.assetMaintenancePlanInstalledBase !== ''){contextVar.assetMaintenancePlanId = contextVar.assetMaintenancePlanInstalledBase.assetMaintenancePlanId;contextVar.selectedAssets = contextVar.assetMaintenancePlanInstalledBase.selectedAssets;}}","nodeType":"PROCESS"},"deleteAssetMaintenancePlanInstalledBase":{"modelName":"assetMaintenancePlanInstalledBase","connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"multirecord":true,"name":"deleteAssetMaintenancePlanInstalledBase","description":"delete assetMaintenancePlanInstalledBase","inputVarMap":{"assetsToDelete":"data"},"outputVarMap":{},"nodeType":"MODEL","operation":3},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"fetchInputData"}],"name":"start","description":"Start","nodeType":"START"},"multiDecisionNodeforAction":{"connectors":[{"condition":"contextVar.subAction==='upsertAssetMaintenancePlanInstalledBase'","exitPortType":"NextStep","nodeId":"getMaintenancePlanAssets"},{"condition":"contextVar.subAction==='deleteAssetMaintenancePlanInstalledBase'","exitPortType":"NextStep","nodeId":"processDataForDelete"},{"DefaultStep":true,"condition":"contextVar.subAction===''","exitPortType":"NextStep","nodeId":"end"}],"name":"multiDecisionNodeforAction","description":"multiDecisionNodeforAction","nodeType":"MULTIDECISION"},"end":{"name":"end","description":"end","inputVarMap":{"assetMaintenancePlanInstalledBaseData":"assetMaintenancePlanInstalledBaseData"},"outputVarMap":{"assetMaintenancePlanInstalledBaseData":"assetMaintenancePlanInstalledBaseData"},"nodeType":"END"},"processZRule":{"connectors":[{"exitPortType":"NextStep","nodeId":"areAssetsToBeInserted"}],"contextChangePermitted":true,"name":"processZRule ","description":"processZRule","processRule":"@1OPVJWPU7D","nodeType":"PROCESS","jsEngine":"es6"},"workflowNodes":["start","fetchInputData","multiDecisionNodeforAction","getMaintenancePlanAssets","processZRule","areAssetsToBeInserted","upsertAssetMaintenancePlanInstalledBase","processDataForDelete","areAssetsToBeDeleted","deleteAssetMaintenancePlanInstalledBase","end"],"getMaintenancePlanAssets":{"filter":"{$assetMaintenancePlanId}={@assetMaintenancePlanId}","models":["assetMaintenancePlanInstalledBase"],"connectors":[{"exitPortType":"NextStep","nodeId":"processZRule"}],"columns":{"assetMaintenancePlanId":"assetMaintenancePlanInstalledBase.assetMaintenancePlanId","installedBaseId":"assetMaintenancePlanInstalledBase.installedBaseId"},"name":"getMaintenancePlanAssets","description":"getMaintenancePlanAssets","inputVarMap":{"assetMaintenancePlanId":"assetMaintenancePlanId"},"outputVarMap":{"data":"assetMaintenancePlanInstalledBaseData"},"nodeType":"QUERY"},"areAssetsToBeInserted":{"connectors":[{"exitPortType":"TrueStep","nodeId":"upsertAssetMaintenancePlanInstalledBase"},{"exitPortType":"FalseStep","nodeId":"areAssetsToBeDeleted"}],"name":"areAssetsToBeInserted","description":"areAssetsToBeInserted","processRule":"(contextVar.assetsToInsert.length > 0)","nodeType":"DECISION"}}