{"processNames":{"connectors":[{"exitPortType":"NextStep","nodeId":"getAppraiserName"}],"contextChangePermitted":true,"name":"processNames","description":"processNames","processRule":"{ contextVar.analystId = contextVar.forEachMeasurementRecord_currentElement.analystId; contextVar.appraiserId = contextVar.forEachMeasurementRecord_currentElement.appraiserId; contextVar.acClientApprovedWorkforceId = contextVar.forEachMeasurementRecord_currentElement.id; contextVar.recver = contextVar.forEachMeasurementRecord_currentElement.recver; contextVar.statusFilter = '{$analystId}={@analystId}'; if(contextVar.filter !== '' && typeof contextVar.filter !== 'undefined'){ contextVar.filter = contextVar.statusFilter + 'AND ' + contextVar.filter; } else{ contextVar.filter = contextVar.statusFilter; } }","nodeType":"PROCESS"},"processEmpty":{"connectors":[{"exitPortType":"NextStep","nodeId":"getApprovedWorkforceIds"}],"contextChangePermitted":true,"name":"processEmpty","description":"processEmpty","processRule":"{contextVar.statusFilter = '{$analystId}={@analystId}';contextVar.FinalApprovedList=[];}","nodeType":"PROCESS"},"forEachMeasurementRecord":{"connectors":[{"exitPortType":"TrueStep","nodeId":"processNames"},{"exitPortType":"FalseStep","nodeId":"end"}],"data":"approvedAnalysts","name":"forEachMeasurementRecord","description":"Provide some description for your for each node","inputVarMap":{"approvedAnalysts":"approvedAnalysts"},"id":"forEachMeasurementRecord","outputVarMap":{},"nodeType":"FOREACHLOOP"},"getApprovedWorkforceIds":{"filter":"{$clientId}={@customerId}","models":["acClientApprovedWorkforce"],"connectors":[{"exitPortType":"NextStep","nodeId":"forEachMeasurementRecord"}],"columns":{"clientId":"acClientApprovedWorkforce.clientId","recver":"acClientApprovedWorkforce.recver","analystId":"acClientApprovedWorkforce.analystId","id":"acClientApprovedWorkforce.id","appraiserId":"acClientApprovedWorkforce.appraiserId"},"name":"getApprovedWorkforceIds","description":"To get the approvedAnalysts","distinct":true,"inputVarMap":{"customerId":"customerId"},"id":"getApprovedWorkforceIds","outputVarMap":{"data":"approvedAnalysts"},"nodeType":"QUERY"},"processApprovedArray":{"connectors":[{"exitPortType":"NextStep","nodeId":"forEachMeasurementRecord"}],"contextChangePermitted":true,"name":"processApprovedArray","description":"processApprovedArray","processRule":"{ if (Array.isArray(contextVar.analystName) && Array.isArray(contextVar.appraiserName)) { contextVar.Obj = { analystName: contextVar.analystName[0].analystName, appraiser: contextVar.appraiserName[0].Appraiser, id: contextVar.approvedAnalysts[contextVar.forEachMeasurementRecord_index].id, recver: contextVar.approvedAnalysts[contextVar.forEachMeasurementRecord_index].recver, }; contextVar.FinalApprovedList.push(contextVar.Obj); } contextVar.count = contextVar.FinalApprovedList.length; }","nodeType":"PROCESS"},"getAppraiserName":{"filter":"{$appraiserId}={@appraiserId}","models":["workforce","User"],"connectors":[{"exitPortType":"NextStep","nodeId":"getAnalystName"}],"columns":{"Appraiser":"User.name","appraiserId":"workforce.userId"},"name":"getAppraiserName","description":"Provide some description for your query","links":{"User":"workforce"},"inputVarMap":{"appraiserId":"appraiserId"},"id":"getAppraiserName","outputVarMap":{"data":"appraiserName"},"position":{"x":279.516448,"y":-326.1906239999999},"nodeType":"QUERY"},"getAnalystName":{"filter":"filter","models":["workforce","User"],"connectors":[{"exitPortType":"NextStep","nodeId":"processApprovedArray"}],"columns":{"analystName":"User.name","analystId":"workforce.userId"},"name":"getAnalystName","description":"Provide some description for your query","links":{"User":"workforce"},"inputVarMap":{"filter":"filter","analystId":"analystId"},"id":"getAnalystName","outputVarMap":{"data":"analystName"},"position":{"x":493.75958399999996,"y":-253.4989759999999},"nodeType":"QUERY"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"processEmpty"}],"name":"start","description":"Start","id":"start","position":{"x":-539,"y":5},"nodeType":"START"},"end":{"name":"end","description":"End","inputVarMap":{"count":"count","FinalApprovedList":"approvedAnalysts"},"outputVarMap":{"count":"count","approvedAnalysts":"approvedAnalysts"},"id":"end","position":{"x":692,"y":5},"nodeType":"END"},"workflowNodes":["start","end","getApprovedWorkforceIds","forEachMeasurementRecord","getAppraiserName","getAnalystName","processNames","processApprovedArray","processEmpty"]}