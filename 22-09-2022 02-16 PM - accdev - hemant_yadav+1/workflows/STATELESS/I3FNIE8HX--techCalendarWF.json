{"deleteTechCalendarDecision":{"connectors":[{"exitPortType":"TrueStep","nodeId":"fetchTechCalendar"},{"exitPortType":"FalseStep","nodeId":"createTechCalendarDecision"}],"name":"deleteTechCalendarDecision","description":"deleteTechCalendarDecision","processRule":"(contextVar.deleteTechCalendarReqd === true)","nodeType":"DECISION"},"deleteTechCalendar":{"modelName":"techCalendarV2","connectors":[{"exitPortType":"NextStep","nodeId":"createTechCalendarDecision"}],"multirecord":true,"name":"deleteTechCalendar","description":"delete tech calendar","inputVarMap":{"techCalendarData":"data"},"outputVarMap":{},"nodeType":"MODEL","operation":3},"crewTaskDecision":{"connectors":[{"exitPortType":"TrueStep","nodeId":"fetchCrewMembers"},{"exitPortType":"FalseStep","nodeId":"techCalendarZRule"}],"name":"crewTaskDecision","description":"crewTaskDecision","processRule":"(contextVar.crewTask === true)","nodeType":"DECISION"},"fetchTaskScheduleBreakdown":{"filter":"{$workOrderTaskId}={@workOrderTaskId}","models":["taskScheduleBreakdown"],"connectors":[{"exitPortType":"NextStep","nodeId":"crewTaskDecision"}],"columns":{"endDate":"taskScheduleBreakdown.endDate","workOrderTaskId":"taskScheduleBreakdown.workOrderTaskId","startDate":"taskScheduleBreakdown.startDate"},"name":"fetchTaskScheduleBreakdown","description":"fetchTaskScheduleBreakdown","inputVarMap":{"workOrderTaskId":"workOrderTaskId"},"outputVarMap":{"data":"taskScheduleBreakdownData"},"nodeType":"QUERY"},"techCalendarZRule":{"connectors":[{"exitPortType":"NextStep","nodeId":"insertTechCalendar"}],"contextChangePermitted":true,"name":"techCalendarZRule","description":"techCalendarZRule","processRule":"@MJDNIE8375","nodeType":"PROCESS","jsEngine":"es6"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"deleteTechCalendarDecision"}],"name":"start","description":"Start","nodeType":"START"},"isTechCalendarPresent":{"connectors":[{"exitPortType":"TrueStep","nodeId":"deleteTechCalendar"},{"exitPortType":"FalseStep","nodeId":"createTechCalendarDecision"}],"name":"isTechCalendarPresent","description":"isTechCalendarPresent","processRule":"(typeof contextVar.techCalendarData != 'undefined' && contextVar.techCalendarData.length > 0)","nodeType":"DECISION"},"createTechCalendarDecision":{"connectors":[{"exitPortType":"TrueStep","nodeId":"fetchTaskScheduleBreakdown"},{"exitPortType":"FalseStep","nodeId":"end"}],"name":"createTechCalendarDecision","description":"createTechCalendarDecision","processRule":"(contextVar.createTechCalendarReqd === true)","nodeType":"DECISION"},"workflowNodes":["start","deleteTechCalendarDecision","fetchTechCalendar","isTechCalendarPresent","deleteTechCalendar","createTechCalendarDecision","fetchTaskScheduleBreakdown","crewTaskDecision","fetchCrewMembers","techCalendarZRule","insertTechCalendar","end"],"insertTechCalendar":{"modelName":"techCalendarV2","connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"multirecord":true,"name":"insertTechCalendar","description":"insertTechCalendar","inputVarMap":{"techCalendar":"data"},"outputVarMap":{},"nodeType":"MODEL","operation":1},"workflowContext":{},"fetchTechCalendar":{"filter":"{$techCalendarV2.workOrderTaskId}={@workOrderTaskId}","models":["techCalendarV2"],"connectors":[{"exitPortType":"NextStep","nodeId":"isTechCalendarPresent"}],"columns":{"recver":"techCalendarV2.recver","id":"techCalendarV2.id"},"name":"fetchTechCalendar","description":"fetchTechCalendar","inputVarMap":{"workOrderTaskId":"workOrderTaskId"},"outputVarMap":{"data":"techCalendarData"},"nodeType":"QUERY"},"fetchCrewMembers":{"filter":"{$workforceCrew.crewId} = {@crewId} AND {$workforceCrew.statusId} = 'workforceCrewOnCrew'","models":["workforceCrew"],"connectors":[{"exitPortType":"NextStep","nodeId":"techCalendarZRule"}],"columns":{"userId":"workforceCrew.workforceUserId"},"name":"fetchCrewMembers","description":"fetchCrewMembers","inputVarMap":{"workOrderTaskAssignedToCrewId":"crewId"},"outputVarMap":{"data":"workforceCrewData"},"nodeType":"QUERY"},"end":{"name":"End","description":"end","nodeType":"END"}}