{"pageContext":{},"actionOnLoad":["@actions.fetchFilteredTechncians","@actions.processTechnicianData"],"localPageContext":true,"jslib":{"isclearFilterDisabled":"function (pageContext){ if( pageContext.selectedRowIds.length == 0){return true;}}","isSaveDisabled":"function (pageContext) { if (typeof pageContext.selectedTechniciansList !== 'undefined' && pageContext.selectedTechniciansList !== '' &&  typeof pageContext.selectedRowIds !== 'undefined' && pageContext.selectedRowIds.length > 0 && pageContext.selectedRowIds.length != pageContext.selectedTechniciansList.length) { return false; } if (typeof pageContext.selectedRowIds!=='undefined' &&pageContext.selectedRowIds.length > 0 && typeof pageContext.selectedTechniciansList !== 'undefined') { for (var i in pageContext.selectedRowIds) { if (pageContext.selectedTechniciansList.indexOf(pageContext.selectedRowIds[i].userId) == -1) { return false } }; return true; } if(typeof pageContext.selectedTechniciansList==='undefined' && pageContext.selectedRowIds.length >0) { return false; } return true; }"},"header":{"children":[{"buttonType":"secondary","actionOnClick":["@actions.setSubActionDeleteDispatcherTech","@actions.fireProcessEvent","@actions.refreshDataGrid"],"disabled":"@jslib.isclearFilterDisabled","id":"clearFilter","type":"button","title":"@lang.['cf','Clear Filter']"},{"buttonType":"primary","actionOnClick":["@actions.setSubActionUpsertDispatcherTech","@actions.fireProcessEvent","@actions.closePanel","@actions.clearPageContext","@actions.refreshScheduler"],"disabled":"@jslib.isSaveDisabled","id":"submit","type":"button","title":"@lang.['s12','Save']"},{"icon":"@iconlib.NavigationCloseGrey","actionOnClick":["@actions.closePanel","@actions.clearPageContext","@actions.refreshScheduler"],"id":"close","type":"buttonIcon"}],"title":"@lang.['f','Filter']"},"body":{"children":[{"children":[{"id":"technicianList","type":"datagrid","jsonDef":{"pageContextConfig":{"infiniteScroll":false,"enable":true},"searchAllowed":true,"searchEmptyScreen":{"image":"@iconlib.ActionsSearchError","contentValue":"@lang.['sysrcue','SORRY! YOUR SEARCH RESULTS CAME UP EMPTY']","type":"noData"},"rowActions":{},"emptyScreen":{"image":"@iconlib.ActionsSearchEmpty","contentValue":"@lang.['ylieatm','YOUR LIST IS EMPTY AT THE MOMENT']","type":"noData"},"tableHeader":[{"name":"@lang.['ui','User ID']","options":{"hidden":true,"sortable":true,"showLabel":false},"key":"userId","primaryKey":true},{"name":"@lang.['n','Name']","options":{"flex":1,"sortOrder":"ASC","sortable":true,"showLabel":true},"key":"userName"},{"name":"@lang.['s4','Shift']","options":{"flex":0.8,"sortOrder":"ASC","sortable":true,"showLabel":true},"key":"calendarName"},{"name":"@lang.['e4','Email']","options":{"flex":1.2,"sortOrder":"ASC","sortable":true,"showLabel":true},"key":"userEmail"}],"dataToBeSent":{"apiResponseParams":["count"],"processId":"taskSchedulingCalendarFetchFilteredTechDataWF","apiResponseFormat":true,"contextVar":{},"apiResponseObject":"technicianQueryList"},"rowsToSelect":{"filter":"{$userId} in {@selectedTechncicians}","models":["User"],"inputs":{"selectedTechncicians":"@pageContext.technicianData[0].data[0].selectedTechniciansList"},"columns":{"userName":"User.name","userId":"User.id"}},"dataSourceId":"process/start","isMultiSelect":true,"sourceType":"api","header":{"subHeaderText":"@lang.['r','Records']","headerText":"@lang.['appraiserAnalyst','Appraiser/Analyst']","children":[]},"searchKeys":["userName","calendarName","userEmail"]}}],"label":"@lang.['s16','Search']","id":"datagridSkills","type":"section","transparent":true}]},"actions":[{"endPoint":"event/start","name":"fetchFilteredTechncians","outputVarMap":{"data":"@pageContext.technicianData"},"type":"api","actionDef":{"data":[{"eventId":"taskSchedulingFetchDispatcherTechDataProcessEvent","contextVar":{"filter":"898hui"}}]}},{"name":"clearPageContext","type":"clearPageContext"},{"name":"closePanel","type":"closePanel"},{"endPoint":"event/start","name":"fireProcessEvent","outputVarMap":{"data":"@pageContext.data"},"type":"api","actionDef":{"data":[{"eventId":"CQPQDS8FY","contextVar":{"subAction":"@pageContext.subAction","dispatcherTech":{"recver":"@pageContext.dispatcherTechRecver","techs":"@pageContext.selectedRowIds"}}}]}},{"name":"setSubActionUpsertDispatcherTech","type":"script","actionDef":"function(pageContext){pageContext.subAction='upsertDispatcherTech';}"},{"name":"setSubActionDeleteDispatcherTech","type":"script","actionDef":"function(pageContext){if(typeof pageContext.selectedTechniciansList !== 'undefined' && pageContext.selectedTechniciansList !== '' && pageContext.selectedTechniciansList.length > 0){pageContext.subAction='deleteDispatcherTech';}}"},{"name":"processTechnicianData","type":"script","actionDef":"function(pageContext) {if(typeof pageContext.technicianData !== 'undefined' && pageContext.technicianData !== '' && pageContext.technicianData.length > 0){pageContext.selectedTechniciansList=pageContext.technicianData[0].data[0].selectedTechniciansList;pageContext.dispatcherTechRecver=pageContext.technicianData[0].data[0].dispatcherTechRecver ; }}"},{"name":"refreshScheduler","type":"refreshScheduler"},{"name":"refreshDataGrid","type":"refreshDataGrid"}]}