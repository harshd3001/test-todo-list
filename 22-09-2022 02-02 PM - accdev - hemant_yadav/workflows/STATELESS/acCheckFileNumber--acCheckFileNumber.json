{"decisionCheck":{"connectors":[{"exitPortType":"TrueStep","nodeId":"modelikPRC"},{"exitPortType":"FalseStep","nodeId":"end"}],"name":"decisionI2vJ2","description":"Use this for decision in workflow","processRule":"(contextVar.completeWorkOrderStatus !=='')","id":"decisionI2vJ2","nodeType":"DECISION"},"process6A9Oc":{"contextChangePermitted":true,"connectors":[{"exitPortType":"NextStep","nodeId":"queryNtXKe"}],"name":"process6A9Oc","description":"Use this for processing data in workflow","processRule":"{contextVar.fileNumber = contextVar.data.fileNumber;}","id":"process6A9Oc","position":{"x":-113.23959350585938,"y":-31.099830627441406},"nodeType":"PROCESS"},"modelikPRC":{"modelName":"workOrder","connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"multirecord":false,"name":"modelikPRC","description":"Provide some description for your model node","inputVarMap":{"completeWorkOrderStatus":"statusId","existingWorkOrderId":"id"},"id":"modelikPRC","outputVarMap":{"data":"existingCompleteData"},"nodeType":"MODEL","operation":2},"query99MiD":{"models":["workOrderTask","workOrder","site"],"connectors":[{"exitPortType":"NextStep","nodeId":"processei2ek"}],"havingClause":"","inputs":{"id":""},"columns":{"fileNumber":"site.acFileNumber","workorderId":"workOrderTask.workOrderId","workOrderStatusId":"workOrder.statusId"},"description":"Provide some description for your query","outerJoinOnModel":"","orderBy":"","distinct":false,"inputVarMap":{"fileNumber":"fileNumber"},"groupBy":"","nodeType":"QUERY","filter":"{$fileNumber}={@fileNumber}","name":"query99MiD","links":{"workOrder":"workOrderTask","workOrderTask":"site"},"id":"query99MiD","outputVarMap":{"data":"existingWOData"},"subFilters":[],"selectColumns":[]},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"process6A9Oc"}],"name":"start","description":"Start","id":"start","position":{"x":-225,"y":-17},"nodeType":"START"},"end":{"name":"end","description":"End","inputVarMap":{},"outputVarMap":{},"id":"end","position":{"x":572,"y":-52},"nodeType":"END"},"processDL0df":{"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"contextChangePermitted":true,"name":"processDL0df","description":"Use this for processing data in workflow","processRule":"{contextVar.logLevel = '1';contextVar.startlog = true;contextVar.message = JSON.stringify(contextVar);}","id":"processDL0df","nodeType":"PROCESS"},"processei2ek":{"connectors":[{"exitPortType":"NextStep","nodeId":"decisionCheck"}],"contextChangePermitted":true,"name":"processei2ek","description":"Use this for processing data in workflow","processRule":"{ contextVar.existingWorkOrderId = contextVar.existingWOData[0].workorderId; var currentStatusInZinier = contextVar.existingWOData[0].workOrderStatusId; if (currentStatusInZinier == 'workOrderCompleted' ) { contextVar.completeWorkOrderStatus = 'completedInANow'; } else { contextVar.completeWorkOrderStatus = '' } }","id":"processei2ek","nodeType":"PROCESS"},"workflowNodes":["start","end","process6A9Oc","queryNtXKe","processDmToa","decisionI2vJ2","query99MiD","processei2ek","modelikPRC","processDL0df","decisionCheck"],"decisionI2vJ2":{"connectors":[{"exitPortType":"TrueStep","nodeId":"query99MiD"},{"exitPortType":"FalseStep","nodeId":"end"}],"name":"decisionI2vJ2","description":"Use this for decision in workflow","processRule":"(contextVar.data.error==' File exists')","id":"decisionI2vJ2","nodeType":"DECISION"},"queryNtXKe":{"models":["site"],"connectors":[{"exitPortType":"NextStep","nodeId":"processDmToa"}],"havingClause":"","columns":{"fileNumber":"site.acFileNumber","id":"site.id"},"description":"Provide some description for your query","outerJoinOnModel":"","orderBy":"","inputVarMap":{"fileNumber":"fileNumber"},"groupBy":"","nodeType":"QUERY","filter":"upper({$fileNumber}) = upper({@fileNumber})","name":"queryNtXKe","id":"queryNtXKe","outputVarMap":{"data":"fileDetails"},"subFilters":[],"selectColumns":[],"position":{"x":116.26040649414062,"y":-45.099830627441406},"distinctFilter":false},"processDmToa":{"connectors":[{"exitPortType":"NextStep","nodeId":"decisionI2vJ2"}],"contextChangePermitted":true,"name":"processDmToa","description":"Use this for processing data in workflow","processRule":"{if(contextVar.fileDetails.length>0){if (contextVar.data.error!='') { contextVar.data.error += '|'; }; contextVar.data.error += ' File exists';}else{contextVar.data.error += '';}}","id":"processDmToa","position":{"x":334.325982421875,"y":-42.34850732421871},"nodeType":"PROCESS"}}