{"workflowContext":{"googleDistanceData":{"destination_addresses":[],"rows":[],"origin_addresses":[]},"counter":50},"networkWorkflow":{"connectors":[{"exitPortType":"NextStep","nodeId":"processNetworkData"}],"processId":"loopNetworkNodeForDistance","name":"networkWorkflow","description":"Provide some description for your network node","inputVarMap":{"localize":"localize","destinations":"destinations","originString":"origins","travelMode":"travelMode"},"id":"networkWorkflow","nodeType":"WORKFLOW"},"initializeData1":{"connectors":[{"exitPortType":"NextStep","nodeId":"loopThroughGoogleDistanceAPI"}],"contextChangePermitted":true,"name":"initializeData1","description":"Use this for processing data in workflow","processRule":"{ contextVar.destinations = contextVar.destinations.slice(0, -1); contextVar.destinations = contextVar.destinations + '|'; var splitOrigin = contextVar.origins.split('|'); if (splitOrigin[splitOrigin.length - 1] == '') { splitOrigin.pop(); } contextVar.originJsonArray = []; for (var i = 0; i < splitOrigin.length; i + contextVar.counter) { contextVar.originJsonArray.push(splitOrigin.splice(i, i + contextVar.counter)); } }","id":"initializeData1","nodeType":"PROCESS"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"initializeData1"}],"name":"start","description":"Start","id":"start","nodeType":"START"},"loopThroughGoogleDistanceAPI":{"connectors":[{"exitPortType":"TrueStep","nodeId":"parseOrigins"},{"exitPortType":"FalseStep","nodeId":"end"}],"data":"originJsonArray","name":"loopThroughGoogleDistanceAPI","description":"Provide some description for your for each node","inputVarMap":{},"id":"loopThroughGoogleDistanceAPI","outputVarMap":{},"nodeType":"FOREACHLOOP"},"processNetworkData":{"connectors":[{"exitPortType":"NextStep","nodeId":"loopThroughGoogleDistanceAPI"}],"contextChangePermitted":true,"name":"processNetworkData","description":"Use this for processing data in workflow","processRule":"{ var outputData = contextVar.outputFromNetwork[0]; if (outputData != '' && typeof outputData.rows !== 'undefined' && outputData.rows.length > 0 && typeof outputData.origin_addresses !== 'undefined' && outputData.origin_addresses.length > 0) { outputData.origin_addresses.forEach(function(obj){contextVar.googleDistanceData.origin_addresses.push(obj);}); outputData.rows.forEach(function(obj){contextVar.googleDistanceData.rows.push(obj);}); } contextVar.googleDistanceData.destination_addresses = outputData.destination_addresses;}","id":"processNetworkData","nodeType":"PROCESS"},"end":{"name":"end","description":"End","inputVarMap":{"googleDistanceData":"googleDistanceData"},"outputVarMap":{"googleDistanceData":"googleDistanceData"},"id":"end","nodeType":"END"},"workflowNodes":["start","initializeData1","loopThroughGoogleDistanceAPI","networkWorkflow","processNetworkData","parseOrigins","end"],"parseOrigins":{"connectors":[{"exitPortType":"NextStep","nodeId":"networkWorkflow"}],"contextChangePermitted":true,"name":"parseOrigins","description":"Use this for processing data in workflow","processRule":"{ contextVar.originString = contextVar.loopThroughGoogleDistanceAPI_currentElement.join('|'); contextVar.originString = contextVar.originString + '|'; }","id":"parseOrigins","nodeType":"PROCESS"}}