{"processData":{"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"contextChangePermitted":true,"name":"processData","description":"processData","processRule":"contextVar.addressStatus = 'No'; contextVar.comps = []; if (contextVar.compsData.length > 0) { contextVar.compsData.forEach(function(value) { contextVar.comps.push({ 'address': value.address, 'id': value.id, 'value': contextVar.addressStatus, 'distance': value.distance, 'longitude': value.longitude, 'latitude': value.latitude }); }) }","id":"processData","nodeType":"PROCESS","jsEngine":"es6"},"processFilter":{"connectors":[{"exitPortType":"NextStep","nodeId":"fetchCompData"}],"contextChangePermitted":true,"name":"processFilter","description":"processFilter","processRule":" { contextVar.Comparable = 'Comparable'; contextVar.filter = '{$workOrderTask.id} = {@workOrderTaskId} AND {$locationType} = {@Comparable}'; if(contextVar.needFilter == 'yes'){ contextVar.filter = '{$workOrderTask.id} = {@workOrderTaskId}'; } }","id":"processFilter","nodeType":"PROCESS","jsEngine":"es6"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"processFilter"}],"name":"start","description":"Start","nodeType":"START"},"end":{"name":"end","description":"End","inputVarMap":{"comps":"comps"},"outputVarMap":{"comps":"comps"},"nodeType":"END"},"workflowNodes":["start","processFilter","fetchCompData","processData","end"],"fetchCompData":{"models":["workOrder","workOrderTask","acCompAddress"],"connectors":[{"exitPortType":"NextStep","nodeId":"processData"}],"columns":{"address":"acCompAddress.address","distance":"acCompAddress.distanceFromSite","latitude":"acCompAddress.latitude","workOrderTaskId":"workOrderTask.id","locationType":"acCompAddress.locationType","id":"acCompAddress.id","workOrderId":"acCompAddress.workOrderId","longitude":"acCompAddress.longitude"},"orderBy":"distance","description":"fetchCompData","inputVarMap":{"filter":"filter","Comparable":"Comparable","workOrderTaskId":"workOrderTaskId"},"nodeType":"QUERY","filter":"filter","name":"fetchCompData","links":{"workOrder":"workOrderTask","acCompAddress":"workOrder"},"outputVarMap":{"data":"compsData"},"batchSize":50,"getCount":true,"batchNumber":1}}