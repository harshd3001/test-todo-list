{"processData":{"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"contextChangePermitted":true,"name":"processData","description":"Process services","processRule":"contextVar.updatedSiteDetails =[]; var updatedSiteDetailsObj ={}; updatedSiteDetailsObj['updatedAddress'] = contextVar.siteDetail[0].siteChangeLogAddress; updatedSiteDetailsObj['updatedLatLong'] = contextVar.siteDetail[0].siteChangeLogLatitude +','+contextVar.siteDetail[0].siteChangeLogLongitude; updatedSiteDetailsObj['originalAddress'] = contextVar.siteDetail[0].siteChangeLogOriginalSiteDetails[0].address; updatedSiteDetailsObj['originalLatLong'] = contextVar.siteDetail[0].siteChangeLogOriginalSiteDetails[0].latitude +','+ contextVar.siteDetail[0].siteChangeLogOriginalSiteDetails[0].longitude; contextVar.updatedSiteDetails.push(updatedSiteDetailsObj);","id":"processData","nodeType":"PROCESS"},"fetchSiteDetails":{"filter":"{$siteChangeLogOriginalTaskId}={@workOrderTaskId} AND {$workOrderTaskStatusId} = 'workOrderTaskCompleted'","models":["siteChangeLog","workOrderTask"],"connectors":[{"exitPortType":"NextStep","nodeId":"isSiteDetail"}],"columns":{"siteChangeLogLatitude":"siteChangeLog.latitude","siteChangeLogId":"siteChangeLog.id","workOrderTaskStatusId":"workOrderTask.statusId","siteChangeLogAddress":"siteChangeLog.address","siteChangeLogWorkOrderTaskId":"siteChangeLog.workOrderTaskId","siteChangeLogOriginalSiteDetails":"siteChangeLog.originalSiteDetails","siteChangeLogOriginalTaskId":"siteChangeLog.originalTaskId","siteChangeLogCreatedByDate":"siteChangeLog.createdDate","siteChangeLogLongitude":"siteChangeLog.longitude"},"name":"fetchSiteDetails","description":"fetch task details","orderBy":"siteChangeLogCreatedByDate DESC","inputVarMap":{"workOrderTaskId":"workOrderTaskId"},"id":"fetchSiteDetails","outputVarMap":{"data":"siteDetail"},"nodeType":"QUERY"},"workflowContext":{},"isSiteDetail":{"connectors":[{"exitPortType":"TrueStep","nodeId":"processData"},{"exitPortType":"FalseStep","nodeId":"end"}],"name":"isSiteDetail","description":"isSiteDetail","processRule":"(typeof contextVar.siteDetail != 'undefined' && contextVar.siteDetail.length > 0)","nodeType":"DECISION"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"fetchSiteDetails"}],"name":"start","description":" Start","id":"start","nodeType":"START"},"end":{"name":"end","description":"end","inputVarMap":{"updatedSiteDetails":"updatedSiteDetails"},"outputVarMap":{"updatedSiteDetails":"updatedSiteDetails"},"id":"end","nodeType":"END"},"workflowNodes":["start","fetchSiteDetails","isSiteDetail","processData","end"]}