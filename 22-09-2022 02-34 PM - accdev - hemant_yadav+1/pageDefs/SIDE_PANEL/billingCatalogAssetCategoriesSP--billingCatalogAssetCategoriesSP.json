{"pageContext":{},"actionOnLoad":["@actions.initialData"],"jslib":{"isCategorySaveContinueDisabled":"function (pageContext) { return (typeof pageContext.assetCategoryName === 'undefined' || pageContext.assetCategoryName === ''); }","isCategorySaveDisabled":"function (pageContext) { return (pageContext.assetCategoryName === '' || (pageContext.initialAssetCategoryName === pageContext.assetCategoryName && pageContext.initialAssetCategoryDescription === pageContext.assetCategoryDescription)) }","dynamicHeaderText":"function (pageContext) { if (pageContext.assetCategoryAction === 'add') {  return '@lang.[\"anac\",\"Add New Asset Category\"]';  } else if (pageContext.assetCategoryAction === 'edit') { return '@lang.[\"eac\",\"Edit Asset Category\"]';} }","isActionEdit":"function(pageContext){return(pageContext.assetCategoryAction === 'edit')}","isActionAdd":"function(pageContext){return(pageContext.assetCategoryAction === 'add')}"},"header":{"children":[{"buttonType":"primary","hidden":"@jslib.isActionEdit","actionOnClick":["@actions.setSubAction","@actions.fireProcessEvent","@actions.changeAction","@actions.initialData","@actions.refreshDataGrid"],"disabled":"@jslib.isCategorySaveContinueDisabled","id":"assetCategorySave","type":"button","title":"@lang.['sc1','Save & Continue']"},{"buttonType":"primary","hidden":"@jslib.isActionAdd","actionOnClick":["@actions.setSubAction","@actions.fireProcessEvent","@actions.closePanel","@actions.clearPageContext","@actions.refreshDataGrid"],"disabled":"@jslib.isCategorySaveDisabled","id":"assetCategorySave","type":"button","title":"@lang.['s12','Save']"},{"icon":"@iconlib.NavigationCloseGrey","actionOnClick":["@actions.closePanel","@actions.clearPageContext"],"id":"close","type":"buttonIcon"}],"title":"@jslib.dynamicHeaderText"},"body":{"children":[{"children":[{"children":[{"children":[{"id":"assetCategoryName","label":"@lang.['n','Name']","placeholder":"@lang.['eacn','Enter asset category name']","type":"input","value":"@pageContext.assetCategoryName"},{"inputType":"text","id":"assetCategoryDescription","label":"@lang.['d29','Description (optional)']","type":"textarea","value":"@pageContext.assetCategoryDescription","placeHolder":"@lang.['ed6','Enter description (optional)']"}],"id":"assetCategoryInformation","label":"@lang.['aci','Asset Category Information']","type":"section"}],"label":"@lang.['aci','Asset Category Information']","type":"tab"},{"hidden":"@jslib.isActionAdd","children":[{"children":[{"id":"catalogItems","type":"dataGrid","jsonDef":{"isScrollAble":true,"searchAllowed":true,"tableWidth":"50rem","rowActions":{},"searchEmptyScreen":{"image":"@iconlib.ActionsSearchError","contentValue":"@lang.['sysrcue','SORRY! YOUR SEARCH RESULTS CAME UP EMPTY']","type":"noData"},"gridRefreshId":"partsAndMaterialsGrid","emptyScreen":{"image":"@iconlib.ActionsSearchEmpty","contentValue":"@lang.['ylieatm','YOUR LIST IS EMPTY AT THE MOMENT']","type":"noData"},"tableHeader":[{"name":"@lang.['m','Manufacturer']","options":{"flex":1,"sortOrder":"ASC","sortable":true,"showLabel":true},"key":"manufacturer"},{"name":"@lang.['mn','Model Name']","options":{"flex":1,"sortOrder":"ASC","sortable":true,"showLabel":true},"key":"name"},{"name":"@lang.['mn1','Model Number']","options":{"flex":1,"showLabel":true},"key":"modelNumber"}],"dataToBeSent":{"filter":"{$catalog.assetCategoryId} = {@assetCategoryId}","models":["assetCategory","catalog","manufacturer"],"columns":{"name":"catalog.name","modelNumber":"catalog.modelNumber","manufacturer":"manufacturer.name"},"inputs":{"assetCategoryId":"@pageContext.assetCategoryId"},"links":{"assetCategory":"catalog","catalog":"manufacturer"}},"dataSourceId":"query/read","jslib":{},"rowTextLength":20,"header":{"subHeaderText":"@lang.['r','Records']","headerText":"@lang.['ci1','Catalog Items']","children":[]},"isSelectable":false,"actions":[],"searchKeys":["name","manufacturer","modelNumber"]}}],"id":"catalogItems","label":"@lang.['ci1','Catalog Items']","type":"section","transparent":true}],"label":"@lang.['ci1','Catalog Items']","type":"tab"}],"id":"assetCategoryTab","type":"tab"}]},"actions":[{"name":"initialData","type":"script","actionDef":"function (pageContext) {if (pageContext.assetCategoryAction === 'add') {pageContext.assetCategoryName = ''; pageContext.assetCategoryDescription = '';} else {pageContext.initialAssetCategoryName = pageContext.assetCategoryName; pageContext.initialAssetCategoryDescription = pageContext.assetCategoryDescription;}}"},{"name":"setSubAction","type":"script","actionDef":"function(pageContext){pageContext.subAction='upsertAssetCategory';}"},{"endPoint":"process/start","name":"fireProcessEvent","outputVarMap":{"data":"@pageContext.responseData"},"type":"api","actionDef":{"data":[{"processId":"billingCatalogAssetCategoryWF","contextVar":{"assetCategory":[{"recver":"@pageContext.assetcategoryRecver","name":"@pageContext.assetCategoryName","description":"@pageContext.assetCategoryDescription","id":"@pageContext.assetCategoryId"}],"subAction":"@pageContext.subAction"}}]}},{"name":"changeAction","type":"script","actionDef":"function(pageContext) {pageContext.assetCategoryAction = 'edit'; pageContext.assetCategoryId = pageContext.responseData[0].outputVar.data[0].id; }"},{"name":"closePanel","type":"closePanel"},{"name":"clearPageContext","type":"clearPageContext"},{"name":"refreshDataGrid","type":"refreshDataGrid"}]}