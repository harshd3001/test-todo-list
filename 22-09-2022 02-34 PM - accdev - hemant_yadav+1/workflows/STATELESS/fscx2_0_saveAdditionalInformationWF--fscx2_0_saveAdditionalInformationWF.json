{"processData":{"connectors":[{"exitPortType":"NextStep","nodeId":"decisionNode"}],"contextChangePermitted":true,"name":"processData","description":"processData","processRule":"{if (Array.isArray(contextVar.entityConfigData)) { for (let value of contextVar.entityConfigData) { if (value.configKey === 'configurations') { value.configValue = JSON.parse(value.configValue); for (let key in value.configValue) { contextVar[key] = value.configValue[key]; } } } }}","nodeType":"PROCESS","jsEngine":"es6"},"workflowContext":{"configScopeArray":["customerPortal"],"featureName":"batchScheduler","extraMsg":" smsOpt: taskSchedulingBatchSchedulerBaseConstraintsWF call","operation":"upsert","customerResponseData":{"responseTitle":"FAILED","responseMessage":"FAILED","status":false}},"decisionNode":{"connectors":[{"exitPortType":"TrueStep","nodeId":"processCustomerPortalOrderDetails"},{"exitPortType":"FalseStep","nodeId":"end"}],"name":"decisionNode","description":"decisionNode","processRule":"typeof contextVar.zones !== 'undefined' && contextVar.zones !== '' && Object.keys(contextVar.zones).length !== 0","nodeType":"DECISION"},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"logContextVar"}],"name":"start","description":"start","nodeType":"START"},"logContextVar":{"connectors":[{"exitPortType":"NextStep","nodeId":"fetchEntityConfig"}],"processId":"featureLoggerWF","name":"logContextVar","description":"logContextVar","inputVarMap":{"featureName":"featureName","extraMsg":"extraMsg"},"id":"logContextVar","outputVarMap":{},"nodeType":"WORKFLOW"},"upsertCustomerPortalOrderDetailsData":{"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"processId":"fscx2_0_customerPortalOrderDetailsModelWF","ignoreSubContext":true,"name":"upsertCustomerPortalOrderDetailsData","description":"upsertCustomerPortalOrderDetailsData","inputVarMap":{"customerPortalOrderDetailsData":"customerPortalOrderDetails","operation":"operation"},"outputVarMap":{"data":"data"},"nodeType":"WORKFLOW"},"end":{"name":"end","description":"End","inputVarMap":{"customerResponseData":"customerResponseData"},"outputVarMap":{"customerResponseData":"customerResponseData"},"nodeType":"END"},"fetchEntityConfig":{"filter":"{$configScope} IN {@configScopeArray}","models":["EntityConfig"],"connectors":[{"exitPortType":"NextStep","nodeId":"processData"}],"columns":{"configKey":"EntityConfig.configKey","valueType":"EntityConfig.valueType","configScope":"EntityConfig.configScope","configValue":"EntityConfig.configValue"},"name":"fetchEntityConfig","description":"fetchEntityConfig","inputVarMap":{"configScopeArray":"configScopeArray"},"outputVarMap":{"data":"entityConfigData"},"nodeType":"QUERY"},"processCustomerPortalOrderDetails":{"connectors":[{"exitPortType":"NextStep","nodeId":"upsertCustomerPortalOrderDetailsData"}],"contextChangePermitted":true,"name":"processCustomerPortalOrderDetails","description":"processCustomerPortalOrderDetails","processRule":"{if (Array.isArray(contextVar.customerPortalOrderDetailsData) && contextVar.customerPortalOrderDetailsData.length > 0) { contextVar.customerPortalOrderDetailsData[0].zones = { ...contextVar.customerPortalOrderDetailsData[0].zones, ...contextVar.newZoneData }; contextVar.customerPortalOrderDetailsData[0].statusId = contextVar.confirmationNeededInPortal ? 'fscx2_0_userBookingUnconfirmed' : 'fscx2_0_additionalInformationSubmitted'; } else { contextVar.customerPortalOrderDetailsData = []; contextVar.customerPortalOrderDetailsData.push({ UID: contextVar.UID, zones: contextVar.zones, statusId: contextVar.confirmationNeededInPortal ? 'fscx2_0_userBookingUnconfirmed' : 'fscx2_0_additionalInformationSubmitted' }); } contextVar.customerResponseData = { 'responseTitle': 'Additional Information Successfully saved', 'responseMessage': 'Additional Information Successfully saved', 'status': true };}","nodeType":"PROCESS","jsEngine":"es6"},"workflowNodes":["start","logContextVar","fetchEntityConfig","processData","decisionNode","processCustomerPortalOrderDetails","upsertCustomerPortalOrderDetailsData","end"]}