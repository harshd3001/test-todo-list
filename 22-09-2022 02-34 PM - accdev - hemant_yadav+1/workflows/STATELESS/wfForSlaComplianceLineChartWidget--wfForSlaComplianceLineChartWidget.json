{"processWorkOrderData":{"connectors":[{"exitPortType":"NextStep","nodeId":"end"}],"contextChangePermitted":true,"name":"processWorkOrderData","description":"Processing data","processRule":"{ contextVar.finalArray = []; for(var i=0;i <contextVar.workOrderData.length;i++) { var slaMet = {}; var slaBreached = {}; slaMet.slaComplianceData = (parseFloat(contextVar.workOrderData[i].slaMet / contextVar.workOrderData[i].count)*100).toFixed(3); slaBreached.slaComplianceData = (parseFloat(contextVar.workOrderData[i].slaBreach / contextVar.workOrderData[i].count)*100).toFixed(3); slaMet.date = contextVar.workOrderData[i].CompletedDate; slaBreached.date = contextVar.workOrderData[i].CompletedDate; slaMet.name = 'slaMet'; slaBreached.name = 'slaBreached'; contextVar.finalArray.push(slaMet,slaBreached); } contextVar.count = contextVar.finalArray.length; }","id":"processWorkOrderDataId","nodeType":"PROCESS"},"workflowContext":{},"start":{"connectors":[{"exitPortType":"NextStep","nodeId":"queryWorkOrder1"}],"name":"start","description":"Start","id":"start","nodeType":"START"},"end":{"name":"end","description":"End","inputVarMap":{"finalArray":"finalArray"},"outputVarMap":{"finalArray":"finalArray"},"id":"end","nodeType":"END"},"workflowNodes":["start","queryWorkOrder1","processWorkOrderData","end"],"queryWorkOrder1":{"models":["workOrder"],"connectors":[{"exitPortType":"NextStep","nodeId":"processWorkOrderData"}],"columns":{"cd":"Date({$workOrder.completedDate})","statusId":"workOrder.statusId","slaBreach":"sum(if({$workOrder.completedDate} > {$workOrder.deadline}, 1,0))","Deadline":"DATE_FORMAT({$workOrder.deadline}, '%d-%m-%y')","slaMet":"sum(if({$workOrder.completedDate} <= {$workOrder.deadline}, 1,0))","count":"count({$workOrder.id})","CompletedDate":"DATE_FORMAT({$workOrder.completedDate}, '%d-%m-%y')"},"orderBy":"cd ASC","description":"queryWorkOrder1","inputVarMap":{},"groupBy":"cd","nodeType":"QUERY","filter":"{$workOrder.deadline} != '' AND {$workOrder.completedDate} != '' AND {$workOrder.statusId} = 'workOrderCompleted' AND (DATE({$workOrder.completedDate}) BETWEEN (CURRENT_DATE() - INTERVAL 1 Month) AND CURRENT_DATE()) ","name":"queryWorkOrder1","id":"queryWorkOrderId1","outputVarMap":{"data":"workOrderData"},"getCount":true}}